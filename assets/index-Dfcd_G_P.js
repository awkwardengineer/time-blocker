(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(l){if(l.ep)return;l.ep=!0;const f=a(l);fetch(l.href,f)}})();const af="production",$=!af.toLowerCase().startsWith("prod");var xu=Array.isArray,of=Array.prototype.indexOf,jo=Array.from,Mn=Object.defineProperty,er=Object.getOwnPropertyDescriptor,Tu=Object.getOwnPropertyDescriptors,sf=Object.prototype,uf=Array.prototype,zo=Object.getPrototypeOf,qs=Object.isExtensible;const qi=()=>{};function lf(e){for(var r=0;r<e.length;r++)e[r]()}function ku(){var e,r,a=new Promise((s,l)=>{e=s,r=l});return{promise:a,resolve:e,reject:r}}const it=2,Vo=4,Uo=8,cf=1<<24,vn=16,pn=32,or=64,fa=128,Gt=512,ft=1024,Dt=2048,yn=4096,It=8192,fn=16384,Ho=32768,wr=65536,Zi=1<<17,Du=1<<18,Ir=1<<19,ff=1<<20,Ln=32768,go=1<<21,da=1<<22,In=1<<23,dn=Symbol("$state"),df=Symbol("legacy props"),hf=Symbol(""),Au=Symbol("proxy path"),yr=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function vf(){if($){const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function Zs(){if($){const e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function pf(){if($){const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function yf(e){if($){const r=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function mf(){if($){const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function gf(e){if($){const r=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/effect_orphan")}function _f(){if($){const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function bf(e){if($){const r=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/props_invalid_value")}function wf(e){if($){const r=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Ef(){if($){const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function xf(){if($){const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Tf(){if($){const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function kf(){if($){const e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Su=1,Iu=2,Ou=4,Df=8,Af=16,Sf=1,If=4,Of=8,Cf=16,Pf=1,Rf=2,st=Symbol(),Mf=Symbol("filename"),Lf="http://www.w3.org/1999/xhtml";var Cu="font-weight: bold",Pu="font-weight: normal";function lo(e){$?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,Cu,Pu):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Nf(){$?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",Cu,Pu):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Ru(e){return e===this.v}function Mu(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function Lu(e){return!Mu(e,this.v)}let Kf=!1;function Jt(e,r){return e.label=r,Nu(e.v,r),e}function Nu(e,r){return e?.[Au]?.(r),e}function Ff(e){const r=new Error,a=Bf();return a.length===0?null:(a.unshift(`
`),Mn(r,"stack",{value:a.join(`
`)}),Mn(r,"name",{value:e}),r)}function Bf(){const e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const r=new Error().stack;if(Error.stackTraceLimit=e,!r)return[];const a=r.split(`
`),s=[];for(let l=0;l<a.length;l++){const f=a[l],h=f.replaceAll("\\","/");if(f.trim()!=="Error"){if(f.includes("validate_each_keys"))return[];h.includes("svelte/src/internal")||h.includes("node_modules/.vite")||s.push(f)}}return s}let xt=null;function Er(e){xt=e}let ei=null;function Qi(e){ei=e}let ui=null;function Qs(e){ui=e}function Bn(e,r=!1,a){xt={p:xt,i:!1,c:null,e:null,s:e,x:null,l:null},$&&(xt.function=a,ui=a)}function jn(e){var r=xt,a=r.e;if(a!==null){r.e=null;for(var s of a)Ju(s)}return r.i=!0,xt=r.p,$&&(ui=xt?.function??null),{}}function Ku(){return!0}let Jn=[];function Fu(){var e=Jn;Jn=[],lf(e)}function Or(e){if(Jn.length===0&&!Xr){var r=Jn;queueMicrotask(()=>{r===Jn&&Fu()})}Jn.push(e)}function jf(){for(;Jn.length>0;)Fu()}const _o=new WeakMap;function Bu(e){var r=Se;if(r===null)return Ee.f|=In,e;if($&&e instanceof Error&&!_o.has(e)&&_o.set(e,zf(e,r)),(r.f&Ho)===0){if((r.f&fa)===0)throw $&&!r.parent&&e instanceof Error&&ju(e),e;r.b.error(e)}else xr(e,r)}function xr(e,r){for(;r!==null;){if((r.f&fa)!==0)try{r.b.error(e);return}catch(a){e=a}r=r.parent}throw $&&e instanceof Error&&ju(e),e}function zf(e,r){const a=er(e,"message");if(!(a&&!a.configurable)){for(var s=qo?"  ":"	",l=`
${s}in ${r.fn?.name||"<unknown>"}`,f=r.ctx;f!==null;)l+=`
${s}in ${f.function?.[Mf].split("/").pop()}`,f=f.p;return{message:e.message+`
${l}
`,stack:e.stack?.split(`
`).filter(h=>!h.includes("svelte/src/internal")).join(`
`)}}}function ju(e){const r=_o.get(e);r&&(Mn(e,"message",{value:r.message}),Mn(e,"stack",{value:r.stack}))}const ji=new Set;let Ie=null,Hi=null,Ft=null,Lt=[],ha=null,bo=!1,Xr=!1;class an{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#u=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(r){Lt=[],Hi=null,this.apply();var a={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of r)this.#o(s,a);this.is_fork||this.#c(),this.is_deferred()?(this.#s(a.effects),this.#s(a.render_effects),this.#s(a.block_effects)):(Hi=this,Ie=null,Xs(a.render_effects),Xs(a.effects),Hi=null,this.#u?.resolve()),Ft=null}#o(r,a){r.f^=ft;for(var s=r.first;s!==null;){var l=s.f,f=(l&(pn|or))!==0,h=f&&(l&ft)!==0,y=h||(l&It)!==0||this.skipped_effects.has(s);if((s.f&fa)!==0&&s.b?.is_pending()&&(a={parent:a,effect:s,effects:[],render_effects:[],block_effects:[]}),!y&&s.fn!==null){f?s.f^=ft:(l&Vo)!==0?a.effects.push(s):ci(s)&&((s.f&vn)!==0&&a.block_effects.push(s),ii(s));var m=s.first;if(m!==null){s=m;continue}}var T=s.parent;for(s=s.next;s===null&&T!==null;)T===a.effect&&(this.#s(a.effects),this.#s(a.render_effects),this.#s(a.block_effects),a=a.parent),s=T.next,T=T.parent}}#s(r){for(const a of r)((a.f&Dt)!==0?this.#a:this.#i).push(a),this.#l(a.deps),dt(a,ft)}#l(r){if(r!==null)for(const a of r)(a.f&it)===0||(a.f&Ln)===0||(a.f^=Ln,this.#l(a.deps))}capture(r,a){this.previous.has(r)||this.previous.set(r,a),(r.f&In)===0&&(this.current.set(r,r.v),Ft?.set(r,r.v))}activate(){Ie=this,this.apply()}deactivate(){Ie===this&&(Ie=null,Ft=null)}flush(){if(this.activate(),Lt.length>0){if(zu(),Ie!==null&&Ie!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const r of this.#t)r(this);this.#t.clear()}#c(){if(this.#n===0){for(const r of this.#e)r();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(ji.size>1){this.previous.clear();var r=Ft,a=!0,s={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const f of ji){if(f===this){a=!1;continue}const h=[];for(const[m,T]of this.current){if(f.current.has(m))if(a&&T!==f.current.get(m))f.current.set(m,T);else continue;h.push(m)}if(h.length===0)continue;const y=[...f.current.keys()].filter(m=>!this.current.has(m));if(y.length>0){var l=Lt;Lt=[];const m=new Set,T=new Map;for(const w of h)Vu(w,y,m,T);if(Lt.length>0){Ie=f,f.apply();for(const w of Lt)f.#o(w,s);f.deactivate()}Lt=l}}Ie=null,Ft=r}this.committed=!0,ji.delete(this)}increment(r){this.#r+=1,r&&(this.#n+=1)}decrement(r){this.#r-=1,r&&(this.#n-=1),this.revive()}revive(){for(const r of this.#a)dt(r,Dt),rr(r);for(const r of this.#i)dt(r,yn),rr(r);this.#a=[],this.#i=[],this.flush()}oncommit(r){this.#e.add(r)}ondiscard(r){this.#t.add(r)}settled(){return(this.#u??=ku()).promise}static ensure(){if(Ie===null){const r=Ie=new an;ji.add(Ie),Xr||an.enqueue(()=>{Ie===r&&r.flush()})}return Ie}static enqueue(r){Or(r)}apply(){}}function Vf(e){var r=Xr;Xr=!0;try{for(var a;;){if(jf(),Lt.length===0&&(Ie?.flush(),Lt.length===0))return ha=null,a;zu()}}finally{Xr=r}}function zu(){var e=Cn;bo=!0;var r=$?new Set:null;try{var a=0;for(Ji(!0);Lt.length>0;){var s=an.ensure();if(a++>1e3){if($){var l=new Map;for(const h of s.current.keys())for(const[y,m]of h.updated??[]){var f=l.get(y);f||(f={error:m.error,count:0},l.set(y,f)),f.count+=m.count}for(const h of l.values())h.error&&console.error(h.error)}Uf()}if(s.process(Lt),On.clear(),$)for(const h of s.current.keys())r.add(h)}}finally{if(bo=!1,Ji(e),ha=null,$)for(const h of r)h.updated=null}}function Uf(){try{_f()}catch(e){$&&Mn(e,"stack",{value:""}),xr(e,ha)}}let cn=null;function Xs(e){var r=e.length;if(r!==0){for(var a=0;a<r;){var s=e[a++];if((s.f&(fn|It))===0&&ci(s)&&(cn=new Set,ii(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?rl(s):s.fn=null),cn?.size>0)){On.clear();for(const l of cn){if((l.f&(fn|It))!==0)continue;const f=[l];let h=l.parent;for(;h!==null;)cn.has(h)&&(cn.delete(h),f.push(h)),h=h.parent;for(let y=f.length-1;y>=0;y--){const m=f[y];(m.f&(fn|It))===0&&ii(m)}}cn.clear()}}cn=null}}function Vu(e,r,a,s){if(!a.has(e)&&(a.add(e),e.reactions!==null))for(const l of e.reactions){const f=l.f;(f&it)!==0?Vu(l,r,a,s):(f&(da|vn))!==0&&(f&Dt)===0&&Uu(l,r,s)&&(dt(l,Dt),rr(l))}}function Uu(e,r,a){const s=a.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const l of e.deps){if(r.includes(l))return!0;if((l.f&it)!==0&&Uu(l,r,a))return a.set(l,!0),!0}return a.set(e,!1),!1}function rr(e){for(var r=ha=e;r.parent!==null;){r=r.parent;var a=r.f;if(bo&&r===Se&&(a&vn)!==0&&(a&Du)===0)return;if((a&(or|pn))!==0){if((a&ft)===0)return;r.f^=ft}}Lt.push(r)}function Hf(e){let r=0,a=ir(0),s;return $&&Jt(a,"createSubscriber version"),()=>{ni()&&(D(a),ya(()=>(r===0&&(s=Cr(()=>e(()=>$r(a)))),r+=1,()=>{Or(()=>{r-=1,r===0&&(s?.(),s=void 0,$r(a))})})))}}var Wf=wr|Ir|fa;function Gf(e,r,a){new Yf(e,r,a)}class Yf{parent;#e=!1;#t;#r=null;#n;#u;#a;#i=null;#o=null;#s=null;#l=null;#c=null;#f=0;#h=0;#v=!1;#d=null;#_=Hf(()=>(this.#d=ir(this.#f),$&&Jt(this.#d,"$effect.pending()"),()=>{this.#d=null}));constructor(r,a,s){this.#t=r,this.#n=a,this.#u=s,this.parent=Se.b,this.#e=!!this.#n.pending,this.#a=Qo(()=>{Se.b=this;{var l=this.#m();try{this.#i=Nt(()=>s(l))}catch(f){this.error(f)}this.#h>0?this.#y():this.#e=!1}return()=>{this.#c?.remove()}},Wf)}#b(){try{this.#i=Nt(()=>this.#u(this.#t))}catch(r){this.error(r)}this.#e=!1}#w(){const r=this.#n.pending;r&&(this.#o=Nt(()=>r(this.#t)),an.enqueue(()=>{var a=this.#m();this.#i=this.#p(()=>(an.ensure(),Nt(()=>this.#u(a)))),this.#h>0?this.#y():(gr(this.#o,()=>{this.#o=null}),this.#e=!1)}))}#m(){var r=this.#t;return this.#e&&(this.#c=Nn(),this.#t.before(this.#c),r=this.#c),r}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(r){var a=Se,s=Ee,l=xt;Wt(this.#a),Et(this.#a),Er(this.#a.ctx);try{return r()}catch(f){return Bu(f),null}finally{Wt(a),Et(s),Er(l)}}#y(){const r=this.#n.pending;this.#i!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#c),ol(this.#i,this.#l)),this.#o===null&&(this.#o=Nt(()=>r(this.#t)))}#g(r){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(r);return}this.#h+=r,this.#h===0&&(this.#e=!1,this.#o&&gr(this.#o,()=>{this.#o=null}),this.#l&&(this.#t.before(this.#l),this.#l=null))}update_pending_count(r){this.#g(r),this.#f+=r,this.#d&&kr(this.#d,this.#f)}get_effect_pending(){return this.#_(),D(this.#d)}error(r){var a=this.#n.onerror;let s=this.#n.failed;if(this.#v||!a&&!s)throw r;this.#i&&(Tt(this.#i),this.#i=null),this.#o&&(Tt(this.#o),this.#o=null),this.#s&&(Tt(this.#s),this.#s=null);var l=!1,f=!1;const h=()=>{if(l){Nf();return}l=!0,f&&kf(),an.ensure(),this.#f=0,this.#s!==null&&gr(this.#s,()=>{this.#s=null}),this.#e=this.has_pending_snippet(),this.#i=this.#p(()=>(this.#v=!1,Nt(()=>this.#u(this.#t)))),this.#h>0?this.#y():this.#e=!1};var y=Ee;try{Et(null),f=!0,a?.(r,h),f=!1}catch(m){xr(m,this.#a&&this.#a.parent)}finally{Et(y)}s&&Or(()=>{this.#s=this.#p(()=>{an.ensure(),this.#v=!0;try{return Nt(()=>{s(this.#t,()=>r,()=>h)})}catch(m){return xr(m,this.#a.parent),null}finally{this.#v=!1}})})}}function Hu(e,r){return r}function qf(e,r,a){for(var s=[],l=r.length,f=0;f<l;f++)Xo(r[f].e,s,!0);il(s,()=>{var h=s.length===0&&a!==null;if(h){var y=a,m=y.parentNode;ud(m),m.append(y),e.items.clear(),en(e,r[0].prev,r[l-1].next)}for(var T=0;T<l;T++){var w=r[T];h||(e.items.delete(w.k),en(e,w.prev,w.next)),Tt(w.e,!h)}e.first===r[0]&&(e.first=r[0].prev)})}function Wo(e,r,a,s,l,f=null){var h=e,y=new Map,m=null,T=(r&Ou)!==0,w=(r&Su)!==0,S=(r&Iu)!==0;if(T){var _=e;h=_.appendChild(Nn())}var k=null,I=Wu(()=>{var te=a();return xu(te)?te:te==null?[]:jo(te)}),M,P=!0;function z(){Zf(re,M,h,r,s),k!==null&&(M.length===0?(k.fragment?(h.before(k.fragment),k.fragment=null):$o(k.effect),Q.first=k.effect):gr(k.effect,()=>{k=null}))}var Q=Qo(()=>{M=D(I);for(var te=M.length,oe=new Set,se=Ie,he=null,ve=$u(),pe=0;pe<te;pe+=1){var ce=M[pe],_e=s(ce,pe),xe=P?null:y.get(_e);xe?(w&&kr(xe.v,ce),S?kr(xe.i,pe):xe.i=pe,ve&&se.skipped_effects.delete(xe.e)):(xe=Qf(P?h:null,he,ce,_e,pe,l,r,a),P&&(xe.o=!0,he===null?m=xe:he.next=xe,he=xe),y.set(_e,xe)),oe.add(_e)}if(te===0&&f&&!k)if(P)k={fragment:null,effect:Nt(()=>f(h))};else{var We=document.createDocumentFragment(),Xe=Nn();We.append(Xe),k={fragment:We,effect:Nt(()=>f(Xe))}}if(!P)if(ve){for(const[yt,ht]of y)oe.has(yt)||se.skipped_effects.add(ht.e);se.oncommit(z),se.ondiscard(()=>{})}else z();D(I)}),re={effect:Q,items:y,first:m};P=!1}function Zf(e,r,a,s,l){var f=(s&Df)!==0,h=r.length,y=e.items,m=e.first,T,w=null,S,_=[],k=[],I,M,P,z;if(f)for(z=0;z<h;z+=1)I=r[z],M=l(I,z),P=y.get(M),P.o&&(P.a?.measure(),(S??=new Set).add(P));for(z=0;z<h;z+=1){if(I=r[z],M=l(I,z),P=y.get(M),e.first??=P,!P.o){P.o=!0;var Q=w?w.next:m;en(e,w,P),en(e,P,Q),co(P,Q,a),w=P,_=[],k=[],m=w.next;continue}if((P.e.f&It)!==0&&($o(P.e),f&&(P.a?.unfix(),(S??=new Set).delete(P))),P!==m){if(T!==void 0&&T.has(P)){if(_.length<k.length){var re=k[0],te;w=re.prev;var oe=_[0],se=_[_.length-1];for(te=0;te<_.length;te+=1)co(_[te],re,a);for(te=0;te<k.length;te+=1)T.delete(k[te]);en(e,oe.prev,se.next),en(e,w,oe),en(e,se,re),m=re,w=se,z-=1,_=[],k=[]}else T.delete(P),co(P,m,a),en(e,P.prev,P.next),en(e,P,w===null?e.first:w.next),en(e,w,P),w=P;continue}for(_=[],k=[];m!==null&&m.k!==M;)(m.e.f&It)===0&&(T??=new Set).add(m),k.push(m),m=m.next;if(m===null)continue;P=m}_.push(P),w=P,m=P.next}if(m!==null||T!==void 0){for(var he=T===void 0?[]:jo(T);m!==null;)(m.e.f&It)===0&&he.push(m),m=m.next;var ve=he.length;if(ve>0){var pe=(s&Ou)!==0&&h===0?a:null;if(f){for(z=0;z<ve;z+=1)he[z].a?.measure();for(z=0;z<ve;z+=1)he[z].a?.fix()}qf(e,he,pe)}}f&&Or(()=>{if(S!==void 0)for(P of S)P.a?.apply()})}function Qf(e,r,a,s,l,f,h,y){var m=(h&Su)!==0,T=(h&Af)===0,w=m?T?Yu(a,!1,!1):ir(a):a,S=(h&Iu)===0?l:ir(l);$&&m&&(w.trace=()=>{var I=typeof S=="number"?l:S.v;y()[I]});var _={i:S,v:w,k:s,a:null,e:null,o:!1,prev:r,next:null};try{if(e===null){var k=document.createDocumentFragment();k.append(e=Nn())}return _.e=Nt(()=>f(e,w,S,y)),r!==null&&(r.next=_),_}finally{}}function co(e,r,a){for(var s=e.next?e.next.e.nodes_start:a,l=r?r.e.nodes_start:a,f=e.e.nodes_start;f!==null&&f!==s;){var h=li(f);l.before(f),f=h}}function en(e,r,a){r===null?(e.first=a,e.effect.first=a&&a.e):(r.e===e.effect.last&&a!==null&&(e.effect.last=a.e),r.e.next&&(r.e.next.prev=null),r.next=a,r.e.next=a&&a.e),a===null?e.effect.last=r&&r.e:(a.e===e.effect.last&&r===null&&(e.effect.last=a.e.prev),a.e.prev&&(a.e.prev.next=null),a.prev=r,a.e.prev=r&&r.e)}function Xf(e,r,a,s){const l=va;if(a.length===0&&e.length===0){s(r.map(l));return}var f=Ie,h=Se,y=$f();function m(){Promise.all(a.map(T=>ed(T))).then(T=>{y();try{s([...r.map(l),...T])}catch(w){(h.f&fn)===0&&xr(w,h)}f?.deactivate(),Xi()}).catch(T=>{xr(T,h)})}e.length>0?Promise.all(e).then(()=>{y();try{return m()}finally{f?.deactivate(),Xi()}}):m()}function $f(){var e=Se,r=Ee,a=xt,s=Ie;if($)var l=ei;return function(h=!0){Wt(e),Et(r),Er(a),h&&s?.activate(),$&&Qi(l)}}function Xi(){Wt(null),Et(null),Er(null),$&&Qi(null)}const Jf=new Set;function va(e){var r=it|Dt,a=Ee!==null&&(Ee.f&it)!==0?Ee:null;return Se!==null&&(Se.f|=Ir),{ctx:xt,deps:null,effects:null,equals:Ru,f:r,fn:e,reactions:null,rv:0,v:st,wv:0,parent:a??Se,ac:null}}function ed(e,r){let a=Se;a===null&&vf();var s=a.b,l=void 0,f=ir(st),h=!Ee,y=new Map;return vd(()=>{var m=ku();l=m.promise;try{Promise.resolve(e()).then(m.resolve,m.reject).then(()=>{T===Ie&&T.committed&&T.deactivate(),Xi()})}catch(_){m.reject(_),Xi()}var T=Ie;if(h){var w=!s.is_pending();s.update_pending_count(1),T.increment(w),y.get(T)?.reject(yr),y.delete(T),y.set(T,m)}const S=(_,k=void 0)=>{if(T.activate(),k)k!==yr&&(f.f|=In,kr(f,k));else{(f.f&In)!==0&&(f.f^=In),kr(f,_);for(const[I,M]of y){if(y.delete(I),I===T)break;M.reject(yr)}}h&&(s.update_pending_count(-1),T.decrement(w))};m.promise.then(S,_=>S(null,_||"unknown"))}),Zo(()=>{for(const m of y.values())m.reject(yr)}),$&&(f.f|=da),new Promise(m=>{function T(w){function S(){w===l?m(f):T(l)}w.then(S,S)}T(l)})}function ti(e){const r=va(e);return sl(r),r}function Wu(e){const r=va(e);return r.equals=Lu,r}function wo(e){var r=e.effects;if(r!==null){e.effects=null;for(var a=0;a<r.length;a+=1)Tt(r[a])}}let fo=[];function td(e){for(var r=e.parent;r!==null;){if((r.f&it)===0)return(r.f&fn)===0?r:null;r=r.parent}return null}function Go(e){var r,a=Se;if(Wt(td(e)),$){let s=Tr;$s(new Set);try{fo.includes(e)&&pf(),fo.push(e),e.f&=~Ln,wo(e),r=Eo(e)}finally{Wt(a),$s(s),fo.pop()}}else try{e.f&=~Ln,wo(e),r=Eo(e)}finally{Wt(a)}return r}function Gu(e){var r=Go(e);if(e.equals(r)||(Ie?.is_fork||(e.v=r),e.wv=ll()),!sr)if(Ft!==null)(ni()||Ie?.is_fork)&&Ft.set(e,r);else{var a=(e.f&Gt)===0?yn:ft;dt(e,a)}}let Tr=new Set;const On=new Map;function $s(e){Tr=e}let Yo=!1;function nd(){Yo=!0}function ir(e,r){var a={f:0,v:e,reactions:null,equals:Ru,rv:0,wv:0};return a}function de(e,r){const a=ir(e);return sl(a),a}function Yu(e,r=!1,a=!0){const s=ir(e);return r||(s.equals=Lu),s}function L(e,r,a=!1){Ee!==null&&(!sn||(Ee.f&Zi)!==0)&&Ku()&&(Ee.f&(it|vn|da|Zi))!==0&&!hn?.includes(e)&&Tf();let s=a?on(r):r;return $&&Nu(s,e.label),kr(e,s)}function kr(e,r){if(!e.equals(r)){var a=e.v;sr?On.set(e,r):On.set(e,a),e.v=r;var s=an.ensure();if(s.capture(e,a),$){if(Se!==null){e.updated??=new Map;const l=(e.updated.get("")?.count??0)+1;if(e.updated.set("",{error:null,count:l}),l>5){const f=Ff("updated at");if(f!==null){let h=e.updated.get(f.stack);h||(h={error:f,count:0},e.updated.set(f.stack,h)),h.count++}}}Se!==null&&(e.set_during_effect=!0)}(e.f&it)!==0&&((e.f&Dt)!==0&&Go(e),dt(e,(e.f&Gt)!==0?ft:yn)),e.wv=ll(),Zu(e,Dt),Se!==null&&(Se.f&ft)!==0&&(Se.f&(pn|or))===0&&(Rt===null?md([e]):Rt.push(e)),!s.is_fork&&Tr.size>0&&!Yo&&qu()}return r}function qu(){Yo=!1;var e=Cn;Ji(!0);const r=Array.from(Tr);try{for(const a of r)(a.f&ft)!==0&&dt(a,yn),ci(a)&&ii(a)}finally{Ji(e)}Tr.clear()}function $r(e){L(e,e.v+1)}function Zu(e,r){var a=e.reactions;if(a!==null)for(var s=a.length,l=0;l<s;l++){var f=a[l],h=f.f;if($&&(h&Zi)!==0){Tr.add(f);continue}var y=(h&Dt)===0;if(y&&dt(f,r),(h&it)!==0){var m=f;Ft?.delete(m),(h&Ln)===0&&(h&Gt&&(f.f|=Ln),Zu(m,yn))}else y&&((h&vn)!==0&&cn!==null&&cn.add(f),rr(f))}}const rd=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function on(e){if(typeof e!="object"||e===null||dn in e)return e;const r=zo(e);if(r!==sf&&r!==uf)return e;var a=new Map,s=xu(e),l=de(0),f=tr,h=w=>{if(tr===f)return w();var S=Ee,_=tr;Et(null),nu(f);var k=w();return Et(S),nu(_),k};s&&(a.set("length",de(e.length)),$&&(e=ad(e)));var y="";let m=!1;function T(w){if(!m){m=!0,y=w,Jt(l,`${y} version`);for(const[S,_]of a)Jt(_,Qn(y,S));m=!1}}return new Proxy(e,{defineProperty(w,S,_){(!("value"in _)||_.configurable===!1||_.enumerable===!1||_.writable===!1)&&Ef();var k=a.get(S);return k===void 0?k=h(()=>{var I=de(_.value);return a.set(S,I),$&&typeof S=="string"&&Jt(I,Qn(y,S)),I}):L(k,_.value,!0),!0},deleteProperty(w,S){var _=a.get(S);if(_===void 0){if(S in w){const k=h(()=>de(st));a.set(S,k),$r(l),$&&Jt(k,Qn(y,S))}}else L(_,st),$r(l);return!0},get(w,S,_){if(S===dn)return e;if($&&S===Au)return T;var k=a.get(S),I=S in w;if(k===void 0&&(!I||er(w,S)?.writable)&&(k=h(()=>{var P=on(I?w[S]:st),z=de(P);return $&&Jt(z,Qn(y,S)),z}),a.set(S,k)),k!==void 0){var M=D(k);return M===st?void 0:M}return Reflect.get(w,S,_)},getOwnPropertyDescriptor(w,S){var _=Reflect.getOwnPropertyDescriptor(w,S);if(_&&"value"in _){var k=a.get(S);k&&(_.value=D(k))}else if(_===void 0){var I=a.get(S),M=I?.v;if(I!==void 0&&M!==st)return{enumerable:!0,configurable:!0,value:M,writable:!0}}return _},has(w,S){if(S===dn)return!0;var _=a.get(S),k=_!==void 0&&_.v!==st||Reflect.has(w,S);if(_!==void 0||Se!==null&&(!k||er(w,S)?.writable)){_===void 0&&(_=h(()=>{var M=k?on(w[S]):st,P=de(M);return $&&Jt(P,Qn(y,S)),P}),a.set(S,_));var I=D(_);if(I===st)return!1}return k},set(w,S,_,k){var I=a.get(S),M=S in w;if(s&&S==="length")for(var P=_;P<I.v;P+=1){var z=a.get(P+"");z!==void 0?L(z,st):P in w&&(z=h(()=>de(st)),a.set(P+"",z),$&&Jt(z,Qn(y,P)))}if(I===void 0)(!M||er(w,S)?.writable)&&(I=h(()=>de(void 0)),$&&Jt(I,Qn(y,S)),L(I,on(_)),a.set(S,I));else{M=I.v!==st;var Q=h(()=>on(_));L(I,Q)}var re=Reflect.getOwnPropertyDescriptor(w,S);if(re?.set&&re.set.call(k,_),!M){if(s&&typeof S=="string"){var te=a.get("length"),oe=Number(S);Number.isInteger(oe)&&oe>=te.v&&L(te,oe+1)}$r(l)}return!0},ownKeys(w){D(l);var S=Reflect.ownKeys(w).filter(I=>{var M=a.get(I);return M===void 0||M.v!==st});for(var[_,k]of a)k.v!==st&&!(_ in w)&&S.push(_);return S},setPrototypeOf(){xf()}})}function Qn(e,r){return typeof r=="symbol"?`${e}[Symbol(${r.description??""})]`:rd.test(r)?`${e}.${r}`:/^\d+$/.test(r)?`${e}[${r}]`:`${e}['${r}']`}function ho(e){try{if(e!==null&&typeof e=="object"&&dn in e)return e[dn]}catch{}return e}const id=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function ad(e){return new Proxy(e,{get(r,a,s){var l=Reflect.get(r,a,s);return id.has(a)?function(...f){nd();var h=l.apply(this,f);return qu(),h}:l}})}function od(){const e=Array.prototype,r=Array.__svelte_cleanup;r&&r();const{indexOf:a,lastIndexOf:s,includes:l}=e;e.indexOf=function(f,h){const y=a.call(this,f,h);if(y===-1){for(let m=h??0;m<this.length;m+=1)if(ho(this[m])===f){lo("array.indexOf(...)");break}}return y},e.lastIndexOf=function(f,h){const y=s.call(this,f,h??this.length-1);if(y===-1){for(let m=0;m<=(h??this.length-1);m+=1)if(ho(this[m])===f){lo("array.lastIndexOf(...)");break}}return y},e.includes=function(f,h){const y=l.call(this,f,h);if(!y){for(let m=0;m<this.length;m+=1)if(ho(this[m])===f){lo("array.includes(...)");break}}return y},Array.__svelte_cleanup=()=>{e.indexOf=a,e.lastIndexOf=s,e.includes=l}}var Js,qo,Qu,Xu;function sd(){if(Js===void 0){Js=window,qo=/Firefox/.test(navigator.userAgent);var e=Element.prototype,r=Node.prototype,a=Text.prototype;Qu=er(r,"firstChild").get,Xu=er(r,"nextSibling").get,qs(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),qs(a)&&(a.__t=void 0),$&&(e.__svelte_meta=null,od())}}function Nn(e=""){return document.createTextNode(e)}function $i(e){return Qu.call(e)}function li(e){return Xu.call(e)}function me(e,r){return $i(e)}function Ot(e,r=!1){{var a=$i(e);return a instanceof Comment&&a.data===""?li(a):a}}function ge(e,r=1,a=!1){let s=e;for(;r--;)s=li(s);return s}function ud(e){e.textContent=""}function $u(){return!1}let eu=!1;function ld(){eu||(eu=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const r of e.target.elements)r.__on_r?.()})},{capture:!0}))}function pa(e){var r=Ee,a=Se;Et(null),Wt(null);try{return e()}finally{Et(r),Wt(a)}}function cd(e,r,a,s=a){e.addEventListener(r,()=>pa(a));const l=e.__on_r;l?e.__on_r=()=>{l(),s(!0)}:e.__on_r=()=>s(!0),ld()}function fd(e){Se===null&&(Ee===null&&gf(e),mf()),sr&&yf(e)}function dd(e,r){var a=r.last;a===null?r.last=r.first=e:(a.next=e,e.prev=a,r.last=e)}function mn(e,r,a){var s=Se;if($)for(;s!==null&&(s.f&Zi)!==0;)s=s.parent;s!==null&&(s.f&It)!==0&&(e|=It);var l={ctx:xt,deps:null,nodes_start:null,nodes_end:null,f:e|Dt|Gt,first:null,fn:r,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if($&&(l.component_function=ui),a)try{ii(l),l.f|=Ho}catch(y){throw Tt(l),y}else r!==null&&rr(l);var f=l;if(a&&f.deps===null&&f.teardown===null&&f.nodes_start===null&&f.first===f.last&&(f.f&Ir)===0&&(f=f.first,(e&vn)!==0&&(e&wr)!==0&&f!==null&&(f.f|=wr)),f!==null&&(f.parent=s,s!==null&&dd(f,s),Ee!==null&&(Ee.f&it)!==0&&(e&or)===0)){var h=Ee;(h.effects??=[]).push(f)}return l}function ni(){return Ee!==null&&!sn}function Zo(e){const r=mn(Uo,null,!1);return dt(r,ft),r.teardown=e,r}function Ze(e){fd("$effect"),$&&Mn(e,"name",{value:"$effect"});var r=Se.f,a=!Ee&&(r&pn)!==0&&(r&Ho)===0;if(a){var s=xt;(s.e??=[]).push(e)}else return Ju(e)}function Ju(e){return mn(Vo|ff,e,!1)}function hd(e){an.ensure();const r=mn(or|Ir,e,!0);return(a={})=>new Promise(s=>{a.outro?gr(r,()=>{Tt(r),s(void 0)}):(Tt(r),s(void 0))})}function el(e){return mn(Vo,e,!1)}function vd(e){return mn(da|Ir,e,!0)}function ya(e,r=0){return mn(Uo|r,e,!0)}function Ht(e,r=[],a=[],s=[]){Xf(s,r,a,l=>{mn(Uo,()=>e(...l.map(D)),!0)})}function Qo(e,r=0){var a=mn(vn|r,e,!0);return $&&(a.dev_stack=ei),a}function Nt(e){return mn(pn|Ir,e,!0)}function tl(e){var r=e.teardown;if(r!==null){const a=sr,s=Ee;tu(!0),Et(null);try{r.call(null)}finally{tu(a),Et(s)}}}function nl(e,r=!1){var a=e.first;for(e.first=e.last=null;a!==null;){const l=a.ac;l!==null&&pa(()=>{l.abort(yr)});var s=a.next;(a.f&or)!==0?a.parent=null:Tt(a,r),a=s}}function pd(e){for(var r=e.first;r!==null;){var a=r.next;(r.f&pn)===0&&Tt(r),r=a}}function Tt(e,r=!0){var a=!1;(r||(e.f&Du)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(yd(e.nodes_start,e.nodes_end),a=!0),nl(e,r&&!a),ea(e,0),dt(e,fn);var s=e.transitions;if(s!==null)for(const f of s)f.stop();tl(e);var l=e.parent;l!==null&&l.first!==null&&rl(e),$&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function yd(e,r){for(;e!==null;){var a=e===r?null:li(e);e.remove(),e=a}}function rl(e){var r=e.parent,a=e.prev,s=e.next;a!==null&&(a.next=s),s!==null&&(s.prev=a),r!==null&&(r.first===e&&(r.first=s),r.last===e&&(r.last=a))}function gr(e,r,a=!0){var s=[];Xo(e,s,!0),il(s,()=>{a&&Tt(e),r&&r()})}function il(e,r){var a=e.length;if(a>0){var s=()=>--a||r();for(var l of e)l.out(s)}else r()}function Xo(e,r,a){if((e.f&It)===0){if(e.f^=It,e.transitions!==null)for(const h of e.transitions)(h.is_global||a)&&r.push(h);for(var s=e.first;s!==null;){var l=s.next,f=(s.f&wr)!==0||(s.f&pn)!==0&&(e.f&vn)!==0;Xo(s,r,f?a:!1),s=l}}}function $o(e){al(e,!0)}function al(e,r){if((e.f&It)!==0){e.f^=It,(e.f&ft)===0&&(dt(e,Dt),rr(e));for(var a=e.first;a!==null;){var s=a.next,l=(a.f&wr)!==0||(a.f&pn)!==0;al(a,l?r:!1),a=s}if(e.transitions!==null)for(const f of e.transitions)(f.is_global||r)&&f.in()}}function ol(e,r){for(var a=e.nodes_start,s=e.nodes_end;a!==null;){var l=a===s?null:li(a);r.append(a),a=l}}let Cn=!1;function Ji(e){Cn=e}let sr=!1;function tu(e){sr=e}let Ee=null,sn=!1;function Et(e){Ee=e}let Se=null;function Wt(e){Se=e}let hn=null;function sl(e){Ee!==null&&(hn===null?hn=[e]:hn.push(e))}let vt=null,St=0,Rt=null;function md(e){Rt=e}let ul=1,ri=0,tr=ri;function nu(e){tr=e}function ll(){return++ul}function ci(e){var r=e.f;if((r&Dt)!==0)return!0;if(r&it&&(e.f&=~Ln),(r&yn)!==0){var a=e.deps;if(a!==null)for(var s=a.length,l=0;l<s;l++){var f=a[l];if(ci(f)&&Gu(f),f.wv>e.wv)return!0}(r&Gt)!==0&&Ft===null&&dt(e,ft)}return!1}function cl(e,r,a=!0){var s=e.reactions;if(s!==null&&!hn?.includes(e))for(var l=0;l<s.length;l++){var f=s[l];(f.f&it)!==0?cl(f,r,!1):r===f&&(a?dt(f,Dt):(f.f&ft)!==0&&dt(f,yn),rr(f))}}function Eo(e){var r=vt,a=St,s=Rt,l=Ee,f=hn,h=xt,y=sn,m=tr,T=e.f;vt=null,St=0,Rt=null,Ee=(T&(pn|or))===0?e:null,hn=null,Er(e.ctx),sn=!1,tr=++ri,e.ac!==null&&(pa(()=>{e.ac.abort(yr)}),e.ac=null);try{e.f|=go;var w=e.fn,S=w(),_=e.deps;if(vt!==null){var k;if(ea(e,St),_!==null&&St>0)for(_.length=St+vt.length,k=0;k<vt.length;k++)_[St+k]=vt[k];else e.deps=_=vt;if(Cn&&ni()&&(e.f&Gt)!==0)for(k=St;k<_.length;k++)(_[k].reactions??=[]).push(e)}else _!==null&&St<_.length&&(ea(e,St),_.length=St);if(Ku()&&Rt!==null&&!sn&&_!==null&&(e.f&(it|yn|Dt))===0)for(k=0;k<Rt.length;k++)cl(Rt[k],e);return l!==null&&l!==e&&(ri++,Rt!==null&&(s===null?s=Rt:s.push(...Rt))),(e.f&In)!==0&&(e.f^=In),S}catch(I){return Bu(I)}finally{e.f^=go,vt=r,St=a,Rt=s,Ee=l,hn=f,Er(h),sn=y,tr=m}}function gd(e,r){let a=r.reactions;if(a!==null){var s=of.call(a,e);if(s!==-1){var l=a.length-1;l===0?a=r.reactions=null:(a[s]=a[l],a.pop())}}a===null&&(r.f&it)!==0&&(vt===null||!vt.includes(r))&&(dt(r,yn),(r.f&Gt)!==0&&(r.f^=Gt,r.f&=~Ln),wo(r),ea(r,0))}function ea(e,r){var a=e.deps;if(a!==null)for(var s=r;s<a.length;s++)gd(e,a[s])}function ii(e){var r=e.f;if((r&fn)===0){dt(e,ft);var a=Se,s=Cn;if(Se=e,Cn=!0,$){var l=ui;Qs(e.component_function);var f=ei;Qi(e.dev_stack??ei)}try{(r&(vn|cf))!==0?pd(e):nl(e),tl(e);var h=Eo(e);e.teardown=typeof h=="function"?h:null,e.wv=ul;var y;$&&Kf&&(e.f&Dt)!==0&&e.deps}finally{Cn=s,Se=a,$&&(Qs(l),Qi(f))}}}async function Jo(){await Promise.resolve(),Vf()}function D(e){var r=e.f,a=(r&it)!==0;if(Ee!==null&&!sn){var s=Se!==null&&(Se.f&fn)!==0;if(!s&&!hn?.includes(e)){var l=Ee.deps;if((Ee.f&go)!==0)e.rv<ri&&(e.rv=ri,vt===null&&l!==null&&l[St]===e?St++:vt===null?vt=[e]:vt.includes(e)||vt.push(e));else{(Ee.deps??=[]).push(e);var f=e.reactions;f===null?e.reactions=[Ee]:f.includes(Ee)||f.push(Ee)}}}if($&&Jf.delete(e),sr){if(On.has(e))return On.get(e);if(a){var h=e,y=h.v;return((h.f&ft)===0&&h.reactions!==null||dl(h))&&(y=Go(h)),On.set(h,y),y}}else a&&(!Ft?.has(e)||Ie?.is_fork&&!ni())&&(h=e,ci(h)&&Gu(h),Cn&&ni()&&(h.f&Gt)===0&&fl(h));if(Ft?.has(e))return Ft.get(e);if((e.f&In)!==0)throw e.v;return e.v}function fl(e){if(e.deps!==null){e.f^=Gt;for(const r of e.deps)(r.reactions??=[]).push(e),(r.f&it)!==0&&(r.f&Gt)===0&&fl(r)}}function dl(e){if(e.v===st)return!0;if(e.deps===null)return!1;for(const r of e.deps)if(On.has(r)||(r.f&it)!==0&&dl(r))return!0;return!1}function Cr(e){var r=sn;try{return sn=!0,e()}finally{sn=r}}const _d=-7169;function dt(e,r){e.f=e.f&_d|r}function bd(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(dn in e)xo(e);else if(!Array.isArray(e))for(let r in e){const a=e[r];typeof a=="object"&&a&&dn in a&&xo(a)}}}function xo(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let s in e)try{xo(e[s],r)}catch{}const a=zo(e);if(a!==Object.prototype&&a!==Array.prototype&&a!==Map.prototype&&a!==Set.prototype&&a!==Date.prototype){const s=Tu(a);for(let l in s){const f=s[l].get;if(f)try{f.call(e)}catch{}}}}}const wd=["touchstart","touchmove"];function Ed(e){return wd.includes(e)}const hl=new Set,To=new Set;function xd(e,r,a,s={}){function l(f){if(s.capture||Zr.call(r,f),!f.cancelBubble)return pa(()=>a?.call(this,f))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Or(()=>{r.addEventListener(e,l,s)}):r.addEventListener(e,l,s),l}function ru(e,r,a,s,l){var f={capture:s,passive:l},h=xd(e,r,a,f);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&Zo(()=>{r.removeEventListener(e,h,f)})}function ur(e){for(var r=0;r<e.length;r++)hl.add(e[r]);for(var a of To)a(e)}let iu=null;function Zr(e){var r=this,a=r.ownerDocument,s=e.type,l=e.composedPath?.()||[],f=l[0]||e.target;iu=e;var h=0,y=iu===e&&e.__root;if(y){var m=l.indexOf(y);if(m!==-1&&(r===document||r===window)){e.__root=r;return}var T=l.indexOf(r);if(T===-1)return;m<=T&&(h=m)}if(f=l[h]||e.target,f!==r){Mn(e,"currentTarget",{configurable:!0,get(){return f||a}});var w=Ee,S=Se;Et(null),Wt(null);try{for(var _,k=[];f!==null;){var I=f.assignedSlot||f.parentNode||f.host||null;try{var M=f["__"+s];M!=null&&(!f.disabled||e.target===f)&&M.call(f,e)}catch(P){_?k.push(P):_=P}if(e.cancelBubble||I===r||I===null)break;f=I}if(_){for(let P of k)queueMicrotask(()=>{throw P});throw _}}finally{e.__root=r,delete e.currentTarget,Et(w),Wt(S)}}}function Td(e){var r=document.createElement("template");return r.innerHTML=e.replaceAll("<!>","<!---->"),r.content}function ko(e,r){var a=Se;a.nodes_start===null&&(a.nodes_start=e,a.nodes_end=r)}function Ke(e,r){var a=(r&Pf)!==0,s=(r&Rf)!==0,l,f=!e.startsWith("<!>");return()=>{l===void 0&&(l=Td(f?e:"<!>"+e),a||(l=$i(l)));var h=s||qo?document.importNode(l,!0):l.cloneNode(!0);if(a){var y=$i(h),m=h.lastChild;ko(y,m)}else ko(h,h);return h}}function ar(){var e=document.createDocumentFragment(),r=document.createComment(""),a=Nn();return e.append(r,a),ko(r,a),e}function Ae(e,r){e!==null&&e.before(r)}function Pn(e,r){var a=r==null?"":typeof r=="object"?r+"":r;a!==(e.__t??=e.nodeValue)&&(e.__t=a,e.nodeValue=a+"")}function kd(e,r){return Dd(e,r)}const pr=new Map;function Dd(e,{target:r,anchor:a,props:s={},events:l,context:f,intro:h=!0}){sd();var y=new Set,m=S=>{for(var _=0;_<S.length;_++){var k=S[_];if(!y.has(k)){y.add(k);var I=Ed(k);r.addEventListener(k,Zr,{passive:I});var M=pr.get(k);M===void 0?(document.addEventListener(k,Zr,{passive:I}),pr.set(k,1)):pr.set(k,M+1)}}};m(jo(hl)),To.add(m);var T=void 0,w=hd(()=>{var S=a??r.appendChild(Nn());return Gf(S,{pending:()=>{}},_=>{if(f){Bn({});var k=xt;k.c=f}l&&(s.$$events=l),T=e(_,s)||{},f&&jn()}),()=>{for(var _ of y){r.removeEventListener(_,Zr);var k=pr.get(_);--k===0?(document.removeEventListener(_,Zr),pr.delete(_)):pr.set(_,k)}To.delete(m),S!==a&&S.parentNode?.removeChild(S)}});return Ad.set(T,w),T}let Ad=new WeakMap;class Sd{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#u=!0;constructor(r,a=!0){this.anchor=r,this.#u=a}#a=()=>{var r=Ie;if(this.#e.has(r)){var a=this.#e.get(r),s=this.#t.get(a);if(s)$o(s),this.#n.delete(a);else{var l=this.#r.get(a);l&&(this.#t.set(a,l.effect),this.#r.delete(a),l.fragment.lastChild.remove(),this.anchor.before(l.fragment),s=l.effect)}for(const[f,h]of this.#e){if(this.#e.delete(f),f===r)break;const y=this.#r.get(h);y&&(Tt(y.effect),this.#r.delete(h))}for(const[f,h]of this.#t){if(f===a||this.#n.has(f))continue;const y=()=>{if(Array.from(this.#e.values()).includes(f)){var T=document.createDocumentFragment();ol(h,T),T.append(Nn()),this.#r.set(f,{effect:h,fragment:T})}else Tt(h);this.#n.delete(f),this.#t.delete(f)};this.#u||!s?(this.#n.add(f),gr(h,y,!1)):y()}}};#i=r=>{this.#e.delete(r);const a=Array.from(this.#e.values());for(const[s,l]of this.#r)a.includes(s)||(Tt(l.effect),this.#r.delete(s))};ensure(r,a){var s=Ie,l=$u();if(a&&!this.#t.has(r)&&!this.#r.has(r))if(l){var f=document.createDocumentFragment(),h=Nn();f.append(h),this.#r.set(r,{effect:Nt(()=>a(h)),fragment:f})}else this.#t.set(r,Nt(()=>a(this.anchor)));if(this.#e.set(s,r),l){for(const[y,m]of this.#t)y===r?s.skipped_effects.delete(m):s.skipped_effects.add(m);for(const[y,m]of this.#r)y===r?s.skipped_effects.delete(m.effect):s.skipped_effects.add(m.effect);s.oncommit(this.#a),s.ondiscard(this.#i)}else this.#a()}}function ct(e,r,a=!1){var s=new Sd(e),l=a?wr:0;function f(h,y){s.ensure(h,y)}Qo(()=>{var h=!1;r((y,m=!0)=>{h=!0,f(m,y)}),h||f(!1,null)},l)}function Id(e,r,a){el(()=>{var s=Cr(()=>r(e,a?.())||{});if(a&&s?.update){var l=!1,f={};ya(()=>{var h=a();bd(h),l&&Mu(f,h)&&(f=h,s.update(h))}),l=!0}if(s?.destroy)return()=>s.destroy()})}function vl(e){var r,a,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(r=0;r<l;r++)e[r]&&(a=vl(e[r]))&&(s&&(s+=" "),s+=a)}else for(a in e)e[a]&&(s&&(s+=" "),s+=a);return s}function Od(){for(var e,r,a=0,s="",l=arguments.length;a<l;a++)(e=arguments[a])&&(r=vl(e))&&(s&&(s+=" "),s+=r);return s}function Cd(e){return typeof e=="object"?Od(e):e??""}function Pd(e,r,a){var s=e==null?"":""+e;return s===""?null:s}function Rd(e,r){return e==null?null:String(e)}function Md(e,r,a,s,l,f){var h=e.__className;if(h!==a||h===void 0){var y=Pd(a);y==null?e.removeAttribute("class"):e.className=y,e.__className=a}return f}function es(e,r,a,s){var l=e.__style;if(l!==r){var f=Rd(r);f==null?e.removeAttribute("style"):e.style.cssText=f,e.__style=r}return s}const Ld=Symbol("is custom element"),Nd=Symbol("is html");function pl(e,r){var a=ts(e);a.value===(a.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function Kd(e,r){var a=ts(e);a.checked!==(a.checked=r??void 0)&&(e.checked=r)}function Kt(e,r,a,s){var l=ts(e);l[r]!==(l[r]=a)&&(r==="loading"&&(e[hf]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Fd(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function ts(e){return e.__attributes??={[Ld]:e.nodeName.includes("-"),[Nd]:e.namespaceURI===Lf}}var au=new Map;function Fd(e){var r=e.getAttribute("is")||e.nodeName,a=au.get(r);if(a)return a;au.set(r,a=[]);for(var s,l=e,f=Element.prototype;f!==l;){s=Tu(l);for(var h in s)s[h].set&&a.push(h);l=zo(l)}return a}function ns(e,r,a=r){var s=new WeakSet;cd(e,"input",async l=>{$&&e.type==="checkbox"&&Zs();var f=l?e.defaultValue:e.value;if(f=vo(e)?po(f):f,a(f),Ie!==null&&s.add(Ie),await Jo(),f!==(f=r())){var h=e.selectionStart,y=e.selectionEnd,m=e.value.length;if(e.value=f??"",y!==null){var T=e.value.length;h===y&&y===m&&T>m?(e.selectionStart=T,e.selectionEnd=T):(e.selectionStart=h,e.selectionEnd=Math.min(y,T))}}}),Cr(r)==null&&e.value&&(a(vo(e)?po(e.value):e.value),Ie!==null&&s.add(Ie)),ya(()=>{$&&e.type==="checkbox"&&Zs();var l=r();if(e===document.activeElement){var f=Hi??Ie;if(s.has(f))return}vo(e)&&l===po(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function vo(e){var r=e.type;return r==="number"||r==="range"}function po(e){return e===""?null:+e}function ou(e,r){return e===r||e?.[dn]===r}function Kn(e={},r,a,s){return el(()=>{var l,f;return ya(()=>{l=f,f=[],Cr(()=>{e!==a(...f)&&(r(e,...f),l&&ou(a(...l),e)&&r(null,...l))})}),()=>{Or(()=>{f&&ou(a(...f),e)&&r(null,...f)})}}),e}function yl(e,r,a){if(e==null)return r(void 0),qi;const s=Cr(()=>e.subscribe(r,a));return s.unsubscribe?()=>s.unsubscribe():s}function Bd(e){let r;return yl(e,a=>r=a)(),r}let zi=!1,Do=Symbol();function ta(e,r,a){const s=a[r]??={store:null,source:Yu(void 0),unsubscribe:qi};if($&&(s.source.label=r),s.store!==e&&!(Do in a))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=qi;else{var l=!0;s.unsubscribe=yl(e,f=>{l?s.source.v=f:L(s.source,f)}),l=!1}return e&&Do in a?Bd(e):D(s.source)}function Ao(e,r,a){let s=a[r];return s&&s.store!==e&&(s.unsubscribe(),s.unsubscribe=qi),e}function rs(){const e={};function r(){Zo(()=>{for(var a in e)e[a].unsubscribe();Mn(e,Do,{enumerable:!1,value:!0})})}return[e,r]}function jd(e){var r=zi;try{return zi=!1,[e(),zi]}finally{zi=r}}function Gr(e,r,a,s){var l=(a&Of)!==0,f=(a&Cf)!==0,h=s,y=!0,m=()=>(y&&(y=!1,h=f?Cr(s):s),h),T;if(l){var w=dn in e||df in e;T=er(e,r)?.set??(w&&r in e?Q=>e[r]=Q:void 0)}var S,_=!1;l?[S,_]=jd(()=>e[r]):S=e[r],S===void 0&&s!==void 0&&(S=m(),T&&(bf(r),T(S)));var k;if(k=()=>{var Q=e[r];return Q===void 0?m():(y=!0,Q)},(a&If)===0)return k;if(T){var I=e.$$legacy;return(function(Q,re){return arguments.length>0?((!re||I||_)&&T(re?k():Q),Q):k()})}var M=!1,P=((a&Sf)!==0?va:Wu)(()=>(M=!1,k()));$&&(P.label=r),l&&D(P);var z=Se;return(function(Q,re){if(arguments.length>0){const te=re?D(P):l?on(Q):Q;return L(P,te),M=!0,h!==void 0&&(h=te),Q}return sr&&M||(z.f&fn)!==0?P.v:D(P)})}if($){let e=function(r){if(!(r in globalThis)){let a;Object.defineProperty(globalThis,r,{configurable:!0,get:()=>{if(a!==void 0)return a;wf(r)},set:s=>{a=s}})}};var op=e;e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}const zd="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(zd);var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ud(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Wi={exports:{}},Hd=Wi.exports,su;function Wd(){return su||(su=1,(function(e,r){(function(a,s){e.exports=s()})(Hd,(function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])},a(t,n)};function s(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var l=function(){return l=Object.assign||function(n){for(var i,o=1,u=arguments.length;o<u;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n},l.apply(this,arguments)};function f(t,n,i){for(var o=0,u=n.length,c;o<u;o++)(c||!(o in n))&&(c||(c=Array.prototype.slice.call(n,0,o)),c[o]=n[o]);return t.concat(c||Array.prototype.slice.call(n))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Vd,y=Object.keys,m=Array.isArray;typeof Promise<"u"&&!h.Promise&&(h.Promise=Promise);function T(t,n){return typeof n!="object"||y(n).forEach(function(i){t[i]=n[i]}),t}var w=Object.getPrototypeOf,S={}.hasOwnProperty;function _(t,n){return S.call(t,n)}function k(t,n){typeof n=="function"&&(n=n(w(t))),(typeof Reflect>"u"?y:Reflect.ownKeys)(n).forEach(function(i){M(t,i,n[i])})}var I=Object.defineProperty;function M(t,n,i,o){I(t,n,T(i&&_(i,"get")&&typeof i.get=="function"?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},o))}function P(t){return{from:function(n){return t.prototype=Object.create(n.prototype),M(t.prototype,"constructor",t),{extend:k.bind(null,t.prototype)}}}}var z=Object.getOwnPropertyDescriptor;function Q(t,n){var i=z(t,n),o;return i||(o=w(t))&&Q(o,n)}var re=[].slice;function te(t,n,i){return re.call(t,n,i)}function oe(t,n){return n(t)}function se(t){if(!t)throw new Error("Assertion Failed")}function he(t){h.setImmediate?setImmediate(t):setTimeout(t,0)}function ve(t,n){return t.reduce(function(i,o,u){var c=n(o,u);return c&&(i[c[0]]=c[1]),i},{})}function pe(t,n){if(typeof n=="string"&&_(t,n))return t[n];if(!n)return t;if(typeof n!="string"){for(var i=[],o=0,u=n.length;o<u;++o){var c=pe(t,n[o]);i.push(c)}return i}var d=n.indexOf(".");if(d!==-1){var v=t[n.substr(0,d)];return v==null?void 0:pe(v,n.substr(d+1))}}function ce(t,n,i){if(!(!t||n===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof n!="string"&&"length"in n){se(typeof i!="string"&&"length"in i);for(var o=0,u=n.length;o<u;++o)ce(t,n[o],i[o])}else{var c=n.indexOf(".");if(c!==-1){var d=n.substr(0,c),v=n.substr(c+1);if(v==="")i===void 0?m(t)&&!isNaN(parseInt(d))?t.splice(d,1):delete t[d]:t[d]=i;else{var p=t[d];(!p||!_(t,d))&&(p=t[d]={}),ce(p,v,i)}}else i===void 0?m(t)&&!isNaN(parseInt(n))?t.splice(n,1):delete t[n]:t[n]=i}}function _e(t,n){typeof n=="string"?ce(t,n,void 0):"length"in n&&[].map.call(n,function(i){ce(t,i,void 0)})}function xe(t){var n={};for(var i in t)_(t,i)&&(n[i]=t[i]);return n}var We=[].concat;function Xe(t){return We.apply([],t)}var yt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Xe([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(n){return n+t+"Array"})}))).filter(function(t){return h[t]}),ht=new Set(yt.map(function(t){return h[t]}));function Ce(t){var n={};for(var i in t)if(_(t,i)){var o=t[i];n[i]=!o||typeof o!="object"||ht.has(o.constructor)?o:Ce(o)}return n}function jt(t){for(var n in t)if(_(t,n))return!1;return!0}var J=null;function ue(t){J=new WeakMap;var n=Re(t);return J=null,n}function Re(t){if(!t||typeof t!="object")return t;var n=J.get(t);if(n)return n;if(m(t)){n=[],J.set(t,n);for(var i=0,o=t.length;i<o;++i)n.push(Re(t[i]))}else if(ht.has(t.constructor))n=t;else{var u=w(t);n=u===Object.prototype?{}:Object.create(u),J.set(t,n);for(var c in t)_(t,c)&&(n[c]=Re(t[c]))}return n}var Ge={}.toString;function $e(t){return Ge.call(t).slice(8,-1)}var Oe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ye=typeof Oe=="symbol"?function(t){var n;return t!=null&&(n=t[Oe])&&n.apply(t)}:function(){return null};function V(t,n){var i=t.indexOf(n);return i>=0&&t.splice(i,1),i>=0}var X={};function Y(t){var n,i,o,u;if(arguments.length===1){if(m(t))return t.slice();if(this===X&&typeof t=="string")return[t];if(u=Ye(t)){for(i=[];o=u.next(),!o.done;)i.push(o.value);return i}if(t==null)return[t];if(n=t.length,typeof n=="number"){for(i=new Array(n);n--;)i[n]=t[n];return i}return[t]}for(n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];return i}var ye=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Te=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],Fe=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],ke=Te.concat(Fe),mt={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Yt(t,n){this.name=t,this.message=n}P(Yt).from(Error).extend({toString:function(){return this.name+": "+this.message}});function gt(t,n){return t+". Errors: "+Object.keys(n).map(function(i){return n[i].toString()}).filter(function(i,o,u){return u.indexOf(i)===o}).join(`
`)}function Ne(t,n,i,o){this.failures=n,this.failedKeys=o,this.successCount=i,this.message=gt(t,n)}P(Ne).from(Yt);function Me(t,n){this.name="BulkError",this.failures=Object.keys(n).map(function(i){return n[i]}),this.failuresByPos=n,this.message=gt(t,this.failures)}P(Me).from(Yt);var Le=ke.reduce(function(t,n){return t[n]=n+"Error",t},{}),tt=Yt,G=ke.reduce(function(t,n){var i=n+"Error";function o(u,c){this.name=i,u?typeof u=="string"?(this.message="".concat(u).concat(c?`
 `+c:""),this.inner=c||null):typeof u=="object"&&(this.message="".concat(u.name," ").concat(u.message),this.inner=u):(this.message=mt[n]||i,this.inner=null)}return P(o).from(tt),t[n]=o,t},{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var qt=Fe.reduce(function(t,n){return t[n+"Error"]=G[n],t},{});function ze(t,n){if(!t||t instanceof Yt||t instanceof TypeError||t instanceof SyntaxError||!t.name||!qt[t.name])return t;var i=new qt[t.name](n||t.message,t);return"stack"in t&&M(i,"stack",{get:function(){return this.inner.stack}}),i}var Ct=ke.reduce(function(t,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(t[n+"Error"]=G[n]),t},{});Ct.ModifyError=Ne,Ct.DexieError=Yt,Ct.BulkError=Me;function De(){}function Pr(t){return t}function Nl(t,n){return t==null||t===Pr?n:function(i){return n(t(i))}}function zn(t,n){return function(){t.apply(this,arguments),n.apply(this,arguments)}}function Kl(t,n){return t===De?n:function(){var i=t.apply(this,arguments);i!==void 0&&(arguments[0]=i);var o=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var c=n.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?zn(o,this.onsuccess):o),u&&(this.onerror=this.onerror?zn(u,this.onerror):u),c!==void 0?c:i}}function Fl(t,n){return t===De?n:function(){t.apply(this,arguments);var i=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?zn(i,this.onsuccess):i),o&&(this.onerror=this.onerror?zn(o,this.onerror):o)}}function Bl(t,n){return t===De?n:function(i){var o=t.apply(this,arguments);T(i,o);var u=this.onsuccess,c=this.onerror;this.onsuccess=null,this.onerror=null;var d=n.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?zn(u,this.onsuccess):u),c&&(this.onerror=this.onerror?zn(c,this.onerror):c),o===void 0?d===void 0?void 0:d:T(o,d)}}function jl(t,n){return t===De?n:function(){return n.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function ka(t,n){return t===De?n:function(){var i=t.apply(this,arguments);if(i&&typeof i.then=="function"){for(var o=this,u=arguments.length,c=new Array(u);u--;)c[u]=arguments[u];return i.then(function(){return n.apply(o,c)})}return n.apply(this,arguments)}}var Zt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function cs(t,n){Zt=t}var Rr={},fs=100,Da=typeof Promise>"u"?[]:(function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,w(t),t];var n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,w(n),t]})(),ds=Da[0],hs=Da[1],zl=Da[2],Vl=hs&&hs.then,Vn=ds&&ds.constructor,Aa=!!zl;function Ul(){queueMicrotask(Wl)}var Mr=function(t,n){Lr.push([t,n]),vi&&(Ul(),vi=!1)},Sa=!0,vi=!0,Un=[],pi=[],Ia=Pr,gn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:De,pgp:!1,env:{},finalize:De},ee=gn,Lr=[],Hn=0,yi=[];function W(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var n=this._PSD=ee;if(typeof t!="function"){if(t!==Rr)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Ca(this,this._value);return}this._state=null,this._value=null,++n.ref,ps(this,t)}var Oa={get:function(){var t=ee,n=bi;function i(o,u){var c=this,d=!t.global&&(t!==ee||n!==bi),v=d&&!bn(),p=new W(function(g,x){Pa(c,new vs(gs(o,t,d,v),gs(u,t,d,v),g,x,t))});return this._consoleTask&&(p._consoleTask=this._consoleTask),p}return i.prototype=Rr,i},set:function(t){M(this,"then",t&&t.prototype===Rr?Oa:{get:function(){return t},set:Oa.set})}};k(W.prototype,{then:Oa,_then:function(t,n){Pa(this,new vs(null,null,t,n,ee))},catch:function(t){if(arguments.length===1)return this.then(null,t);var n=arguments[0],i=arguments[1];return typeof n=="function"?this.then(null,function(o){return o instanceof n?i(o):mi(o)}):this.then(null,function(o){return o&&o.name===n?i(o):mi(o)})},finally:function(t){return this.then(function(n){return W.resolve(t()).then(function(){return n})},function(n){return W.resolve(t()).then(function(){return mi(n)})})},timeout:function(t,n){var i=this;return t<1/0?new W(function(o,u){var c=setTimeout(function(){return u(new G.Timeout(n))},t);i.then(o,u).finally(clearTimeout.bind(null,c))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&M(W.prototype,Symbol.toStringTag,"Dexie.Promise"),gn.env=ms();function vs(t,n,i,o,u){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof n=="function"?n:null,this.resolve=i,this.reject=o,this.psd=u}k(W,{all:function(){var t=Y.apply(null,arguments).map(wi);return new W(function(n,i){t.length===0&&n([]);var o=t.length;t.forEach(function(u,c){return W.resolve(u).then(function(d){t[c]=d,--o||n(t)},i)})})},resolve:function(t){if(t instanceof W)return t;if(t&&typeof t.then=="function")return new W(function(i,o){t.then(i,o)});var n=new W(Rr,!0,t);return n},reject:mi,race:function(){var t=Y.apply(null,arguments).map(wi);return new W(function(n,i){t.map(function(o){return W.resolve(o).then(n,i)})})},PSD:{get:function(){return ee},set:function(t){return ee=t}},totalEchoes:{get:function(){return bi}},newPSD:_n,usePSD:Wn,scheduler:{get:function(){return Mr},set:function(t){Mr=t}},rejectionMapper:{get:function(){return Ia},set:function(t){Ia=t}},follow:function(t,n){return new W(function(i,o){return _n(function(u,c){var d=ee;d.unhandleds=[],d.onunhandled=c,d.finalize=zn(function(){var v=this;Gl(function(){v.unhandleds.length===0?u():c(v.unhandleds[0])})},d.finalize),t()},n,i,o)})}}),Vn&&(Vn.allSettled&&M(W,"allSettled",function(){var t=Y.apply(null,arguments).map(wi);return new W(function(n){t.length===0&&n([]);var i=t.length,o=new Array(i);t.forEach(function(u,c){return W.resolve(u).then(function(d){return o[c]={status:"fulfilled",value:d}},function(d){return o[c]={status:"rejected",reason:d}}).then(function(){return--i||n(o)})})})}),Vn.any&&typeof AggregateError<"u"&&M(W,"any",function(){var t=Y.apply(null,arguments).map(wi);return new W(function(n,i){t.length===0&&i(new AggregateError([]));var o=t.length,u=new Array(o);t.forEach(function(c,d){return W.resolve(c).then(function(v){return n(v)},function(v){u[d]=v,--o||i(new AggregateError(u))})})})}),Vn.withResolvers&&(W.withResolvers=Vn.withResolvers));function ps(t,n){try{n(function(i){if(t._state===null){if(i===t)throw new TypeError("A promise cannot be resolved with itself.");var o=t._lib&&lr();i&&typeof i.then=="function"?ps(t,function(u,c){i instanceof W?i._then(u,c):i.then(u,c)}):(t._state=!0,t._value=i,ys(t)),o&&cr()}},Ca.bind(null,t))}catch(i){Ca(t,i)}}function Ca(t,n){if(pi.push(n),t._state===null){var i=t._lib&&lr();n=Ia(n),t._state=!1,t._value=n,Yl(t),ys(t),i&&cr()}}function ys(t){var n=t._listeners;t._listeners=[];for(var i=0,o=n.length;i<o;++i)Pa(t,n[i]);var u=t._PSD;--u.ref||u.finalize(),Hn===0&&(++Hn,Mr(function(){--Hn===0&&Ra()},[]))}function Pa(t,n){if(t._state===null){t._listeners.push(n);return}var i=t._state?n.onFulfilled:n.onRejected;if(i===null)return(t._state?n.resolve:n.reject)(t._value);++n.psd.ref,++Hn,Mr(Hl,[i,t,n])}function Hl(t,n,i){try{var o,u=n._value;!n._state&&pi.length&&(pi=[]),o=Zt&&n._consoleTask?n._consoleTask.run(function(){return t(u)}):t(u),!n._state&&pi.indexOf(u)===-1&&ql(n),i.resolve(o)}catch(c){i.reject(c)}finally{--Hn===0&&Ra(),--i.psd.ref||i.psd.finalize()}}function Wl(){Wn(gn,function(){lr()&&cr()})}function lr(){var t=Sa;return Sa=!1,vi=!1,t}function cr(){var t,n,i;do for(;Lr.length>0;)for(t=Lr,Lr=[],i=t.length,n=0;n<i;++n){var o=t[n];o[0].apply(null,o[1])}while(Lr.length>0);Sa=!0,vi=!0}function Ra(){var t=Un;Un=[],t.forEach(function(o){o._PSD.onunhandled.call(null,o._value,o)});for(var n=yi.slice(0),i=n.length;i;)n[--i]()}function Gl(t){function n(){t(),yi.splice(yi.indexOf(n),1)}yi.push(n),++Hn,Mr(function(){--Hn===0&&Ra()},[])}function Yl(t){Un.some(function(n){return n._value===t._value})||Un.push(t)}function ql(t){for(var n=Un.length;n;)if(Un[--n]._value===t._value){Un.splice(n,1);return}}function mi(t){return new W(Rr,!1,t)}function Be(t,n){var i=ee;return function(){var o=lr(),u=ee;try{return wn(i,!0),t.apply(this,arguments)}catch(c){n&&n(c)}finally{wn(u,!1),o&&cr()}}}var Je={awaits:0,echoes:0,id:0},Zl=0,gi=[],_i=0,bi=0,Ql=0;function _n(t,n,i,o){var u=ee,c=Object.create(u);c.parent=u,c.ref=0,c.global=!1,c.id=++Ql,gn.env,c.env=Aa?{Promise:W,PromiseProp:{value:W,configurable:!0,writable:!0},all:W.all,race:W.race,allSettled:W.allSettled,any:W.any,resolve:W.resolve,reject:W.reject}:{},n&&T(c,n),++u.ref,c.finalize=function(){--this.parent.ref||this.parent.finalize()};var d=Wn(c,t,i,o);return c.ref===0&&c.finalize(),d}function fr(){return Je.id||(Je.id=++Zl),++Je.awaits,Je.echoes+=fs,Je.id}function bn(){return Je.awaits?(--Je.awaits===0&&(Je.id=0),Je.echoes=Je.awaits*fs,!0):!1}(""+Vl).indexOf("[native code]")===-1&&(fr=bn=De);function wi(t){return Je.echoes&&t&&t.constructor===Vn?(fr(),t.then(function(n){return bn(),n},function(n){return bn(),Ue(n)})):t}function Xl(t){++bi,(!Je.echoes||--Je.echoes===0)&&(Je.echoes=Je.awaits=Je.id=0),gi.push(ee),wn(t,!0)}function $l(){var t=gi[gi.length-1];gi.pop(),wn(t,!1)}function wn(t,n){var i=ee;if((n?Je.echoes&&(!_i++||t!==ee):_i&&(!--_i||t!==ee))&&queueMicrotask(n?Xl.bind(null,t):$l),t!==ee&&(ee=t,i===gn&&(gn.env=ms()),Aa)){var o=gn.env.Promise,u=t.env;(i.global||t.global)&&(Object.defineProperty(h,"Promise",u.PromiseProp),o.all=u.all,o.race=u.race,o.resolve=u.resolve,o.reject=u.reject,u.allSettled&&(o.allSettled=u.allSettled),u.any&&(o.any=u.any))}}function ms(){var t=h.Promise;return Aa?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function Wn(t,n,i,o,u){var c=ee;try{return wn(t,!0),n(i,o,u)}finally{wn(c,!1)}}function gs(t,n,i,o){return typeof t!="function"?t:function(){var u=ee;i&&fr(),wn(n,!0);try{return t.apply(this,arguments)}finally{wn(u,!1),o&&queueMicrotask(bn)}}}function Ma(t){Promise===Vn&&Je.echoes===0?_i===0?t():enqueueNativeMicroTask(t):setTimeout(t,0)}var Ue=W.reject;function La(t,n,i,o){if(!t.idbdb||!t._state.openComplete&&!ee.letThrough&&!t._vip){if(t._state.openComplete)return Ue(new G.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return Ue(new G.DatabaseClosed);t.open().catch(De)}return t._state.dbReadyPromise.then(function(){return La(t,n,i,o)})}else{var u=t._createTransaction(n,i,t._dbSchema);try{u.create(),t._state.PR1398_maxLoop=3}catch(c){return c.name===Le.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return La(t,n,i,o)})):Ue(c)}return u._promise(n,function(c,d){return _n(function(){return ee.trans=u,o(c,d,u)})}).then(function(c){if(n==="readwrite")try{u.idbtrans.commit()}catch{}return n==="readonly"?c:u._completion.then(function(){return c})})}}var _s="4.2.1",Gn="",Na=-1/0,un="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",bs="String expected.",dr=[],Ei="__dbnames",Ka="readonly",Fa="readwrite";function Yn(t,n){return t?n?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:t:n}var ws={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xi(t){return typeof t=="string"&&!/\./.test(t)?function(n){return n[t]===void 0&&t in n&&(n=ue(n),delete n[t]),n}:function(n){return n}}function Es(){throw G.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function be(t,n){try{var i=xs(t),o=xs(n);if(i!==o)return i==="Array"?1:o==="Array"?-1:i==="binary"?1:o==="binary"?-1:i==="string"?1:o==="string"?-1:i==="Date"?1:o!=="Date"?NaN:-1;switch(i){case"number":case"Date":case"string":return t>n?1:t<n?-1:0;case"binary":return ec(Ts(t),Ts(n));case"Array":return Jl(t,n)}}catch{}return NaN}function Jl(t,n){for(var i=t.length,o=n.length,u=i<o?i:o,c=0;c<u;++c){var d=be(t[c],n[c]);if(d!==0)return d}return i===o?0:i<o?-1:1}function ec(t,n){for(var i=t.length,o=n.length,u=i<o?i:o,c=0;c<u;++c)if(t[c]!==n[c])return t[c]<n[c]?-1:1;return i===o?0:i<o?-1:1}function xs(t){var n=typeof t;if(n!=="object")return n;if(ArrayBuffer.isView(t))return"binary";var i=$e(t);return i==="ArrayBuffer"?"binary":i}function Ts(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}function Ti(t,n,i){var o=t.schema.yProps;return o?(n&&i.numFailures>0&&(n=n.filter(function(u,c){return!i.failures[c]})),Promise.all(o.map(function(u){var c=u.updatesTable;return n?t.db.table(c).where("k").anyOf(n).delete():t.db.table(c).clear()})).then(function(){return i})):i}var Nr=(function(){function t(n){this["@@propmod"]=n}return t.prototype.execute=function(n){var i,o=this["@@propmod"];if(o.add!==void 0){var u=o.add;if(m(u))return f(f([],m(n)?n:[],!0),u).sort();if(typeof u=="number")return(Number(n)||0)+u;if(typeof u=="bigint")try{return BigInt(n)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(o.remove!==void 0){var c=o.remove;if(m(c))return m(n)?n.filter(function(v){return!c.includes(v)}).sort():[];if(typeof c=="number")return Number(n)-c;if(typeof c=="bigint")try{return BigInt(n)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}var d=(i=o.replacePrefix)===null||i===void 0?void 0:i[0];return d&&typeof n=="string"&&n.startsWith(d)?o.replacePrefix[1]+n.substring(d.length):n},t})();function ks(t,n){for(var i=y(n),o=i.length,u=!1,c=0;c<o;++c){var d=i[c],v=n[d],p=pe(t,d);v instanceof Nr?(ce(t,d,v.execute(p)),u=!0):p!==v&&(ce(t,d,v),u=!0)}return u}var Ds=(function(){function t(){}return t.prototype._trans=function(n,i,o){var u=this._tx||ee.trans,c=this.name,d=Zt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function v(x,b,C){if(!C.schema[c])throw new G.NotFound("Table "+c+" not part of transaction");return i(C.idbtrans,C)}var p=lr();try{var g=u&&u.db._novip===this.db._novip?u===ee.trans?u._promise(n,v,o):_n(function(){return u._promise(n,v,o)},{trans:u,transless:ee.transless||ee}):La(this.db,n,[this.name],v);return d&&(g._consoleTask=d,g=g.catch(function(x){return console.trace(x),Ue(x)})),g}finally{p&&cr()}},t.prototype.get=function(n,i){var o=this;return n&&n.constructor===Object?this.where(n).first(i):n==null?Ue(new G.Type("Invalid argument to Table.get()")):this._trans("readonly",function(u){return o.core.get({trans:u,key:n}).then(function(c){return o.hook.reading.fire(c)})}).then(i)},t.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(m(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var i=y(n);if(i.length===1)return this.where(i[0]).equals(n[i[0]]);var o=this.schema.indexes.concat(this.schema.primKey).filter(function(x){if(x.compound&&i.every(function(C){return x.keyPath.indexOf(C)>=0})){for(var b=0;b<i.length;++b)if(i.indexOf(x.keyPath[b])===-1)return!1;return!0}return!1}).sort(function(x,b){return x.keyPath.length-b.keyPath.length})[0];if(o&&this.db._maxKey!==Gn){var u=o.keyPath.slice(0,i.length);return this.where(u).equals(u.map(function(x){return n[x]}))}!o&&Zt&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var c=this.schema.idxByName;function d(x,b){return be(x,b)===0}var v=i.reduce(function(x,b){var C=x[0],j=x[1],E=c[b],A=n[b];return[C||E,C||!E?Yn(j,E&&E.multi?function(O){var R=pe(O,b);return m(R)&&R.some(function(K){return d(A,K)})}:function(O){return d(A,pe(O,b))}):j]},[null,null]),p=v[0],g=v[1];return p?this.where(p.name).equals(n[p.keyPath]).filter(g):o?this.filter(g):this.where(i).equals("")},t.prototype.filter=function(n){return this.toCollection().and(n)},t.prototype.count=function(n){return this.toCollection().count(n)},t.prototype.offset=function(n){return this.toCollection().offset(n)},t.prototype.limit=function(n){return this.toCollection().limit(n)},t.prototype.each=function(n){return this.toCollection().each(n)},t.prototype.toArray=function(n){return this.toCollection().toArray(n)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,m(n)?"[".concat(n.join("+"),"]"):n))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(n){var i=this,o=i.db,u=i.name;this.schema.mappedClass=n,n.prototype instanceof Es&&(n=(function(p){s(g,p);function g(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(g.prototype,"db",{get:function(){return o},enumerable:!1,configurable:!0}),g.prototype.table=function(){return u},g})(n));for(var c=new Set,d=n.prototype;d;d=w(d))Object.getOwnPropertyNames(d).forEach(function(p){return c.add(p)});var v=function(p){if(!p)return p;var g=Object.create(n.prototype);for(var x in p)if(!c.has(x))try{g[x]=p[x]}catch{}return g};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=v,this.hook("reading",v),n},t.prototype.defineClass=function(){function n(i){T(this,i)}return this.mapToClass(n)},t.prototype.add=function(n,i){var o=this,u=this.schema.primKey,c=u.auto,d=u.keyPath,v=n;return d&&c&&(v=xi(d)(n)),this._trans("readwrite",function(p){return o.core.mutate({trans:p,type:"add",keys:i!=null?[i]:null,values:[v]})}).then(function(p){return p.numFailures?W.reject(p.failures[0]):p.lastResult}).then(function(p){if(d)try{ce(n,d,p)}catch{}return p})},t.prototype.upsert=function(n,i){var o=this,u=this.schema.primKey.keyPath;return this._trans("readwrite",function(c){return o.core.get({trans:c,key:n}).then(function(d){var v=d??{};return ks(v,i),u&&ce(v,u,n),o.core.mutate({trans:c,type:"put",values:[v],keys:[n],upsert:!0,updates:{keys:[n],changeSpecs:[i]}}).then(function(p){return p.numFailures?W.reject(p.failures[0]):!!d})})})},t.prototype.update=function(n,i){if(typeof n=="object"&&!m(n)){var o=pe(n,this.schema.primKey.keyPath);return o===void 0?Ue(new G.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(i)}else return this.where(":id").equals(n).modify(i)},t.prototype.put=function(n,i){var o=this,u=this.schema.primKey,c=u.auto,d=u.keyPath,v=n;return d&&c&&(v=xi(d)(n)),this._trans("readwrite",function(p){return o.core.mutate({trans:p,type:"put",values:[v],keys:i!=null?[i]:null})}).then(function(p){return p.numFailures?W.reject(p.failures[0]):p.lastResult}).then(function(p){if(d)try{ce(n,d,p)}catch{}return p})},t.prototype.delete=function(n){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"delete",keys:[n]}).then(function(u){return Ti(i,[n],u)}).then(function(u){return u.numFailures?W.reject(u.failures[0]):void 0})})},t.prototype.clear=function(){var n=this;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"deleteRange",range:ws}).then(function(o){return Ti(n,null,o)})}).then(function(i){return i.numFailures?W.reject(i.failures[0]):void 0})},t.prototype.bulkGet=function(n){var i=this;return this._trans("readonly",function(o){return i.core.getMany({keys:n,trans:o}).then(function(u){return u.map(function(c){return i.hook.reading.fire(c)})})})},t.prototype.bulkAdd=function(n,i,o){var u=this,c=Array.isArray(i)?i:void 0;o=o||(c?void 0:i);var d=o?o.allKeys:void 0;return this._trans("readwrite",function(v){var p=u.schema.primKey,g=p.auto,x=p.keyPath;if(x&&c)throw new G.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(c&&c.length!==n.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var b=n.length,C=x&&g?n.map(xi(x)):n;return u.core.mutate({trans:v,type:"add",keys:c,values:C,wantResults:d}).then(function(j){var E=j.numFailures,A=j.results,O=j.lastResult,R=j.failures,K=d?A:O;if(E===0)return K;throw new Me("".concat(u.name,".bulkAdd(): ").concat(E," of ").concat(b," operations failed"),R)})})},t.prototype.bulkPut=function(n,i,o){var u=this,c=Array.isArray(i)?i:void 0;o=o||(c?void 0:i);var d=o?o.allKeys:void 0;return this._trans("readwrite",function(v){var p=u.schema.primKey,g=p.auto,x=p.keyPath;if(x&&c)throw new G.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(c&&c.length!==n.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var b=n.length,C=x&&g?n.map(xi(x)):n;return u.core.mutate({trans:v,type:"put",keys:c,values:C,wantResults:d}).then(function(j){var E=j.numFailures,A=j.results,O=j.lastResult,R=j.failures,K=d?A:O;if(E===0)return K;throw new Me("".concat(u.name,".bulkPut(): ").concat(E," of ").concat(b," operations failed"),R)})})},t.prototype.bulkUpdate=function(n){var i=this,o=this.core,u=n.map(function(v){return v.key}),c=n.map(function(v){return v.changes}),d=[];return this._trans("readwrite",function(v){return o.getMany({trans:v,keys:u,cache:"clone"}).then(function(p){var g=[],x=[];n.forEach(function(C,j){var E=C.key,A=C.changes,O=p[j];if(O){for(var R=0,K=Object.keys(A);R<K.length;R++){var F=K[R],B=A[F];if(F===i.schema.primKey.keyPath){if(be(B,E)!==0)throw new G.Constraint("Cannot update primary key in bulkUpdate()")}else ce(O,F,B)}d.push(j),g.push(E),x.push(O)}});var b=g.length;return o.mutate({trans:v,type:"put",keys:g,values:x,updates:{keys:u,changeSpecs:c}}).then(function(C){var j=C.numFailures,E=C.failures;if(j===0)return b;for(var A=0,O=Object.keys(E);A<O.length;A++){var R=O[A],K=d[Number(R)];if(K!=null){var F=E[R];delete E[R],E[K]=F}}throw new Me("".concat(i.name,".bulkUpdate(): ").concat(j," of ").concat(b," operations failed"),E)})})})},t.prototype.bulkDelete=function(n){var i=this,o=n.length;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"delete",keys:n}).then(function(c){return Ti(i,n,c)})}).then(function(u){var c=u.numFailures,d=u.lastResult,v=u.failures;if(c===0)return d;throw new Me("".concat(i.name,".bulkDelete(): ").concat(c," of ").concat(o," operations failed"),v)})},t})();function Kr(t){var n={},i=function(v,p){if(p){for(var g=arguments.length,x=new Array(g-1);--g;)x[g-1]=arguments[g];return n[v].subscribe.apply(null,x),t}else if(typeof v=="string")return n[v]};i.addEventType=c;for(var o=1,u=arguments.length;o<u;++o)c(arguments[o]);return i;function c(v,p,g){if(typeof v=="object")return d(v);p||(p=jl),g||(g=De);var x={subscribers:[],fire:g,subscribe:function(b){x.subscribers.indexOf(b)===-1&&(x.subscribers.push(b),x.fire=p(x.fire,b))},unsubscribe:function(b){x.subscribers=x.subscribers.filter(function(C){return C!==b}),x.fire=x.subscribers.reduce(p,g)}};return n[v]=i[v]=x,x}function d(v){y(v).forEach(function(p){var g=v[p];if(m(g))c(p,v[p][0],v[p][1]);else if(g==="asap")var x=c(p,Pr,function(){for(var C=arguments.length,j=new Array(C);C--;)j[C]=arguments[C];x.subscribers.forEach(function(E){he(function(){E.apply(null,j)})})});else throw new G.InvalidArgument("Invalid event config")})}}function Fr(t,n){return P(n).from({prototype:t}),n}function tc(t){return Fr(Ds.prototype,function(i,o,u){this.db=t,this._tx=u,this.name=i,this.schema=o,this.hook=t._allTables[i]?t._allTables[i].hook:Kr(null,{creating:[Kl,De],reading:[Nl,Pr],updating:[Bl,De],deleting:[Fl,De]})})}function hr(t,n){return!(t.filter||t.algorithm||t.or)&&(n?t.justLimit:!t.replayFilter)}function Ba(t,n){t.filter=Yn(t.filter,n)}function ja(t,n,i){var o=t.replayFilter;t.replayFilter=o?function(){return Yn(o(),n())}:n,t.justLimit=i&&!o}function nc(t,n){t.isMatch=Yn(t.isMatch,n)}function ki(t,n){if(t.isPrimKey)return n.primaryKey;var i=n.getIndexByKeyPath(t.index);if(!i)throw new G.Schema("KeyPath "+t.index+" on object store "+n.name+" is not indexed");return i}function As(t,n,i){var o=ki(t,n.schema);return n.openCursor({trans:i,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:o,range:t.range}})}function Di(t,n,i,o){var u=t.replayFilter?Yn(t.filter,t.replayFilter()):t.filter;if(t.or){var c={},d=function(v,p,g){if(!u||u(p,g,function(C){return p.stop(C)},function(C){return p.fail(C)})){var x=p.primaryKey,b=""+x;b==="[object ArrayBuffer]"&&(b=""+new Uint8Array(x)),_(c,b)||(c[b]=!0,n(v,p,g))}};return Promise.all([t.or._iterate(d,i),Ss(As(t,o,i),t.algorithm,d,!t.keysOnly&&t.valueMapper)])}else return Ss(As(t,o,i),Yn(t.algorithm,u),n,!t.keysOnly&&t.valueMapper)}function Ss(t,n,i,o){var u=o?function(d,v,p){return i(o(d),v,p)}:i,c=Be(u);return t.then(function(d){if(d)return d.start(function(){var v=function(){return d.continue()};(!n||n(d,function(p){return v=p},function(p){d.stop(p),v=De},function(p){d.fail(p),v=De}))&&c(d.value,d,function(p){return v=p}),v()})})}var rc=(function(){function t(){}return t.prototype._read=function(n,i){var o=this._ctx;return o.error?o.table._trans(null,Ue.bind(null,o.error)):o.table._trans("readonly",n).then(i)},t.prototype._write=function(n){var i=this._ctx;return i.error?i.table._trans(null,Ue.bind(null,i.error)):i.table._trans("readwrite",n,"locked")},t.prototype._addAlgorithm=function(n){var i=this._ctx;i.algorithm=Yn(i.algorithm,n)},t.prototype._iterate=function(n,i){return Di(this._ctx,n,i,this._ctx.table.core)},t.prototype.clone=function(n){var i=Object.create(this.constructor.prototype),o=Object.create(this._ctx);return n&&T(o,n),i._ctx=o,i},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(n){var i=this._ctx;return this._read(function(o){return Di(i,n,o,i.table.core)})},t.prototype.count=function(n){var i=this;return this._read(function(o){var u=i._ctx,c=u.table.core;if(hr(u,!0))return c.count({trans:o,query:{index:ki(u,c.schema),range:u.range}}).then(function(v){return Math.min(v,u.limit)});var d=0;return Di(u,function(){return++d,!1},o,c).then(function(){return d})}).then(n)},t.prototype.sortBy=function(n,i){var o=n.split(".").reverse(),u=o[0],c=o.length-1;function d(g,x){return x?d(g[o[x]],x-1):g[u]}var v=this._ctx.dir==="next"?1:-1;function p(g,x){var b=d(g,c),C=d(x,c);return be(b,C)*v}return this.toArray(function(g){return g.sort(p)}).then(i)},t.prototype.toArray=function(n){var i=this;return this._read(function(o){var u=i._ctx;if(u.dir==="next"&&hr(u,!0)&&u.limit>0){var c=u.valueMapper,d=ki(u,u.table.core.schema);return u.table.core.query({trans:o,limit:u.limit,values:!0,query:{index:d,range:u.range}}).then(function(p){var g=p.result;return c?g.map(c):g})}else{var v=[];return Di(u,function(p){return v.push(p)},o,u.table.core).then(function(){return v})}},n)},t.prototype.offset=function(n){var i=this._ctx;return n<=0?this:(i.offset+=n,hr(i)?ja(i,function(){var o=n;return function(u,c){return o===0?!0:o===1?(--o,!1):(c(function(){u.advance(o),o=0}),!1)}}):ja(i,function(){var o=n;return function(){return--o<0}}),this)},t.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),ja(this._ctx,function(){var i=n;return function(o,u,c){return--i<=0&&u(c),i>=0}},!0),this},t.prototype.until=function(n,i){return Ba(this._ctx,function(o,u,c){return n(o.value)?(u(c),i):!0}),this},t.prototype.first=function(n){return this.limit(1).toArray(function(i){return i[0]}).then(n)},t.prototype.last=function(n){return this.reverse().first(n)},t.prototype.filter=function(n){return Ba(this._ctx,function(i){return n(i.value)}),nc(this._ctx,n),this},t.prototype.and=function(n){return this.filter(n)},t.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(n){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,u){n(u.key,u)})},t.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},t.prototype.eachPrimaryKey=function(n){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,u){n(u.primaryKey,u)})},t.prototype.keys=function(n){var i=this._ctx;i.keysOnly=!i.isMatch;var o=[];return this.each(function(u,c){o.push(c.key)}).then(function(){return o}).then(n)},t.prototype.primaryKeys=function(n){var i=this._ctx;if(i.dir==="next"&&hr(i,!0)&&i.limit>0)return this._read(function(u){var c=ki(i,i.table.core.schema);return i.table.core.query({trans:u,values:!1,limit:i.limit,query:{index:c,range:i.range}})}).then(function(u){var c=u.result;return c}).then(n);i.keysOnly=!i.isMatch;var o=[];return this.each(function(u,c){o.push(c.primaryKey)}).then(function(){return o}).then(n)},t.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},t.prototype.firstKey=function(n){return this.limit(1).keys(function(i){return i[0]}).then(n)},t.prototype.lastKey=function(n){return this.reverse().firstKey(n)},t.prototype.distinct=function(){var n=this._ctx,i=n.index&&n.table.schema.idxByName[n.index];if(!i||!i.multi)return this;var o={};return Ba(this._ctx,function(u){var c=u.primaryKey.toString(),d=_(o,c);return o[c]=!0,!d}),this},t.prototype.modify=function(n){var i=this,o=this._ctx;return this._write(function(u){var c;typeof n=="function"?c=n:c=function(R){return ks(R,n)};var d=o.table.core,v=d.schema.primaryKey,p=v.outbound,g=v.extractKey,x=200,b=i.db._options.modifyChunkSize;b&&(typeof b=="object"?x=b[d.name]||b["*"]||200:x=b);var C=[],j=0,E=[],A=function(R,K){var F=K.failures,B=K.numFailures;j+=R-B;for(var N=0,U=y(F);N<U.length;N++){var q=U[N];C.push(F[q])}},O=n===Is;return i.clone().primaryKeys().then(function(R){var K=hr(o)&&o.limit===1/0&&(typeof n!="function"||O)&&{index:o.index,range:o.range},F=function(B){var N=Math.min(x,R.length-B),U=R.slice(B,B+N);return(O?Promise.resolve([]):d.getMany({trans:u,keys:U,cache:"immutable"})).then(function(q){var H=[],ie=[],fe=p?[]:null,Z=O?U:[];if(!O)for(var le=0;le<N;++le){var ae=q[le],we={value:ue(ae),primKey:R[B+le]};c.call(we,we.value,we)!==!1&&(we.value==null?Z.push(R[B+le]):!p&&be(g(ae),g(we.value))!==0?(Z.push(R[B+le]),H.push(we.value)):(ie.push(we.value),p&&fe.push(R[B+le])))}return Promise.resolve(H.length>0&&d.mutate({trans:u,type:"add",values:H}).then(function(ne){for(var Ve in ne.failures)Z.splice(parseInt(Ve),1);A(H.length,ne)})).then(function(){return(ie.length>0||K&&typeof n=="object")&&d.mutate({trans:u,type:"put",keys:fe,values:ie,criteria:K,changeSpec:typeof n!="function"&&n,isAdditionalChunk:B>0}).then(function(ne){return A(ie.length,ne)})}).then(function(){return(Z.length>0||K&&O)&&d.mutate({trans:u,type:"delete",keys:Z,criteria:K,isAdditionalChunk:B>0}).then(function(ne){return Ti(o.table,Z,ne)}).then(function(ne){return A(Z.length,ne)})}).then(function(){return R.length>B+N&&F(B+x)})})};return F(0).then(function(){if(C.length>0)throw new Ne("Error modifying one or more objects",C,j,E);return R.length})})})},t.prototype.delete=function(){var n=this._ctx,i=n.range;return hr(n)&&!n.table.schema.yProps&&(n.isPrimKey||i.type===3)?this._write(function(o){var u=n.table.core.schema.primaryKey,c=i;return n.table.core.count({trans:o,query:{index:u,range:c}}).then(function(d){return n.table.core.mutate({trans:o,type:"deleteRange",range:c}).then(function(v){var p=v.failures,g=v.numFailures;if(g)throw new Ne("Could not delete some values",Object.keys(p).map(function(x){return p[x]}),d-g);return d-g})})}):this.modify(Is)},t})(),Is=function(t,n){return n.value=null};function ic(t){return Fr(rc.prototype,function(i,o){this.db=t;var u=ws,c=null;if(o)try{u=o()}catch(g){c=g}var d=i._ctx,v=d.table,p=v.hook.reading.fire;this._ctx={table:v,index:d.index,isPrimKey:!d.index||v.schema.primKey.keyPath&&d.index===v.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:d.or,valueMapper:p!==Pr?p:null}})}function ac(t,n){return t<n?-1:t===n?0:1}function oc(t,n){return t>n?-1:t===n?0:1}function At(t,n,i){var o=t instanceof Cs?new t.Collection(t):t;return o._ctx.error=i?new i(n):new TypeError(n),o}function vr(t){return new t.Collection(t,function(){return Os("")}).limit(0)}function sc(t){return t==="next"?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}function uc(t){return t==="next"?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}function lc(t,n,i,o,u,c){for(var d=Math.min(t.length,o.length),v=-1,p=0;p<d;++p){var g=n[p];if(g!==o[p])return u(t[p],i[p])<0?t.substr(0,p)+i[p]+i.substr(p+1):u(t[p],o[p])<0?t.substr(0,p)+o[p]+i.substr(p+1):v>=0?t.substr(0,v)+n[v]+i.substr(v+1):null;u(t[p],g)<0&&(v=p)}return d<o.length&&c==="next"?t+i.substr(t.length):d<t.length&&c==="prev"?t.substr(0,i.length):v<0?null:t.substr(0,v)+o[v]+i.substr(v+1)}function Ai(t,n,i,o){var u,c,d,v,p,g,x,b=i.length;if(!i.every(function(A){return typeof A=="string"}))return At(t,bs);function C(A){u=sc(A),c=uc(A),d=A==="next"?ac:oc;var O=i.map(function(R){return{lower:c(R),upper:u(R)}}).sort(function(R,K){return d(R.lower,K.lower)});v=O.map(function(R){return R.upper}),p=O.map(function(R){return R.lower}),g=A,x=A==="next"?"":o}C("next");var j=new t.Collection(t,function(){return En(v[0],p[b-1]+o)});j._ondirectionchange=function(A){C(A)};var E=0;return j._addAlgorithm(function(A,O,R){var K=A.key;if(typeof K!="string")return!1;var F=c(K);if(n(F,p,E))return!0;for(var B=null,N=E;N<b;++N){var U=lc(K,F,v[N],p[N],d,g);U===null&&B===null?E=N+1:(B===null||d(B,U)>0)&&(B=U)}return O(B!==null?function(){A.continue(B+x)}:R),!1}),j}function En(t,n,i,o){return{type:2,lower:t,upper:n,lowerOpen:i,upperOpen:o}}function Os(t){return{type:1,lower:t,upper:t}}var Cs=(function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(n,i,o,u){o=o!==!1,u=u===!0;try{return this._cmp(n,i)>0||this._cmp(n,i)===0&&(o||u)&&!(o&&u)?vr(this):new this.Collection(this,function(){return En(n,i,!o,!u)})}catch{return At(this,un)}},t.prototype.equals=function(n){return n==null?At(this,un):new this.Collection(this,function(){return Os(n)})},t.prototype.above=function(n){return n==null?At(this,un):new this.Collection(this,function(){return En(n,void 0,!0)})},t.prototype.aboveOrEqual=function(n){return n==null?At(this,un):new this.Collection(this,function(){return En(n,void 0,!1)})},t.prototype.below=function(n){return n==null?At(this,un):new this.Collection(this,function(){return En(void 0,n,!1,!0)})},t.prototype.belowOrEqual=function(n){return n==null?At(this,un):new this.Collection(this,function(){return En(void 0,n)})},t.prototype.startsWith=function(n){return typeof n!="string"?At(this,bs):this.between(n,n+Gn,!0,!0)},t.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):Ai(this,function(i,o){return i.indexOf(o[0])===0},[n],Gn)},t.prototype.equalsIgnoreCase=function(n){return Ai(this,function(i,o){return i===o[0]},[n],"")},t.prototype.anyOfIgnoreCase=function(){var n=Y.apply(X,arguments);return n.length===0?vr(this):Ai(this,function(i,o){return o.indexOf(i)!==-1},n,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var n=Y.apply(X,arguments);return n.length===0?vr(this):Ai(this,function(i,o){return o.some(function(u){return i.indexOf(u)===0})},n,Gn)},t.prototype.anyOf=function(){var n=this,i=Y.apply(X,arguments),o=this._cmp;try{i.sort(o)}catch{return At(this,un)}if(i.length===0)return vr(this);var u=new this.Collection(this,function(){return En(i[0],i[i.length-1])});u._ondirectionchange=function(d){o=d==="next"?n._ascending:n._descending,i.sort(o)};var c=0;return u._addAlgorithm(function(d,v,p){for(var g=d.key;o(g,i[c])>0;)if(++c,c===i.length)return v(p),!1;return o(g,i[c])===0?!0:(v(function(){d.continue(i[c])}),!1)}),u},t.prototype.notEqual=function(n){return this.inAnyRange([[Na,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var n=Y.apply(X,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return At(this,un)}var i=n.reduce(function(o,u){return o?o.concat([[o[o.length-1][1],u]]):[[Na,u]]},null);return i.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(n,i){var o=this,u=this._cmp,c=this._ascending,d=this._descending,v=this._min,p=this._max;if(n.length===0)return vr(this);if(!n.every(function(N){return N[0]!==void 0&&N[1]!==void 0&&c(N[0],N[1])<=0}))return At(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",G.InvalidArgument);var g=!i||i.includeLowers!==!1,x=i&&i.includeUppers===!0;function b(N,U){for(var q=0,H=N.length;q<H;++q){var ie=N[q];if(u(U[0],ie[1])<0&&u(U[1],ie[0])>0){ie[0]=v(ie[0],U[0]),ie[1]=p(ie[1],U[1]);break}}return q===H&&N.push(U),N}var C=c;function j(N,U){return C(N[0],U[0])}var E;try{E=n.reduce(b,[]),E.sort(j)}catch{return At(this,un)}var A=0,O=x?function(N){return c(N,E[A][1])>0}:function(N){return c(N,E[A][1])>=0},R=g?function(N){return d(N,E[A][0])>0}:function(N){return d(N,E[A][0])>=0};function K(N){return!O(N)&&!R(N)}var F=O,B=new this.Collection(this,function(){return En(E[0][0],E[E.length-1][1],!g,!x)});return B._ondirectionchange=function(N){N==="next"?(F=O,C=c):(F=R,C=d),E.sort(j)},B._addAlgorithm(function(N,U,q){for(var H=N.key;F(H);)if(++A,A===E.length)return U(q),!1;return K(H)?!0:(o._cmp(H,E[A][1])===0||o._cmp(H,E[A][0])===0||U(function(){C===c?N.continue(E[A][0]):N.continue(E[A][1])}),!1)}),B},t.prototype.startsWithAnyOf=function(){var n=Y.apply(X,arguments);return n.every(function(i){return typeof i=="string"})?n.length===0?vr(this):this.inAnyRange(n.map(function(i){return[i,i+Gn]})):At(this,"startsWithAnyOf() only works with strings")},t})();function cc(t){return Fr(Cs.prototype,function(i,o,u){if(this.db=t,this._ctx={table:i,index:o===":id"?null:o,or:u},this._cmp=this._ascending=be,this._descending=function(c,d){return be(d,c)},this._max=function(c,d){return be(c,d)>0?c:d},this._min=function(c,d){return be(c,d)<0?c:d},this._IDBKeyRange=t._deps.IDBKeyRange,!this._IDBKeyRange)throw new G.MissingAPI})}function Qt(t){return Be(function(n){return Br(n),t(n.target.error),!1})}function Br(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var jr="storagemutated",za="x-storagemutated-1",xn=Kr(null,jr),fc=(function(){function t(){}return t.prototype._lock=function(){return se(!ee.global),++this._reculock,this._reculock===1&&!ee.global&&(ee.lockOwnerFor=this),this},t.prototype._unlock=function(){if(se(!ee.global),--this._reculock===0)for(ee.global||(ee.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{Wn(n[1],n[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&ee.lockOwnerFor!==this},t.prototype.create=function(n){var i=this;if(!this.mode)return this;var o=this.db.idbdb,u=this.db._state.dbOpenError;if(se(!this.idbtrans),!n&&!o)switch(u&&u.name){case"DatabaseClosedError":throw new G.DatabaseClosed(u);case"MissingAPIError":throw new G.MissingAPI(u.message,u);default:throw new G.OpenFailed(u)}if(!this.active)throw new G.TransactionInactive;return se(this._completion._state===null),n=this.idbtrans=n||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):o.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),n.onerror=Be(function(c){Br(c),i._reject(n.error)}),n.onabort=Be(function(c){Br(c),i.active&&i._reject(new G.Abort(n.error)),i.active=!1,i.on("abort").fire(c)}),n.oncomplete=Be(function(){i.active=!1,i._resolve(),"mutatedParts"in n&&xn.storagemutated.fire(n.mutatedParts)}),this},t.prototype._promise=function(n,i,o){var u=this;if(n==="readwrite"&&this.mode!=="readwrite")return Ue(new G.ReadOnly("Transaction is readonly"));if(!this.active)return Ue(new G.TransactionInactive);if(this._locked())return new W(function(d,v){u._blockedFuncs.push([function(){u._promise(n,i,o).then(d,v)},ee])});if(o)return _n(function(){var d=new W(function(v,p){u._lock();var g=i(v,p,u);g&&g.then&&g.then(v,p)});return d.finally(function(){return u._unlock()}),d._lib=!0,d});var c=new W(function(d,v){var p=i(d,v,u);p&&p.then&&p.then(d,v)});return c._lib=!0,c},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(n){var i=this._root(),o=W.resolve(n);if(i._waitingFor)i._waitingFor=i._waitingFor.then(function(){return o});else{i._waitingFor=o,i._waitingQueue=[];var u=i.idbtrans.objectStore(i.storeNames[0]);(function d(){for(++i._spinCount;i._waitingQueue.length;)i._waitingQueue.shift()();i._waitingFor&&(u.get(-1/0).onsuccess=d)})()}var c=i._waitingFor;return new W(function(d,v){o.then(function(p){return i._waitingQueue.push(Be(d.bind(null,p)))},function(p){return i._waitingQueue.push(Be(v.bind(null,p)))}).finally(function(){i._waitingFor===c&&(i._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new G.Abort))},t.prototype.table=function(n){var i=this._memoizedTables||(this._memoizedTables={});if(_(i,n))return i[n];var o=this.schema[n];if(!o)throw new G.NotFound("Table "+n+" not part of transaction");var u=new this.db.Table(n,o,this);return u.core=this.db.core.table(n),i[n]=u,u},t})();function dc(t){return Fr(fc.prototype,function(i,o,u,c,d){var v=this;i!=="readonly"&&o.forEach(function(p){var g,x=(g=u[p])===null||g===void 0?void 0:g.yProps;x&&(o=o.concat(x.map(function(b){return b.updatesTable})))}),this.db=t,this.mode=i,this.storeNames=o,this.schema=u,this.chromeTransactionDurability=c,this.idbtrans=null,this.on=Kr(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new W(function(p,g){v._resolve=p,v._reject=g}),this._completion.then(function(){v.active=!1,v.on.complete.fire()},function(p){var g=v.active;return v.active=!1,v.on.error.fire(p),v.parent?v.parent._reject(p):g&&v.idbtrans&&v.idbtrans.abort(),Ue(p)})})}function Va(t,n,i,o,u,c,d,v){return{name:t,keyPath:n,unique:i,multi:o,auto:u,compound:c,src:(i&&!d?"&":"")+(o?"*":"")+(u?"++":"")+Ps(n),type:v}}function Ps(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Ua(t,n,i){return{name:t,primKey:n,indexes:i,mappedClass:null,idxByName:ve(i,function(o){return[o.name,o]})}}function hc(t){return t.length===1?t[0]:t}var zr=function(t){try{return t.only([[]]),zr=function(){return[[]]},[[]]}catch{return zr=function(){return Gn},Gn}};function Ha(t){return t==null?function(){}:typeof t=="string"?vc(t):function(n){return pe(n,t)}}function vc(t){var n=t.split(".");return n.length===1?function(i){return i[t]}:function(i){return pe(i,t)}}function Rs(t){return[].slice.call(t)}var pc=0;function Vr(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function yc(t,n,i){function o(b,C){var j=Rs(b.objectStoreNames);return{schema:{name:b.name,tables:j.map(function(E){return C.objectStore(E)}).map(function(E){var A=E.keyPath,O=E.autoIncrement,R=m(A),K=A==null,F={},B={name:E.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:K,compound:R,keyPath:A,autoIncrement:O,unique:!0,extractKey:Ha(A)},indexes:Rs(E.indexNames).map(function(N){return E.index(N)}).map(function(N){var U=N.name,q=N.unique,H=N.multiEntry,ie=N.keyPath,fe=m(ie),Z={name:U,compound:fe,keyPath:ie,unique:q,multiEntry:H,extractKey:Ha(ie)};return F[Vr(ie)]=Z,Z}),getIndexByKeyPath:function(N){return F[Vr(N)]}};return F[":id"]=B.primaryKey,A!=null&&(F[Vr(A)]=B.primaryKey),B})},hasGetAll:j.length>0&&"getAll"in C.objectStore(j[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function u(b){if(b.type===3)return null;if(b.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var C=b.lower,j=b.upper,E=b.lowerOpen,A=b.upperOpen,O=C===void 0?j===void 0?null:n.upperBound(j,!!A):j===void 0?n.lowerBound(C,!!E):n.bound(C,j,!!E,!!A);return O}function c(b){var C=b.name;function j(O){var R=O.trans,K=O.type,F=O.keys,B=O.values,N=O.range;return new Promise(function(U,q){U=Be(U);var H=R.objectStore(C),ie=H.keyPath==null,fe=K==="put"||K==="add";if(!fe&&K!=="delete"&&K!=="deleteRange")throw new Error("Invalid operation type: "+K);var Z=(F||B||{length:1}).length;if(F&&B&&F.length!==B.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return U({numFailures:0,failures:{},results:[],lastResult:void 0});var le,ae=[],we=[],ne=0,Ve=function($t){++ne,Br($t)};if(K==="deleteRange"){if(N.type===4)return U({numFailures:ne,failures:we,results:[],lastResult:void 0});N.type===3?ae.push(le=H.clear()):ae.push(le=H.delete(u(N)))}else{var ot=fe?ie?[B,F]:[B,null]:[F,null],Xt=ot[0],_t=ot[1];if(fe)for(var Pt=0;Pt<Z;++Pt)ae.push(le=_t&&_t[Pt]!==void 0?H[K](Xt[Pt],_t[Pt]):H[K](Xt[Pt])),le.onerror=Ve;else for(var Pt=0;Pt<Z;++Pt)ae.push(le=H[K](Xt[Pt])),le.onerror=Ve}var Dn=function($t){var Wr=$t.target.result;ae.forEach(function(zt,Bi){return zt.error!=null&&(we[Bi]=zt.error)}),U({numFailures:ne,failures:we,results:K==="delete"?F:ae.map(function(zt){return zt.result}),lastResult:Wr})};le.onerror=function($t){Ve($t),Dn($t)},le.onsuccess=Dn})}function E(O){var R=O.trans,K=O.values,F=O.query,B=O.reverse,N=O.unique;return new Promise(function(U,q){U=Be(U);var H=F.index,ie=F.range,fe=R.objectStore(C),Z=H.isPrimaryKey?fe:fe.index(H.name),le=B?N?"prevunique":"prev":N?"nextunique":"next",ae=K||!("openKeyCursor"in Z)?Z.openCursor(u(ie),le):Z.openKeyCursor(u(ie),le);ae.onerror=Qt(q),ae.onsuccess=Be(function(we){var ne=ae.result;if(!ne){U(null);return}ne.___id=++pc,ne.done=!1;var Ve=ne.continue.bind(ne),ot=ne.continuePrimaryKey;ot&&(ot=ot.bind(ne));var Xt=ne.advance.bind(ne),_t=function(){throw new Error("Cursor not started")},Pt=function(){throw new Error("Cursor not stopped")};ne.trans=R,ne.stop=ne.continue=ne.continuePrimaryKey=ne.advance=_t,ne.fail=Be(q),ne.next=function(){var Dn=this,$t=1;return this.start(function(){return $t--?Dn.continue():Dn.stop()}).then(function(){return Dn})},ne.start=function(Dn){var $t=new Promise(function(zt,Bi){zt=Be(zt),ae.onerror=Qt(Bi),ne.fail=Bi,ne.stop=function(rf){ne.stop=ne.continue=ne.continuePrimaryKey=ne.advance=Pt,zt(rf)}}),Wr=function(){if(ae.result)try{Dn()}catch(zt){ne.fail(zt)}else ne.done=!0,ne.start=function(){throw new Error("Cursor behind last entry")},ne.stop()};return ae.onsuccess=Be(function(zt){ae.onsuccess=Wr,Wr()}),ne.continue=Ve,ne.continuePrimaryKey=ot,ne.advance=Xt,Wr(),$t},U(ne)},q)})}function A(O){return function(R){return new Promise(function(K,F){K=Be(K);var B=R.trans,N=R.values,U=R.limit,q=R.query,H=U===1/0?void 0:U,ie=q.index,fe=q.range,Z=B.objectStore(C),le=ie.isPrimaryKey?Z:Z.index(ie.name),ae=u(fe);if(U===0)return K({result:[]});if(O){var we=N?le.getAll(ae,H):le.getAllKeys(ae,H);we.onsuccess=function(Xt){return K({result:Xt.target.result})},we.onerror=Qt(F)}else{var ne=0,Ve=N||!("openKeyCursor"in le)?le.openCursor(ae):le.openKeyCursor(ae),ot=[];Ve.onsuccess=function(Xt){var _t=Ve.result;if(!_t)return K({result:ot});if(ot.push(N?_t.value:_t.primaryKey),++ne===U)return K({result:ot});_t.continue()},Ve.onerror=Qt(F)}})}}return{name:C,schema:b,mutate:j,getMany:function(O){var R=O.trans,K=O.keys;return new Promise(function(F,B){F=Be(F);for(var N=R.objectStore(C),U=K.length,q=new Array(U),H=0,ie=0,fe,Z=function(ne){var Ve=ne.target;(q[Ve._pos]=Ve.result)!=null,++ie===H&&F(q)},le=Qt(B),ae=0;ae<U;++ae){var we=K[ae];we!=null&&(fe=N.get(K[ae]),fe._pos=ae,fe.onsuccess=Z,fe.onerror=le,++H)}H===0&&F(q)})},get:function(O){var R=O.trans,K=O.key;return new Promise(function(F,B){F=Be(F);var N=R.objectStore(C),U=N.get(K);U.onsuccess=function(q){return F(q.target.result)},U.onerror=Qt(B)})},query:A(p),openCursor:E,count:function(O){var R=O.query,K=O.trans,F=R.index,B=R.range;return new Promise(function(N,U){var q=K.objectStore(C),H=F.isPrimaryKey?q:q.index(F.name),ie=u(B),fe=ie?H.count(ie):H.count();fe.onsuccess=Be(function(Z){return N(Z.target.result)}),fe.onerror=Qt(U)})}}}var d=o(t,i),v=d.schema,p=d.hasGetAll,g=v.tables.map(function(b){return c(b)}),x={};return g.forEach(function(b){return x[b.name]=b}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(b){var C=x[b];if(!C)throw new Error("Table '".concat(b,"' not found"));return x[b]},MIN_KEY:-1/0,MAX_KEY:zr(n),schema:v}}function mc(t,n){return n.reduce(function(i,o){var u=o.create;return l(l({},i),u(i))},t)}function gc(t,n,i,o){var u=i.IDBKeyRange;i.indexedDB;var c=mc(yc(n,u,o),t.dbcore);return{dbcore:c}}function Si(t,n){var i=n.db,o=gc(t._middlewares,i,t._deps,n);t.core=o.dbcore,t.tables.forEach(function(u){var c=u.name;t.core.schema.tables.some(function(d){return d.name===c})&&(u.core=t.core.table(c),t[c]instanceof t.Table&&(t[c].core=u.core))})}function Ii(t,n,i,o){i.forEach(function(u){var c=o[u];n.forEach(function(d){var v=Q(d,u);(!v||"value"in v&&v.value===void 0)&&(d===t.Transaction.prototype||d instanceof t.Transaction?M(d,u,{get:function(){return this.table(u)},set:function(p){I(this,u,{value:p,writable:!0,configurable:!0,enumerable:!0})}}):d[u]=new t.Table(u,c))})})}function Wa(t,n){n.forEach(function(i){for(var o in i)i[o]instanceof t.Table&&delete i[o]})}function _c(t,n){return t._cfg.version-n._cfg.version}function bc(t,n,i,o){var u=t._dbSchema;i.objectStoreNames.contains("$meta")&&!u.$meta&&(u.$meta=Ua("$meta",Ls("")[0],[]),t._storeNames.push("$meta"));var c=t._createTransaction("readwrite",t._storeNames,u);c.create(i),c._completion.catch(o);var d=c._reject.bind(c),v=ee.transless||ee;_n(function(){if(ee.trans=c,ee.transless=v,n===0)y(u).forEach(function(p){Ya(i,p,u[p].primKey,u[p].indexes)}),Si(t,i),W.follow(function(){return t.on.populate.fire(c)}).catch(d);else return Si(t,i),Ec(t,c,n).then(function(p){return xc(t,p,c,i)}).catch(d)})}function wc(t,n){Ms(t._dbSchema,n),n.db.version%10===0&&!n.objectStoreNames.contains("$meta")&&n.db.createObjectStore("$meta").add(Math.ceil(n.db.version/10-1),"version");var i=Ci(t,t.idbdb,n);Pi(t,t._dbSchema,n);for(var o=Ga(i,t._dbSchema),u=function(g){if(g.change.length||g.recreate)return console.warn("Unable to patch indexes of table ".concat(g.name," because it has changes on the type of index or primary key.")),{value:void 0};var x=n.objectStore(g.name);g.add.forEach(function(b){Zt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(g.name,".").concat(b.src)),Oi(x,b)})},c=0,d=o.change;c<d.length;c++){var v=d[c],p=u(v);if(typeof p=="object")return p.value}}function Ec(t,n,i){return n.storeNames.includes("$meta")?n.table("$meta").get("version").then(function(o){return o??i}):W.resolve(i)}function xc(t,n,i,o){var u=[],c=t._versions,d=t._dbSchema=Ci(t,t.idbdb,o),v=c.filter(function(g){return g._cfg.version>=n});if(v.length===0)return W.resolve();v.forEach(function(g){u.push(function(){var x=d,b=g._cfg.dbschema;Pi(t,x,o),Pi(t,b,o),d=t._dbSchema=b;var C=Ga(x,b);C.add.forEach(function(K){Ya(o,K[0],K[1].primKey,K[1].indexes)}),C.change.forEach(function(K){if(K.recreate)throw new G.Upgrade("Not yet support for changing primary key");var F=o.objectStore(K.name);K.add.forEach(function(B){return Oi(F,B)}),K.change.forEach(function(B){F.deleteIndex(B.name),Oi(F,B)}),K.del.forEach(function(B){return F.deleteIndex(B)})});var j=g._cfg.contentUpgrade;if(j&&g._cfg.version>n){Si(t,o),i._memoizedTables={};var E=xe(b);C.del.forEach(function(K){E[K]=x[K]}),Wa(t,[t.Transaction.prototype]),Ii(t,[t.Transaction.prototype],y(E),E),i.schema=E;var A=ye(j);A&&fr();var O,R=W.follow(function(){if(O=j(i),O&&A){var K=bn.bind(null,null);O.then(K,K)}});return O&&typeof O.then=="function"?W.resolve(O):R.then(function(){return O})}}),u.push(function(x){var b=g._cfg.dbschema;Tc(b,x),Wa(t,[t.Transaction.prototype]),Ii(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),i.schema=t._dbSchema}),u.push(function(x){t.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(t.idbdb.version/10)===g._cfg.version?(t.idbdb.deleteObjectStore("$meta"),delete t._dbSchema.$meta,t._storeNames=t._storeNames.filter(function(b){return b!=="$meta"})):x.objectStore("$meta").put(g._cfg.version,"version"))})});function p(){return u.length?W.resolve(u.shift()(i.idbtrans)).then(p):W.resolve()}return p().then(function(){Ms(d,o)})}function Ga(t,n){var i={del:[],add:[],change:[]},o;for(o in t)n[o]||i.del.push(o);for(o in n){var u=t[o],c=n[o];if(!u)i.add.push([o,c]);else{var d={name:o,def:c,recreate:!1,del:[],add:[],change:[]};if(""+(u.primKey.keyPath||"")!=""+(c.primKey.keyPath||"")||u.primKey.auto!==c.primKey.auto)d.recreate=!0,i.change.push(d);else{var v=u.idxByName,p=c.idxByName,g=void 0;for(g in v)p[g]||d.del.push(g);for(g in p){var x=v[g],b=p[g];x?x.src!==b.src&&d.change.push(b):d.add.push(b)}(d.del.length>0||d.add.length>0||d.change.length>0)&&i.change.push(d)}}}return i}function Ya(t,n,i,o){var u=t.db.createObjectStore(n,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});return o.forEach(function(c){return Oi(u,c)}),u}function Ms(t,n){y(t).forEach(function(i){n.db.objectStoreNames.contains(i)||(Zt&&console.debug("Dexie: Creating missing table",i),Ya(n,i,t[i].primKey,t[i].indexes))})}function Tc(t,n){[].slice.call(n.db.objectStoreNames).forEach(function(i){return t[i]==null&&n.db.deleteObjectStore(i)})}function Oi(t,n){t.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function Ci(t,n,i){var o={},u=te(n.objectStoreNames,0);return u.forEach(function(c){for(var d=i.objectStore(c),v=d.keyPath,p=Va(Ps(v),v||"",!0,!1,!!d.autoIncrement,v&&typeof v!="string",!0),g=[],x=0;x<d.indexNames.length;++x){var b=d.index(d.indexNames[x]);v=b.keyPath;var C=Va(b.name,v,!!b.unique,!!b.multiEntry,!1,v&&typeof v!="string",!1);g.push(C)}o[c]=Ua(c,p,g)}),o}function kc(t,n,i){t.verno=n.version/10;var o=t._dbSchema=Ci(t,n,i);t._storeNames=te(n.objectStoreNames,0),Ii(t,[t._allTables],y(o),o)}function Dc(t,n){var i=Ci(t,t.idbdb,n),o=Ga(i,t._dbSchema);return!(o.add.length||o.change.some(function(u){return u.add.length||u.change.length}))}function Pi(t,n,i){for(var o=i.db.objectStoreNames,u=0;u<o.length;++u){var c=o[u],d=i.objectStore(c);t._hasGetAll="getAll"in d;for(var v=0;v<d.indexNames.length;++v){var p=d.indexNames[v],g=d.index(p).keyPath,x=typeof g=="string"?g:"["+te(g).join("+")+"]";if(n[c]){var b=n[c].idxByName[x];b&&(b.name=p,delete n[c].idxByName[x],n[c].idxByName[p]=b)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function Ls(t){return t.split(",").map(function(n,i){var o,u=n.split(":"),c=(o=u[1])===null||o===void 0?void 0:o.trim();n=u[0].trim();var d=n.replace(/([&*]|\+\+)/g,""),v=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return Va(d,v||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),m(v),i===0,c)})}var Ac=(function(){function t(){}return t.prototype._createTableSchema=function(n,i,o){return Ua(n,i,o)},t.prototype._parseIndexSyntax=function(n){return Ls(n)},t.prototype._parseStoresSpec=function(n,i){var o=this;y(n).forEach(function(u){if(n[u]!==null){var c=o._parseIndexSyntax(n[u]),d=c.shift();if(!d)throw new G.Schema("Invalid schema for table "+u+": "+n[u]);if(d.unique=!0,d.multi)throw new G.Schema("Primary key cannot be multiEntry*");c.forEach(function(p){if(p.auto)throw new G.Schema("Only primary key can be marked as autoIncrement (++)");if(!p.keyPath)throw new G.Schema("Index must have a name and cannot be an empty string")});var v=o._createTableSchema(u,d,c);i[u]=v}})},t.prototype.stores=function(n){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?T(this._cfg.storesSource,n):n;var o=i._versions,u={},c={};return o.forEach(function(d){T(u,d._cfg.storesSource),c=d._cfg.dbschema={},d._parseStoresSpec(u,c)}),i._dbSchema=c,Wa(i,[i._allTables,i,i.Transaction.prototype]),Ii(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],y(c),c),i._storeNames=y(c),this},t.prototype.upgrade=function(n){return this._cfg.contentUpgrade=ka(this._cfg.contentUpgrade||De,n),this},t})();function Sc(t){return Fr(Ac.prototype,function(i){this.db=t,this._cfg={version:i,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function qa(t,n){var i=t._dbNamesDB;return i||(i=t._dbNamesDB=new ln(Ei,{addons:[],indexedDB:t,IDBKeyRange:n}),i.version(1).stores({dbnames:"name"})),i.table("dbnames")}function Za(t){return t&&typeof t.databases=="function"}function Ic(t){var n=t.indexedDB,i=t.IDBKeyRange;return Za(n)?Promise.resolve(n.databases()).then(function(o){return o.map(function(u){return u.name}).filter(function(u){return u!==Ei})}):qa(n,i).toCollection().primaryKeys()}function Oc(t,n){var i=t.indexedDB,o=t.IDBKeyRange;!Za(i)&&n!==Ei&&qa(i,o).put({name:n}).catch(De)}function Cc(t,n){var i=t.indexedDB,o=t.IDBKeyRange;!Za(i)&&n!==Ei&&qa(i,o).delete(n).catch(De)}function Qa(t){return _n(function(){return ee.letThrough=!0,t()})}function Pc(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var n;return new Promise(function(i){var o=function(){return indexedDB.databases().finally(i)};n=setInterval(o,100),o()}).finally(function(){return clearInterval(n)})}var Xa;function $a(t){return!("from"in t)}var at=function(t,n){if(this)T(this,arguments.length?{d:1,from:t,to:arguments.length>1?n:t}:{d:0});else{var i=new at;return t&&"d"in t&&T(i,t),i}};k(at.prototype,(Xa={add:function(t){return Hr(this,t),this},addKey:function(t){return Ur(this,t,t),this},addKeys:function(t){var n=this;return t.forEach(function(i){return Ur(n,i,i)}),this},hasKey:function(t){var n=Ri(this).next(t).value;return n&&be(n.from,t)<=0&&be(n.to,t)>=0}},Xa[Oe]=function(){return Ri(this)},Xa));function Ur(t,n,i){var o=be(n,i);if(!isNaN(o)){if(o>0)throw RangeError();if($a(t))return T(t,{from:n,to:i,d:1});var u=t.l,c=t.r;if(be(i,t.from)<0)return u?Ur(u,n,i):t.l={from:n,to:i,d:1,l:null,r:null},Ks(t);if(be(n,t.to)>0)return c?Ur(c,n,i):t.r={from:n,to:i,d:1,l:null,r:null},Ks(t);be(n,t.from)<0&&(t.from=n,t.l=null,t.d=c?c.d+1:1),be(i,t.to)>0&&(t.to=i,t.r=null,t.d=t.l?t.l.d+1:1);var d=!t.r;u&&!t.l&&Hr(t,u),c&&d&&Hr(t,c)}}function Hr(t,n){function i(o,u){var c=u.from,d=u.to,v=u.l,p=u.r;Ur(o,c,d),v&&i(o,v),p&&i(o,p)}$a(n)||i(t,n)}function Ns(t,n){var i=Ri(n),o=i.next();if(o.done)return!1;for(var u=o.value,c=Ri(t),d=c.next(u.from),v=d.value;!o.done&&!d.done;){if(be(v.from,u.to)<=0&&be(v.to,u.from)>=0)return!0;be(u.from,v.from)<0?u=(o=i.next(v.from)).value:v=(d=c.next(u.from)).value}return!1}function Ri(t){var n=$a(t)?null:{s:0,n:t};return{next:function(i){for(var o=arguments.length>0;n;)switch(n.s){case 0:if(n.s=1,o)for(;n.n.l&&be(i,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!o||be(i,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function Ks(t){var n,i,o=(((n=t.r)===null||n===void 0?void 0:n.d)||0)-(((i=t.l)===null||i===void 0?void 0:i.d)||0),u=o>1?"r":o<-1?"l":"";if(u){var c=u==="r"?"l":"r",d=l({},t),v=t[u];t.from=v.from,t.to=v.to,t[u]=v[u],d[u]=v[c],t[c]=d,d.d=Fs(d)}t.d=Fs(t)}function Fs(t){var n=t.r,i=t.l;return(n?i?Math.max(n.d,i.d):n.d:i?i.d:0)+1}function Mi(t,n){return y(n).forEach(function(i){t[i]?Hr(t[i],n[i]):t[i]=Ce(n[i])}),t}function Ja(t,n){return t.all||n.all||Object.keys(t).some(function(i){return n[i]&&Ns(n[i],t[i])})}var qn={},eo={},to=!1;function Li(t,n){Mi(eo,t),to||(to=!0,setTimeout(function(){to=!1;var i=eo;eo={},no(i,!1)},0))}function no(t,n){n===void 0&&(n=!1);var i=new Set;if(t.all)for(var o=0,u=Object.values(qn);o<u.length;o++){var c=u[o];Bs(c,t,i,n)}else for(var d in t){var v=/^idb\:\/\/(.*)\/(.*)\//.exec(d);if(v){var p=v[1],g=v[2],c=qn["idb://".concat(p,"/").concat(g)];c&&Bs(c,t,i,n)}}i.forEach(function(x){return x()})}function Bs(t,n,i,o){for(var u=[],c=0,d=Object.entries(t.queries.query);c<d.length;c++){for(var v=d[c],p=v[0],g=v[1],x=[],b=0,C=g;b<C.length;b++){var j=C[b];Ja(n,j.obsSet)?j.subscribers.forEach(function(R){return i.add(R)}):o&&x.push(j)}o&&u.push([p,x])}if(o)for(var E=0,A=u;E<A.length;E++){var O=A[E],p=O[0],x=O[1];t.queries.query[p]=x}}function Rc(t){var n=t._state,i=t._deps.indexedDB;if(n.isBeingOpened||t.idbdb)return n.dbReadyPromise.then(function(){return n.dbOpenError?Ue(n.dbOpenError):t});n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var o=n.openCanceller,u=Math.round(t.verno*10),c=!1;function d(){if(n.openCanceller!==o)throw new G.DatabaseClosed("db.open() was cancelled")}var v=n.dbReadyResolve,p=null,g=!1,x=function(){return new W(function(b,C){if(d(),!i)throw new G.MissingAPI;var j=t.name,E=n.autoSchema||!u?i.open(j):i.open(j,u);if(!E)throw new G.MissingAPI;E.onerror=Qt(C),E.onblocked=Be(t._fireOnBlocked),E.onupgradeneeded=Be(function(A){if(p=E.transaction,n.autoSchema&&!t._options.allowEmptyDB){E.onerror=Br,p.abort(),E.result.close();var O=i.deleteDatabase(j);O.onsuccess=O.onerror=Be(function(){C(new G.NoSuchDatabase("Database ".concat(j," doesnt exist")))})}else{p.onerror=Qt(C);var R=A.oldVersion>Math.pow(2,62)?0:A.oldVersion;g=R<1,t.idbdb=E.result,c&&wc(t,p),bc(t,R/10,p,C)}},C),E.onsuccess=Be(function(){p=null;var A=t.idbdb=E.result,O=te(A.objectStoreNames);if(O.length>0)try{var R=A.transaction(hc(O),"readonly");if(n.autoSchema)kc(t,A,R);else if(Pi(t,t._dbSchema,R),!Dc(t,R)&&!c)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),A.close(),u=A.version+1,c=!0,b(x());Si(t,R)}catch{}dr.push(t),A.onversionchange=Be(function(K){n.vcFired=!0,t.on("versionchange").fire(K)}),A.onclose=Be(function(){t.close({disableAutoOpen:!1})}),g&&Oc(t._deps,j),b()},C)}).catch(function(b){switch(b?.name){case"UnknownError":if(n.PR1398_maxLoop>0)return n.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),x();break;case"VersionError":if(u>0)return u=0,x();break}return W.reject(b)})};return W.race([o,(typeof navigator>"u"?W.resolve():Pc()).then(x)]).then(function(){return d(),n.onReadyBeingFired=[],W.resolve(Qa(function(){return t.on.ready.fire(t.vip)})).then(function b(){if(n.onReadyBeingFired.length>0){var C=n.onReadyBeingFired.reduce(ka,De);return n.onReadyBeingFired=[],W.resolve(Qa(function(){return C(t.vip)})).then(b)}})}).finally(function(){n.openCanceller===o&&(n.onReadyBeingFired=null,n.isBeingOpened=!1)}).catch(function(b){n.dbOpenError=b;try{p&&p.abort()}catch{}return o===n.openCanceller&&t._close(),Ue(b)}).finally(function(){n.openComplete=!0,v()}).then(function(){if(g){var b={};t.tables.forEach(function(C){C.schema.indexes.forEach(function(j){j.name&&(b["idb://".concat(t.name,"/").concat(C.name,"/").concat(j.name)]=new at(-1/0,[[[]]]))}),b["idb://".concat(t.name,"/").concat(C.name,"/")]=b["idb://".concat(t.name,"/").concat(C.name,"/:dels")]=new at(-1/0,[[[]]])}),xn(jr).fire(b),no(b,!0)}return t})}function ro(t){var n=function(d){return t.next(d)},i=function(d){return t.throw(d)},o=c(n),u=c(i);function c(d){return function(v){var p=d(v),g=p.value;return p.done?g:!g||typeof g.then!="function"?m(g)?Promise.all(g).then(o,u):o(g):g.then(o,u)}}return c(n)()}function Mc(t,n,i){var o=arguments.length;if(o<2)throw new G.InvalidArgument("Too few arguments");for(var u=new Array(o-1);--o;)u[o-1]=arguments[o];i=u.pop();var c=Xe(u);return[t,c,i]}function js(t,n,i,o,u){return W.resolve().then(function(){var c=ee.transless||ee,d=t._createTransaction(n,i,t._dbSchema,o);d.explicit=!0;var v={trans:d,transless:c};if(o)d.idbtrans=o.idbtrans;else try{d.create(),d.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(b){return b.name===Le.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return js(t,n,i,null,u)})):Ue(b)}var p=ye(u);p&&fr();var g,x=W.follow(function(){if(g=u.call(d,d),g)if(p){var b=bn.bind(null,null);g.then(b,b)}else typeof g.next=="function"&&typeof g.throw=="function"&&(g=ro(g))},v);return(g&&typeof g.then=="function"?W.resolve(g).then(function(b){return d.active?b:Ue(new G.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):x.then(function(){return g})).then(function(b){return o&&d._resolve(),d._completion.then(function(){return b})}).catch(function(b){return d._reject(b),Ue(b)})})}function Ni(t,n,i){for(var o=m(t)?t.slice():[t],u=0;u<i;++u)o.push(n);return o}function Lc(t){return l(l({},t),{table:function(n){var i=t.table(n),o=i.schema,u={},c=[];function d(A,O,R){var K=Vr(A),F=u[K]=u[K]||[],B=A==null?0:typeof A=="string"?1:A.length,N=O>0,U=l(l({},R),{name:N?"".concat(K,"(virtual-from:").concat(R.name,")"):R.name,lowLevelIndex:R,isVirtual:N,keyTail:O,keyLength:B,extractKey:Ha(A),unique:!N&&R.unique});if(F.push(U),U.isPrimaryKey||c.push(U),B>1){var q=B===2?A[0]:A.slice(0,B-1);d(q,O+1,R)}return F.sort(function(H,ie){return H.keyTail-ie.keyTail}),U}var v=d(o.primaryKey.keyPath,0,o.primaryKey);u[":id"]=[v];for(var p=0,g=o.indexes;p<g.length;p++){var x=g[p];d(x.keyPath,0,x)}function b(A){var O=u[Vr(A)];return O&&O[0]}function C(A,O){return{type:A.type===1?2:A.type,lower:Ni(A.lower,A.lowerOpen?t.MAX_KEY:t.MIN_KEY,O),lowerOpen:!0,upper:Ni(A.upper,A.upperOpen?t.MIN_KEY:t.MAX_KEY,O),upperOpen:!0}}function j(A){var O=A.query.index;return O.isVirtual?l(l({},A),{query:{index:O.lowLevelIndex,range:C(A.query.range,O.keyTail)}}):A}var E=l(l({},i),{schema:l(l({},o),{primaryKey:v,indexes:c,getIndexByKeyPath:b}),count:function(A){return i.count(j(A))},query:function(A){return i.query(j(A))},openCursor:function(A){var O=A.query.index,R=O.keyTail,K=O.isVirtual,F=O.keyLength;if(!K)return i.openCursor(A);function B(N){function U(H){H!=null?N.continue(Ni(H,A.reverse?t.MAX_KEY:t.MIN_KEY,R)):A.unique?N.continue(N.key.slice(0,F).concat(A.reverse?t.MIN_KEY:t.MAX_KEY,R)):N.continue()}var q=Object.create(N,{continue:{value:U},continuePrimaryKey:{value:function(H,ie){N.continuePrimaryKey(Ni(H,t.MAX_KEY,R),ie)}},primaryKey:{get:function(){return N.primaryKey}},key:{get:function(){var H=N.key;return F===1?H[0]:H.slice(0,F)}},value:{get:function(){return N.value}}});return q}return i.openCursor(j(A)).then(function(N){return N&&B(N)})}});return E}})}var Nc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Lc};function io(t,n,i,o){return i=i||{},o=o||"",y(t).forEach(function(u){if(!_(n,u))i[o+u]=void 0;else{var c=t[u],d=n[u];if(typeof c=="object"&&typeof d=="object"&&c&&d){var v=$e(c),p=$e(d);v!==p?i[o+u]=n[u]:v==="Object"?io(c,d,i,o+u+"."):c!==d&&(i[o+u]=n[u])}else c!==d&&(i[o+u]=n[u])}}),y(n).forEach(function(u){_(t,u)||(i[o+u]=n[u])}),i}function ao(t,n){return n.type==="delete"?n.keys:n.keys||n.values.map(t.extractKey)}var Kc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return l(l({},t),{table:function(n){var i=t.table(n),o=i.schema.primaryKey,u=l(l({},i),{mutate:function(c){var d=ee.trans,v=d.table(n).hook,p=v.deleting,g=v.creating,x=v.updating;switch(c.type){case"add":if(g.fire===De)break;return d._promise("readwrite",function(){return b(c)},!0);case"put":if(g.fire===De&&x.fire===De)break;return d._promise("readwrite",function(){return b(c)},!0);case"delete":if(p.fire===De)break;return d._promise("readwrite",function(){return b(c)},!0);case"deleteRange":if(p.fire===De)break;return d._promise("readwrite",function(){return C(c)},!0)}return i.mutate(c);function b(E){var A=ee.trans,O=E.keys||ao(o,E);if(!O)throw new Error("Keys missing");return E=E.type==="add"||E.type==="put"?l(l({},E),{keys:O}):l({},E),E.type!=="delete"&&(E.values=f([],E.values)),E.keys&&(E.keys=f([],E.keys)),Fc(i,E,O).then(function(R){var K=O.map(function(F,B){var N=R[B],U={onerror:null,onsuccess:null};if(E.type==="delete")p.fire.call(U,F,N,A);else if(E.type==="add"||N===void 0){var q=g.fire.call(U,F,E.values[B],A);F==null&&q!=null&&(F=q,E.keys[B]=F,o.outbound||ce(E.values[B],o.keyPath,F))}else{var H=io(N,E.values[B]),ie=x.fire.call(U,H,F,N,A);if(ie){var fe=E.values[B];Object.keys(ie).forEach(function(Z){_(fe,Z)?fe[Z]=ie[Z]:ce(fe,Z,ie[Z])})}}return U});return i.mutate(E).then(function(F){for(var B=F.failures,N=F.results,U=F.numFailures,q=F.lastResult,H=0;H<O.length;++H){var ie=N?N[H]:O[H],fe=K[H];ie==null?fe.onerror&&fe.onerror(B[H]):fe.onsuccess&&fe.onsuccess(E.type==="put"&&R[H]?E.values[H]:ie)}return{failures:B,results:N,numFailures:U,lastResult:q}}).catch(function(F){return K.forEach(function(B){return B.onerror&&B.onerror(F)}),Promise.reject(F)})})}function C(E){return j(E.trans,E.range,1e4)}function j(E,A,O){return i.query({trans:E,values:!1,query:{index:o,range:A},limit:O}).then(function(R){var K=R.result;return b({type:"delete",keys:K,trans:E}).then(function(F){return F.numFailures>0?Promise.reject(F.failures[0]):K.length<O?{failures:[],numFailures:0,lastResult:void 0}:j(E,l(l({},A),{lower:K[K.length-1],lowerOpen:!0}),O)})})}}});return u}})}};function Fc(t,n,i){return n.type==="add"?Promise.resolve([]):t.getMany({trans:n.trans,keys:i,cache:"immutable"})}function zs(t,n,i){try{if(!n||n.keys.length<t.length)return null;for(var o=[],u=0,c=0;u<n.keys.length&&c<t.length;++u)be(n.keys[u],t[c])===0&&(o.push(i?ue(n.values[u]):n.values[u]),++c);return o.length===t.length?o:null}catch{return null}}var Bc={stack:"dbcore",level:-1,create:function(t){return{table:function(n){var i=t.table(n);return l(l({},i),{getMany:function(o){if(!o.cache)return i.getMany(o);var u=zs(o.keys,o.trans._cache,o.cache==="clone");return u?W.resolve(u):i.getMany(o).then(function(c){return o.trans._cache={keys:o.keys,values:o.cache==="clone"?ue(c):c},c})},mutate:function(o){return o.type!=="add"&&(o.trans._cache=null),i.mutate(o)}})}}}};function Vs(t,n){return t.trans.mode==="readonly"&&!!t.subscr&&!t.trans.explicit&&t.trans.db._options.cache!=="disabled"&&!n.schema.primaryKey.outbound}function Us(t,n){switch(t){case"query":return n.values&&!n.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var jc={stack:"dbcore",level:0,name:"Observability",create:function(t){var n=t.schema.name,i=new at(t.MIN_KEY,t.MAX_KEY);return l(l({},t),{transaction:function(o,u,c){if(ee.subscr&&u!=="readonly")throw new G.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ee.querier));return t.transaction(o,u,c)},table:function(o){var u=t.table(o),c=u.schema,d=c.primaryKey,v=c.indexes,p=d.extractKey,g=d.outbound,x=d.autoIncrement&&v.filter(function(E){return E.compound&&E.keyPath.includes(d.keyPath)}),b=l(l({},u),{mutate:function(E){var A,O,R=E.trans,K=E.mutatedParts||(E.mutatedParts={}),F=function(ae){var we="idb://".concat(n,"/").concat(o,"/").concat(ae);return K[we]||(K[we]=new at)},B=F(""),N=F(":dels"),U=E.type,q=E.type==="deleteRange"?[E.range]:E.type==="delete"?[E.keys]:E.values.length<50?[ao(d,E).filter(function(ae){return ae}),E.values]:[],H=q[0],ie=q[1],fe=E.trans._cache;if(m(H)){B.addKeys(H);var Z=U==="delete"||H.length===ie.length?zs(H,fe):null;Z||N.addKeys(H),(Z||ie)&&zc(F,c,Z,ie)}else if(H){var le={from:(A=H.lower)!==null&&A!==void 0?A:t.MIN_KEY,to:(O=H.upper)!==null&&O!==void 0?O:t.MAX_KEY};N.add(le),B.add(le)}else B.add(i),N.add(i),c.indexes.forEach(function(ae){return F(ae.name).add(i)});return u.mutate(E).then(function(ae){return H&&(E.type==="add"||E.type==="put")&&(B.addKeys(ae.results),x&&x.forEach(function(we){for(var ne=E.values.map(function(_t){return we.extractKey(_t)}),Ve=we.keyPath.findIndex(function(_t){return _t===d.keyPath}),ot=0,Xt=ae.results.length;ot<Xt;++ot)ne[ot][Ve]=ae.results[ot];F(we.name).addKeys(ne)})),R.mutatedParts=Mi(R.mutatedParts||{},K),ae})}}),C=function(E){var A,O,R=E.query,K=R.index,F=R.range;return[K,new at((A=F.lower)!==null&&A!==void 0?A:t.MIN_KEY,(O=F.upper)!==null&&O!==void 0?O:t.MAX_KEY)]},j={get:function(E){return[d,new at(E.key)]},getMany:function(E){return[d,new at().addKeys(E.keys)]},count:C,query:C,openCursor:C};return y(j).forEach(function(E){b[E]=function(A){var O=ee.subscr,R=!!O,K=Vs(ee,u)&&Us(E,A),F=K?A.obsSet={}:O;if(R){var B=function(Z){var le="idb://".concat(n,"/").concat(o,"/").concat(Z);return F[le]||(F[le]=new at)},N=B(""),U=B(":dels"),q=j[E](A),H=q[0],ie=q[1];if(E==="query"&&H.isPrimaryKey&&!A.values?U.add(ie):B(H.name||"").add(ie),!H.isPrimaryKey)if(E==="count")U.add(i);else{var fe=E==="query"&&g&&A.values&&u.query(l(l({},A),{values:!1}));return u[E].apply(this,arguments).then(function(Z){if(E==="query"){if(g&&A.values)return fe.then(function(ne){var Ve=ne.result;return N.addKeys(Ve),Z});var le=A.values?Z.result.map(p):Z.result;A.values?N.addKeys(le):U.addKeys(le)}else if(E==="openCursor"){var ae=Z,we=A.values;return ae&&Object.create(ae,{key:{get:function(){return U.addKey(ae.primaryKey),ae.key}},primaryKey:{get:function(){var ne=ae.primaryKey;return U.addKey(ne),ne}},value:{get:function(){return we&&N.addKey(ae.primaryKey),ae.value}}})}return Z})}}return u[E].apply(this,arguments)}}),b}})}};function zc(t,n,i,o){function u(c){var d=t(c.name||"");function v(g){return g!=null?c.extractKey(g):null}var p=function(g){return c.multiEntry&&m(g)?g.forEach(function(x){return d.addKey(x)}):d.addKey(g)};(i||o).forEach(function(g,x){var b=i&&v(i[x]),C=o&&v(o[x]);be(b,C)!==0&&(b!=null&&p(b),C!=null&&p(C))})}n.indexes.forEach(u)}function Hs(t,n,i){if(i.numFailures===0)return n;if(n.type==="deleteRange")return null;var o=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;if(i.numFailures===o)return null;var u=l({},n);return m(u.keys)&&(u.keys=u.keys.filter(function(c,d){return!(d in i.failures)})),"values"in u&&m(u.values)&&(u.values=u.values.filter(function(c,d){return!(d in i.failures)})),u}function Vc(t,n){return n.lower===void 0?!0:n.lowerOpen?be(t,n.lower)>0:be(t,n.lower)>=0}function Uc(t,n){return n.upper===void 0?!0:n.upperOpen?be(t,n.upper)<0:be(t,n.upper)<=0}function oo(t,n){return Vc(t,n)&&Uc(t,n)}function Ws(t,n,i,o,u,c){if(!i||i.length===0)return t;var d=n.query.index,v=d.multiEntry,p=n.query.range,g=o.schema.primaryKey,x=g.extractKey,b=d.extractKey,C=(d.lowLevelIndex||d).extractKey,j=i.reduce(function(E,A){var O=E,R=[];if(A.type==="add"||A.type==="put")for(var K=new at,F=A.values.length-1;F>=0;--F){var B=A.values[F],N=x(B);if(!K.hasKey(N)){var U=b(B);(v&&m(U)?U.some(function(Z){return oo(Z,p)}):oo(U,p))&&(K.addKey(N),R.push(B))}}switch(A.type){case"add":{var q=new at().addKeys(n.values?E.map(function(Z){return x(Z)}):E);O=E.concat(n.values?R.filter(function(Z){var le=x(Z);return q.hasKey(le)?!1:(q.addKey(le),!0)}):R.map(function(Z){return x(Z)}).filter(function(Z){return q.hasKey(Z)?!1:(q.addKey(Z),!0)}));break}case"put":{var H=new at().addKeys(A.values.map(function(Z){return x(Z)}));O=E.filter(function(Z){return!H.hasKey(n.values?x(Z):Z)}).concat(n.values?R:R.map(function(Z){return x(Z)}));break}case"delete":var ie=new at().addKeys(A.keys);O=E.filter(function(Z){return!ie.hasKey(n.values?x(Z):Z)});break;case"deleteRange":var fe=A.range;O=E.filter(function(Z){return!oo(x(Z),fe)});break}return O},t);return j===t?t:(j.sort(function(E,A){return be(C(E),C(A))||be(x(E),x(A))}),n.limit&&n.limit<1/0&&(j.length>n.limit?j.length=n.limit:t.length===n.limit&&j.length<n.limit&&(u.dirty=!0)),c?Object.freeze(j):j)}function Gs(t,n){return be(t.lower,n.lower)===0&&be(t.upper,n.upper)===0&&!!t.lowerOpen==!!n.lowerOpen&&!!t.upperOpen==!!n.upperOpen}function Hc(t,n,i,o){if(t===void 0)return n!==void 0?-1:0;if(n===void 0)return 1;var u=be(t,n);if(u===0){if(i&&o)return 0;if(i)return 1;if(o)return-1}return u}function Wc(t,n,i,o){if(t===void 0)return n!==void 0?1:0;if(n===void 0)return-1;var u=be(t,n);if(u===0){if(i&&o)return 0;if(i)return-1;if(o)return 1}return u}function Gc(t,n){return Hc(t.lower,n.lower,t.lowerOpen,n.lowerOpen)<=0&&Wc(t.upper,n.upper,t.upperOpen,n.upperOpen)>=0}function Yc(t,n,i,o){var u=qn["idb://".concat(t,"/").concat(n)];if(!u)return[];var c=u.queries[i];if(!c)return[null,!1,u,null];var d=o.query?o.query.index.name:null,v=c[d||""];if(!v)return[null,!1,u,null];switch(i){case"query":var p=v.find(function(b){return b.req.limit===o.limit&&b.req.values===o.values&&Gs(b.req.query.range,o.query.range)});if(p)return[p,!0,u,v];var g=v.find(function(b){var C="limit"in b.req?b.req.limit:1/0;return C>=o.limit&&(o.values?b.req.values:!0)&&Gc(b.req.query.range,o.query.range)});return[g,!1,u,v];case"count":var x=v.find(function(b){return Gs(b.req.query.range,o.query.range)});return[x,!!x,u,v]}}function qc(t,n,i,o){t.subscribers.add(i),o.addEventListener("abort",function(){t.subscribers.delete(i),t.subscribers.size===0&&Zc(t,n)})}function Zc(t,n){setTimeout(function(){t.subscribers.size===0&&V(n,t)},3e3)}var Qc={stack:"dbcore",level:0,name:"Cache",create:function(t){var n=t.schema.name,i=l(l({},t),{transaction:function(o,u,c){var d=t.transaction(o,u,c);if(u==="readwrite"){var v=new AbortController,p=v.signal,g=function(x){return function(){if(v.abort(),u==="readwrite"){for(var b=new Set,C=0,j=o;C<j.length;C++){var E=j[C],A=qn["idb://".concat(n,"/").concat(E)];if(A){var O=t.table(E),R=A.optimisticOps.filter(function(we){return we.trans===d});if(d._explicit&&x&&d.mutatedParts)for(var K=0,F=Object.values(A.queries.query);K<F.length;K++)for(var B=F[K],N=0,U=B.slice();N<U.length;N++){var q=U[N];Ja(q.obsSet,d.mutatedParts)&&(V(B,q),q.subscribers.forEach(function(we){return b.add(we)}))}else if(R.length>0){A.optimisticOps=A.optimisticOps.filter(function(we){return we.trans!==d});for(var H=0,ie=Object.values(A.queries.query);H<ie.length;H++)for(var B=ie[H],fe=0,Z=B.slice();fe<Z.length;fe++){var q=Z[fe];if(q.res!=null&&d.mutatedParts)if(x&&!q.dirty){var le=Object.isFrozen(q.res),ae=Ws(q.res,q.req,R,O,q,le);q.dirty?(V(B,q),q.subscribers.forEach(function(Ve){return b.add(Ve)})):ae!==q.res&&(q.res=ae,q.promise=W.resolve({result:ae}))}else q.dirty&&V(B,q),q.subscribers.forEach(function(Ve){return b.add(Ve)})}}}}b.forEach(function(we){return we()})}}};d.addEventListener("abort",g(!1),{signal:p}),d.addEventListener("error",g(!1),{signal:p}),d.addEventListener("complete",g(!0),{signal:p})}return d},table:function(o){var u=t.table(o),c=u.schema.primaryKey,d=l(l({},u),{mutate:function(v){var p=ee.trans;if(c.outbound||p.db._options.cache==="disabled"||p.explicit||p.idbtrans.mode!=="readwrite")return u.mutate(v);var g=qn["idb://".concat(n,"/").concat(o)];if(!g)return u.mutate(v);var x=u.mutate(v);return(v.type==="add"||v.type==="put")&&(v.values.length>=50||ao(c,v).some(function(b){return b==null}))?x.then(function(b){var C=l(l({},v),{values:v.values.map(function(E,A){var O;if(b.failures[A])return E;var R=!((O=c.keyPath)===null||O===void 0)&&O.includes(".")?ue(E):l({},E);return ce(R,c.keyPath,b.results[A]),R})}),j=Hs(g,C,b);g.optimisticOps.push(j),queueMicrotask(function(){return v.mutatedParts&&Li(v.mutatedParts)})}):(g.optimisticOps.push(v),v.mutatedParts&&Li(v.mutatedParts),x.then(function(b){if(b.numFailures>0){V(g.optimisticOps,v);var C=Hs(g,v,b);C&&g.optimisticOps.push(C),v.mutatedParts&&Li(v.mutatedParts)}}),x.catch(function(){V(g.optimisticOps,v),v.mutatedParts&&Li(v.mutatedParts)})),x},query:function(v){var p;if(!Vs(ee,u)||!Us("query",v))return u.query(v);var g=((p=ee.trans)===null||p===void 0?void 0:p.db._options.cache)==="immutable",x=ee,b=x.requery,C=x.signal,j=Yc(n,o,"query",v),E=j[0],A=j[1],O=j[2],R=j[3];if(E&&A)E.obsSet=v.obsSet;else{var K=u.query(v).then(function(F){var B=F.result;if(E&&(E.res=B),g){for(var N=0,U=B.length;N<U;++N)Object.freeze(B[N]);Object.freeze(B)}else F.result=ue(B);return F}).catch(function(F){return R&&E&&V(R,E),Promise.reject(F)});E={obsSet:v.obsSet,promise:K,subscribers:new Set,type:"query",req:v,dirty:!1},R?R.push(E):(R=[E],O||(O=qn["idb://".concat(n,"/").concat(o)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),O.queries.query[v.query.index.name||""]=R)}return qc(E,R,b,C),E.promise.then(function(F){return{result:Ws(F.result,v,O?.optimisticOps,u,E,g)}})}});return d}});return i}};function Ki(t,n){return new Proxy(t,{get:function(i,o,u){return o==="db"?n:Reflect.get(i,o,u)}})}var ln=(function(){function t(n,i){var o=this;this._middlewares={},this.verno=0;var u=t.dependencies;this._options=i=l({addons:t.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange};var c=i.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:De,dbReadyPromise:null,cancelOpen:De,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};d.dbReadyPromise=new W(function(p){d.dbReadyResolve=p}),d.openCanceller=new W(function(p,g){d.cancelOpen=g}),this._state=d,this.name=n,this.on=Kr(this,"populate","blocked","versionchange","close",{ready:[ka,De]}),this.once=function(p,g){var x=function(){for(var b=[],C=0;C<arguments.length;C++)b[C]=arguments[C];o.on(p).unsubscribe(x),g.apply(o,b)};return o.on(p,x)},this.on.ready.subscribe=oe(this.on.ready.subscribe,function(p){return function(g,x){t.vip(function(){var b=o._state;if(b.openComplete)b.dbOpenError||W.resolve().then(g),x&&p(g);else if(b.onReadyBeingFired)b.onReadyBeingFired.push(g),x&&p(g);else{p(g);var C=o;x||p(function j(){C.on.ready.unsubscribe(g),C.on.ready.unsubscribe(j)})}})}}),this.Collection=ic(this),this.Table=tc(this),this.Transaction=dc(this),this.Version=Sc(this),this.WhereClause=cc(this),this.on("versionchange",function(p){p.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(o.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(o.name,"'. Closing db now to resume the delete request.")),o.close({disableAutoOpen:!1})}),this.on("blocked",function(p){!p.newVersion||p.newVersion<p.oldVersion?console.warn("Dexie.delete('".concat(o.name,"') was blocked")):console.warn("Upgrade '".concat(o.name,"' blocked by other connection holding version ").concat(p.oldVersion/10))}),this._maxKey=zr(i.IDBKeyRange),this._createTransaction=function(p,g,x,b){return new o.Transaction(p,g,x,o._options.chromeTransactionDurability,b)},this._fireOnBlocked=function(p){o.on("blocked").fire(p),dr.filter(function(g){return g.name===o.name&&g!==o&&!g._state.vcFired}).map(function(g){return g.on("versionchange").fire(p)})},this.use(Bc),this.use(Qc),this.use(jc),this.use(Nc),this.use(Kc);var v=new Proxy(this,{get:function(p,g,x){if(g==="_vip")return!0;if(g==="table")return function(C){return Ki(o.table(C),v)};var b=Reflect.get(p,g,x);return b instanceof Ds?Ki(b,v):g==="tables"?b.map(function(C){return Ki(C,v)}):g==="_createTransaction"?function(){var C=b.apply(this,arguments);return Ki(C,v)}:b}});this.vip=v,c.forEach(function(p){return p(o)})}return t.prototype.version=function(n){if(isNaN(n)||n<.1)throw new G.Type("Given version is not a positive number");if(n=Math.round(n*10)/10,this.idbdb||this._state.isBeingOpened)throw new G.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var i=this._versions,o=i.filter(function(u){return u._cfg.version===n})[0];return o||(o=new this.Version(n),i.push(o),i.sort(_c),o.stores({}),this._state.autoSchema=!1,o)},t.prototype._whenReady=function(n){var i=this;return this.idbdb&&(this._state.openComplete||ee.letThrough||this._vip)?n():new W(function(o,u){if(i._state.openComplete)return u(new G.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen){u(new G.DatabaseClosed);return}i.open().catch(De)}i._state.dbReadyPromise.then(o,u)}).then(n)},t.prototype.use=function(n){var i=n.stack,o=n.create,u=n.level,c=n.name;c&&this.unuse({stack:i,name:c});var d=this._middlewares[i]||(this._middlewares[i]=[]);return d.push({stack:i,create:o,level:u??10,name:c}),d.sort(function(v,p){return v.level-p.level}),this},t.prototype.unuse=function(n){var i=n.stack,o=n.name,u=n.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(c){return u?c.create!==u:o?c.name!==o:!1})),this},t.prototype.open=function(){var n=this;return Wn(gn,function(){return Rc(n)})},t.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var n=this._state,i=dr.indexOf(this);if(i>=0&&dr.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new W(function(o){n.dbReadyResolve=o}),n.openCanceller=new W(function(o,u){n.cancelOpen=u}))},t.prototype.close=function(n){var i=n===void 0?{disableAutoOpen:!0}:n,o=i.disableAutoOpen,u=this._state;o?(u.isBeingOpened&&u.cancelOpen(new G.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new G.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},t.prototype.delete=function(n){var i=this;n===void 0&&(n={disableAutoOpen:!0});var o=arguments.length>0&&typeof arguments[0]!="object",u=this._state;return new W(function(c,d){var v=function(){i.close(n);var p=i._deps.indexedDB.deleteDatabase(i.name);p.onsuccess=Be(function(){Cc(i._deps,i.name),c()}),p.onerror=Qt(d),p.onblocked=i._fireOnBlocked};if(o)throw new G.InvalidArgument("Invalid closeOptions argument to db.delete()");u.isBeingOpened?u.dbReadyPromise.then(v):v()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var n=this;return y(this._allTables).map(function(i){return n._allTables[i]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var n=Mc.apply(this,arguments);return this._transaction.apply(this,n)},t.prototype._transaction=function(n,i,o){var u=this,c=ee.trans;(!c||c.db!==this||n.indexOf("!")!==-1)&&(c=null);var d=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");var v,p;try{if(p=i.map(function(x){var b=x instanceof u.Table?x.name:x;if(typeof b!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return b}),n=="r"||n===Ka)v=Ka;else if(n=="rw"||n==Fa)v=Fa;else throw new G.InvalidArgument("Invalid transaction mode: "+n);if(c){if(c.mode===Ka&&v===Fa)if(d)c=null;else throw new G.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");c&&p.forEach(function(x){if(c&&c.storeNames.indexOf(x)===-1)if(d)c=null;else throw new G.SubTransaction("Table "+x+" not included in parent transaction.")}),d&&c&&!c.active&&(c=null)}}catch(x){return c?c._promise(null,function(b,C){C(x)}):Ue(x)}var g=js.bind(null,this,v,p,c,o);return c?c._promise(v,g,"lock"):ee.trans?Wn(ee.transless,function(){return u._whenReady(g)}):this._whenReady(g)},t.prototype.table=function(n){if(!_(this._allTables,n))throw new G.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},t})(),Xc=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",$c=(function(){function t(n){this._subscribe=n}return t.prototype.subscribe=function(n,i,o){return this._subscribe(!n||typeof n=="function"?{next:n,error:i,complete:o}:n)},t.prototype[Xc]=function(){return this},t})(),Fi;try{Fi={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{Fi={indexedDB:null,IDBKeyRange:null}}function Ys(t){var n=!1,i,o=new $c(function(u){var c=ye(t);function d(R){var K=lr();try{c&&fr();var F=_n(t,R);return c&&(F=F.finally(bn)),F}finally{K&&cr()}}var v=!1,p,g={},x={},b={get closed(){return v},unsubscribe:function(){v||(v=!0,p&&p.abort(),C&&xn.storagemutated.unsubscribe(A))}};u.start&&u.start(b);var C=!1,j=function(){return Ma(O)};function E(){return Ja(x,g)}var A=function(R){Mi(g,R),E()&&j()},O=function(){if(!(v||!Fi.indexedDB)){g={};var R={};p&&p.abort(),p=new AbortController;var K={subscr:R,signal:p.signal,requery:j,querier:t,trans:null},F=d(K);Promise.resolve(F).then(function(B){n=!0,i=B,!(v||K.signal.aborted)&&(g={},x=R,!jt(x)&&!C&&(xn(jr,A),C=!0),Ma(function(){return!v&&u.next&&u.next(B)}))},function(B){n=!1,["DatabaseClosedError","AbortError"].includes(B?.name)||v||Ma(function(){v||u.error&&u.error(B)})})}};return setTimeout(j,0),b});return o.hasValue=function(){return n},o.getValue=function(){return i},o}var Zn=ln;k(Zn,l(l({},Ct),{delete:function(t){var n=new Zn(t,{addons:[]});return n.delete()},exists:function(t){return new Zn(t,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return Ic(Zn.dependencies).then(t)}catch{return Ue(new G.MissingAPI)}},defineClass:function(){function t(n){T(this,n)}return t},ignoreTransaction:function(t){return ee.trans?Wn(ee.transless,t):t()},vip:Qa,async:function(t){return function(){try{var n=ro(t.apply(this,arguments));return!n||typeof n.then!="function"?W.resolve(n):n}catch(i){return Ue(i)}}},spawn:function(t,n,i){try{var o=ro(t.apply(i,n||[]));return!o||typeof o.then!="function"?W.resolve(o):o}catch(u){return Ue(u)}},currentTransaction:{get:function(){return ee.trans||null}},waitFor:function(t,n){var i=W.resolve(typeof t=="function"?Zn.ignoreTransaction(t):t).timeout(n||6e4);return ee.trans?ee.trans.waitFor(i):i},Promise:W,debug:{get:function(){return Zt},set:function(t){cs(t)}},derive:P,extend:T,props:k,override:oe,Events:Kr,on:xn,liveQuery:Ys,extendObservabilitySet:Mi,getByKeyPath:pe,setByKeyPath:ce,delByKeyPath:_e,shallowClone:xe,deepClone:ue,getObjectDiff:io,cmp:be,asap:he,minKey:Na,addons:[],connections:dr,errnames:Le,dependencies:Fi,cache:qn,semVer:_s,version:_s.split(".").map(function(t){return parseInt(t)}).reduce(function(t,n,i){return t+n/Math.pow(10,i*2)})})),Zn.maxKey=zr(Zn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(xn(jr,function(t){if(!Tn){var n;n=new CustomEvent(za,{detail:t}),Tn=!0,dispatchEvent(n),Tn=!1}}),addEventListener(za,function(t){var n=t.detail;Tn||so(n)}));function so(t){var n=Tn;try{Tn=!0,xn.storagemutated.fire(t),no(t,!0)}finally{Tn=n}}var Tn=!1,kn,uo=function(){};typeof BroadcastChannel<"u"&&(uo=function(){kn=new BroadcastChannel(za),kn.onmessage=function(t){return t.data&&so(t.data)}},uo(),typeof kn.unref=="function"&&kn.unref(),xn(jr,function(t){Tn||kn.postMessage(t)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(t){if(!ln.disableBfCache&&t.persisted){Zt&&console.debug("Dexie: handling persisted pagehide"),kn?.close();for(var n=0,i=dr;n<i.length;n++){var o=i[n];o.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(t){!ln.disableBfCache&&t.persisted&&(Zt&&console.debug("Dexie: handling persisted pageshow"),uo(),so({all:new at(-1/0,[[]])}))}));function Jc(t){return new Nr({add:t})}function ef(t){return new Nr({remove:t})}function tf(t,n){return new Nr({replacePrefix:[t,n]})}W.rejectionMapper=ze,cs(Zt);var nf=Object.freeze({__proto__:null,Dexie:ln,liveQuery:Ys,Entity:Es,cmp:be,PropModification:Nr,replacePrefix:tf,add:Jc,remove:ef,default:ln,RangeSet:at,mergeRanges:Hr,rangesOverlap:Ns});return l(ln,nf,{default:ln}),ln}))})(Wi)),Wi.exports}var Gd=Wd();const So=Ud(Gd),uu=Symbol.for("Dexie"),na=globalThis[uu]||(globalThis[uu]=So);if(So.semVer!==na.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${So.semVer} and ${na.semVer}`);const{liveQuery:ra,mergeRanges:Qv,rangesOverlap:Xv,RangeSet:$v,cmp:Jv,Entity:ep,PropModification:tp,replacePrefix:np,add:rp,remove:ip,DexieYProvider:ap}=na,Pe=new na("TaskPlannerDB");Pe.version(1).stores({lists:"++id, name, order",tasks:"++id, text, listId, order",preferences:"key",calendarSyncState:"key"});Pe.version(2).stores({lists:"++id, name, order",tasks:"++id, text, listId, order, status",preferences:"key",calendarSyncState:"key"}).upgrade(e=>e.tasks.toCollection().modify(r=>{r.status="unchecked"}));Pe.version(3).stores({lists:"++id, name, order",tasks:"++id, text, listId, order, status, archivedAt",preferences:"key",calendarSyncState:"key"}).upgrade(e=>e.tasks.where("status").equals("archived").modify(r=>{r.archivedAt=Date.now()}));async function ml(){return await Pe.lists.orderBy("order").toArray()}async function Yd(e){const r=e.trim();if(r==="")throw new Error("List name cannot be empty or whitespace-only");const a=await Pe.lists.orderBy("order").toArray(),l=(a.length>0?Math.max(...a.map(h=>h.order)):-1)+1;return await Pe.lists.add({name:r,order:l})}async function qd(){const e=await Pe.lists.orderBy("order").toArray(),a=(e.length>0?Math.max(...e.map(l=>l.order)):-1)+1;return await Pe.lists.add({name:null,order:a})}async function Zd(e,r){const a=r.trim();if(a==="")throw new Error("List name cannot be empty");return await Pe.lists.update(e,{name:a})}async function Qd(e){return await Pe.tasks.where("listId").equals(e).filter(r=>r.status!=="archived").sortBy("order")}async function Xd(){return(await Pe.tasks.where("status").equals("archived").toArray()).sort((r,a)=>{const s=r.archivedAt||0,l=a.archivedAt||0;return l!==s?l-s:(a.order||0)-(r.order||0)})}async function gl(e,r){let a=e;e===null&&(a=await qd());const s=await Pe.tasks.where("listId").equals(a).filter(m=>m.status!=="archived").sortBy("order"),f=(s.length>0?Math.max(...s.map(m=>m.order)):-1)+1,h=r===""?"":r.trim();return await Pe.tasks.add({text:h,listId:a,order:f,status:"unchecked"})}async function $d(e,r){const a=r===""?"":r.trim();return await Pe.tasks.update(e,{text:a})}async function lu(e,r){if(!["unchecked","checked","archived"].includes(r))throw new Error(`Invalid status: ${r}`);const a={status:r};return r==="archived"?a.archivedAt=Date.now():r!=="archived"&&(a.archivedAt=null),await Pe.tasks.update(e,a)}async function Jd(e){const r=await Pe.tasks.get(e);if(!r)throw new Error(`Task ${e} not found`);const a=await Pe.tasks.where("listId").equals(r.listId).filter(f=>f.status!=="archived"&&f.id!==e).sortBy("order"),l=(a.length>0?Math.max(...a.map(f=>f.order)):-1)+1;return await Pe.tasks.update(e,{status:"checked",order:l})}async function eh(e,r){if(!r||r.length===0)return;const a=r.map(h=>h.id);if((await Pe.tasks.bulkGet(a)).filter(h=>!h||h.listId!==e).length>0)throw new Error(`Cannot update order: some tasks do not belong to list ${e}`);const f=r.map((h,y)=>({id:h.id,order:y}));await Pe.transaction("rw",Pe.tasks,async()=>{for(const h of f)await Pe.tasks.update(h.id,{order:h.order})})}async function th(e){await Pe.tasks.delete(e)}function cu(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function ia(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?cu(Object(a),!0).forEach(function(s){Dr(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cu(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function mr(e){"@babel/helpers - typeof";return mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mr(e)}function Dr(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function nh(e,r){if(e==null)return{};var a={},s=Object.keys(e),l,f;for(f=0;f<s.length;f++)l=s[f],!(r.indexOf(l)>=0)&&(a[l]=e[l]);return a}function rh(e,r){if(e==null)return{};var a=nh(e,r),s,l;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(l=0;l<f.length;l++)s=f[l],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ih(e,r){return oh(e)||uh(e,r)||is(e,r)||ch()}function Bt(e){return ah(e)||sh(e)||is(e)||lh()}function ah(e){if(Array.isArray(e))return Io(e)}function oh(e){if(Array.isArray(e))return e}function sh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uh(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var s=[],l=!0,f=!1,h,y;try{for(a=a.call(e);!(l=(h=a.next()).done)&&(s.push(h.value),!(r&&s.length===r));l=!0);}catch(m){f=!0,y=m}finally{try{!l&&a.return!=null&&a.return()}finally{if(f)throw y}}return s}}function is(e,r){if(e){if(typeof e=="string")return Io(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Io(e,r)}}function Io(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,s=new Array(r);a<r;a++)s[a]=e[a];return s}function lh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ch(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fi(e,r){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=is(e))||r){a&&(e=a);var s=0,l=function(){};return{s:l,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,h=!1,y;return{s:function(){a=a.call(e)},n:function(){var m=a.next();return f=m.done,m},e:function(m){h=!0,y=m},f:function(){try{!f&&a.return!=null&&a.return()}finally{if(h)throw y}}}}var fh="finalize",dh="consider";function Ar(e,r,a){e.dispatchEvent(new CustomEvent(fh,{detail:{items:r,info:a}}))}function Fn(e,r,a){e.dispatchEvent(new CustomEvent(dh,{detail:{items:r,info:a}}))}var ma="draggedEntered",di="draggedLeft",ga="draggedOverIndex",as="draggedLeftDocument",aa={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function hh(e,r,a){e.dispatchEvent(new CustomEvent(ma,{detail:{indexObj:r,draggedEl:a}}))}function vh(e,r,a){e.dispatchEvent(new CustomEvent(di,{detail:{draggedEl:r,type:aa.LEFT_FOR_ANOTHER,theOtherDz:a}}))}function ph(e,r){e.dispatchEvent(new CustomEvent(di,{detail:{draggedEl:r,type:aa.OUTSIDE_OF_ANY}}))}function yh(e,r,a){e.dispatchEvent(new CustomEvent(ga,{detail:{indexObj:r,draggedEl:a}}))}function mh(e){window.dispatchEvent(new CustomEvent(as,{detail:{draggedEl:e}}))}var pt={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:ma,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:ga,DRAGGED_LEFT:di,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},kt={POINTER:"pointer",KEYBOARD:"keyboard"},_a="isDndShadowItem",ba="data-is-dnd-shadow-item-internal",gh="data-is-dnd-shadow-item-hint",_l="id:dnd-shadow-placeholder-0000",_h="dnd-action-dragged-el",Qe="id",Oo=0;function bl(){Oo++}function wl(){if(Oo===0)throw new Error("Bug! trying to decrement when there are no dropzones");Oo--}var os=typeof window>"u";function Co(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a,s=r?Eh(e):e.getBoundingClientRect(),l=getComputedStyle(e),f=l.transform;if(f){var h,y,m,T;if(f.startsWith("matrix3d("))a=f.slice(9,-1).split(/, /),h=+a[0],y=+a[5],m=+a[12],T=+a[13];else if(f.startsWith("matrix("))a=f.slice(7,-1).split(/, /),h=+a[0],y=+a[3],m=+a[4],T=+a[5];else return s;var w=l.transformOrigin,S=s.x-m-(1-h)*parseFloat(w),_=s.y-T-(1-y)*parseFloat(w.slice(w.indexOf(" ")+1)),k=h?s.width/h:e.offsetWidth,I=y?s.height/y:e.offsetHeight;return{x:S,y:_,width:k,height:I,top:_,right:S+k,bottom:_+I,left:S}}else return s}function El(e){var r=Co(e);return{top:r.top+window.scrollY,bottom:r.bottom+window.scrollY,left:r.left+window.scrollX,right:r.right+window.scrollX}}function xl(e){var r=e.getBoundingClientRect();return{top:r.top+window.scrollY,bottom:r.bottom+window.scrollY,left:r.left+window.scrollX,right:r.right+window.scrollX}}function Tl(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function bh(e,r){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function wa(e,r){return e.y<=r.bottom&&e.y>=r.top&&e.x>=r.left&&e.x<=r.right}function ai(e){return Tl(xl(e))}function fu(e,r){var a=ai(e),s=El(r);return wa(a,s)}function du(e,r){var a=ai(e),s=ai(r);return bh(a,s)}function wh(e){var r=xl(e);return r.right<0||r.left>document.documentElement.scrollWidth||r.bottom<0||r.top>document.documentElement.scrollHeight}function Eh(e){for(var r=e.getBoundingClientRect(),a={top:r.top,bottom:r.bottom,left:r.left,right:r.right},s=!1,l=!1,f=e.parentElement;f&&f!==document.body;){var h=window.getComputedStyle(f),y=h.overflowY,m=h.overflowX,T=y==="scroll"||y==="auto",w=m==="scroll"||m==="auto";if(T||w){var S=f.getBoundingClientRect();if(T){var _=Math.max(a.top,S.top),k=Math.min(a.bottom,S.bottom);(_!==a.top||k!==a.bottom)&&(s=!0),a.top=_,a.bottom=k}if(w){var I=Math.max(a.left,S.left),M=Math.min(a.right,S.right);(I!==a.left||M!==a.right)&&(l=!0),a.left=I,a.right=M}}f=f.parentElement}return s||l?{top:a.top,bottom:a.bottom,left:a.left,right:a.right,width:Math.max(0,a.right-a.left),height:Math.max(0,a.bottom-a.top)}:{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var _r;function ss(){_r=new Map}ss();function xh(e){var r=Array.from(e.children).findIndex(function(a){return a.getAttribute(ba)});if(r>=0)return _r.has(e)||_r.set(e,new Map),_r.get(e).set(r,El(e.children[r])),r}function Th(e,r){if(!fu(e,r))return null;var a=r.children;if(a.length===0)return{index:0,isProximityBased:!0};for(var s=xh(r),l=0;l<a.length;l++)if(fu(e,a[l])){var f=_r.has(r)&&_r.get(r).get(l);return f&&!wa(ai(e),f)?{index:s,isProximityBased:!1}:{index:l,isProximityBased:!1}}for(var h=Number.MAX_VALUE,y=void 0,m=0;m<a.length;m++){var T=du(e,a[m]);T<h&&(h=T,y=m)}if(a.length>0){var w=a.length,S=a[w-1],_=S.cloneNode(!1);_.style.visibility="hidden",_.style.pointerEvents="none",r.appendChild(_);var k=du(e,_);k<h&&(y=w),r.removeChild(_)}return{index:y,isProximityBased:!0}}function Yr(e){return JSON.stringify(e,null,2)}function oa(e){if(!e)throw new Error("cannot get depth of a falsy node");return kl(e,0)}function kl(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?kl(e.parentElement,r+1):r-1}function kh(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(var a in e)if(!{}.hasOwnProperty.call(r,a)||r[a]!==e[a])return!1;return!0}function Dh(e,r){if(e.length!==r.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==r[a])return!1;return!0}var Ah=200,hu=10,Po;function Sh(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ah,s=arguments.length>3?arguments[3]:void 0,l,f,h=!1,y,m=Array.from(r).sort(function(w,S){return oa(S)-oa(w)});function T(){var w=ai(e),S=s.multiScrollIfNeeded();if(!S&&y&&Math.abs(y.x-w.x)<hu&&Math.abs(y.y-w.y)<hu){Po=window.setTimeout(T,a);return}if(wh(e)){mh(e);return}y=w;var _=!1,k=fi(m),I;try{for(k.s();!(I=k.n()).done;){var M=I.value;S&&ss();var P=Th(e,M);if(P!==null){var z=P.index;_=!0,M!==l?(l&&vh(l,e,M),hh(M,P,e),l=M):z!==f&&(yh(M,P,e),f=z);break}}}catch(Q){k.e(Q)}finally{k.f()}!_&&h&&l?(ph(l,e),l=void 0,f=void 0,h=!1):h=!0,Po=window.setTimeout(T,a)}T()}function Ih(){clearTimeout(Po),ss()}var qr=30;function Oh(){var e;function r(){e={directionObj:void 0,stepPx:0}}r();function a(f){var h=e,y=h.directionObj,m=h.stepPx;y&&(f.scrollBy(y.x*m,y.y*m),window.requestAnimationFrame(function(){return a(f)}))}function s(f){return qr-f}function l(f,h){if(!h)return!1;var y=Ch(f,h),m=!!e.directionObj;if(y===null)return m&&r(),!1;var T=!1,w=!1;return h.scrollHeight>h.clientHeight&&(y.bottom<qr?(T=!0,e.directionObj={x:0,y:1},e.stepPx=s(y.bottom)):y.top<qr&&(T=!0,e.directionObj={x:0,y:-1},e.stepPx=s(y.top)),!m&&T)||h.scrollWidth>h.clientWidth&&(y.right<qr?(w=!0,e.directionObj={x:1,y:0},e.stepPx=s(y.right)):y.left<qr&&(w=!0,e.directionObj={x:-1,y:0},e.stepPx=s(y.left)),!m&&w)?(a(h),!0):(r(),!1)}return{scrollIfNeeded:l,resetScrolling:r}}function Ch(e,r){var a=r===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:r.getBoundingClientRect();return wa(e,a)?{top:e.y-a.top,bottom:a.bottom-e.y,left:e.x-a.left,right:a.right-e.x}:null}function Ph(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,a=Mh(e),s=Array.from(a).sort(function(m,T){return oa(T)-oa(m)}),l=Oh(),f=l.scrollIfNeeded,h=l.resetScrolling;function y(){var m=r();if(!m||!s)return!1;for(var T=s.filter(function(_){return wa(m,_.getBoundingClientRect())||_===document.scrollingElement}),w=0;w<T.length;w++){var S=f(m,T[w]);if(S)return!0}return!1}return{multiScrollIfNeeded:a.size>0?y:function(){return!1},destroy:function(){return h()}}}function Rh(e){if(!e)return[];for(var r=[],a=e;a;){var s=window.getComputedStyle(a),l=s.overflow;l.split(" ").some(function(f){return f.includes("auto")||f.includes("scroll")})&&r.push(a),a=a.parentElement}return r}function Mh(e){var r=new Set,a=fi(e),s;try{for(a.s();!(s=a.n()).done;){var l=s.value;Rh(l).forEach(function(f){return r.add(f)})}}catch(f){a.e(f)}finally{a.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&r.add(document.scrollingElement),r}function Lh(e){var r=e.cloneNode(!0),a=[],s=e.tagName==="SELECT",l=s?[e]:Bt(e.querySelectorAll("select")),f=fi(l),h;try{for(f.s();!(h=f.n()).done;){var y=h.value;a.push(y.value)}}catch(re){f.e(re)}finally{f.f()}if(l.length>0)for(var m=s?[r]:Bt(r.querySelectorAll("select")),T=0;T<m.length;T++){var w=m[T],S=a[T],_=w.querySelector('option[value="'.concat(S,'"'));_&&_.setAttribute("selected",!0)}var k=e.tagName==="CANVAS",I=k?[e]:Bt(e.querySelectorAll("canvas"));if(I.length>0)for(var M=k?[r]:Bt(r.querySelectorAll("canvas")),P=0;P<M.length;P++){var z=I[P],Q=M[P];Q.width=z.width,Q.height=z.height,z.width>0&&z.height>0&&Q.getContext("2d").drawImage(z,0,0)}return r}var oi=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Nh=Dr({},oi.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Dl(e){if(!oi[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(oi)));return Nh[e]}var Kh=.2;function Xn(e){return"".concat(e," ").concat(Kh,"s ease")}function Fh(e,r){var a=e.getBoundingClientRect(),s=Lh(e);Al(e,s),s.id=_h,s.style.position="fixed";var l=a.top,f=a.left;if(s.style.top="".concat(l,"px"),s.style.left="".concat(f,"px"),r){var h=Tl(a);l-=h.y-r.y,f-=h.x-r.x,window.setTimeout(function(){s.style.top="".concat(l,"px"),s.style.left="".concat(f,"px")},0)}return s.style.margin="0",s.style.boxSizing="border-box",s.style.height="".concat(a.height,"px"),s.style.width="".concat(a.width,"px"),s.style.transition="".concat(Xn("top"),", ").concat(Xn("left"),", ").concat(Xn("background-color"),", ").concat(Xn("opacity"),", ").concat(Xn("color")," "),window.setTimeout(function(){return s.style.transition+=", ".concat(Xn("width"),", ").concat(Xn("height"))},0),s.style.zIndex="9999",s.style.cursor="grabbing",s}function Bh(e){e.style.cursor="grab"}function jh(e,r,a,s){Al(r,e);var l=r.getBoundingClientRect(),f=e.getBoundingClientRect(),h=l.width-f.width,y=l.height-f.height;if(h||y){var m={left:(a-f.left)/f.width,top:(s-f.top)/f.height};Dl(oi.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(l.height,"px"),e.style.width="".concat(l.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-m.left*h,"px"),e.style.top="".concat(parseFloat(e.style.top)-m.top*y,"px")}}function Al(e,r){var a=window.getComputedStyle(e);Array.from(a).filter(function(s){return s.startsWith("background")||s.startsWith("padding")||s.startsWith("font")||s.startsWith("text")||s.startsWith("align")||s.startsWith("justify")||s.startsWith("display")||s.startsWith("flex")||s.startsWith("border")||s==="opacity"||s==="color"||s==="list-style-type"||Dl(oi.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(s==="width"||s==="height")}).forEach(function(s){return r.style.setProperty(s,a.getPropertyValue(s),a.getPropertyPriority(s))})}function zh(e,r){e.draggable=!1,e.ondragstart=function(){return!1},r?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Sl(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function Vh(e){e.style.visibility="hidden",e.setAttribute(ba,"true")}function Uh(e){e.style.visibility="",e.removeAttribute(ba)}function Gi(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(s){var l=r(s);Object.keys(l).forEach(function(f){s.style[f]=l[f]}),a(s).forEach(function(f){return s.classList.add(f)})})}function sa(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(s){var l=r(s);Object.keys(l).forEach(function(f){s.style[f]=""}),a(s).forEach(function(f){return s.classList.contains(f)&&s.classList.remove(f)})})}function Hh(e){var r=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var a=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=r,e.style.minWidth=a}}var Wh="--any--",Gh=100,Yh=20,Vi=3,qh=80,vu={outline:"rgba(255, 255, 102, 0.7) solid 2px"},pu="data-is-dnd-original-dragged-item",bt,et,wt,Ea,je,xa,Rn,rt,tn,ut,An=!1,us=!1,ls,hi=!1,Yi=[],Jr,nn,Qr=!1,Ut=new Map,He=new Map,yo=new WeakMap;function Zh(e,r){Ut.has(r)||Ut.set(r,new Set),Ut.get(r).has(e)||(Ut.get(r).add(e),bl())}function yu(e,r){Ut.get(r).delete(e),wl(),Ut.get(r).size===0&&Ut.delete(r)}function Qh(){var e=Ut.get(Ea),r=fi(e),a;try{for(r.s();!(a=r.n()).done;){var s=a.value;s.addEventListener(ma,Il),s.addEventListener(di,Ol),s.addEventListener(ga,Cl)}}catch(h){r.e(h)}finally{r.f()}window.addEventListener(as,Sr);var l=Math.max.apply(Math,Bt(Array.from(e.keys()).map(function(h){return He.get(h).dropAnimationDurationMs}))),f=l===0?Yh:Math.max(l,Gh);Jr=Ph(e,function(){return ut}),Sh(et,e,f*1.07,Jr)}function Xh(){var e=Ut.get(Ea),r=fi(e),a;try{for(r.s();!(a=r.n()).done;){var s=a.value;s.removeEventListener(ma,Il),s.removeEventListener(di,Ol),s.removeEventListener(ga,Cl)}}catch(l){r.e(l)}finally{r.f()}window.removeEventListener(as,Sr),Jr&&(Jr.destroy(),Jr=void 0),Ih()}function Ta(e){return e.findIndex(function(r){return!!r[_a]})}function $h(e){var r;return ia(ia({},e),{},(r={},Dr(r,_a,!0),Dr(r,Qe,_l),r))}function Il(e){var r=He.get(e.currentTarget),a=r.items,s=r.dropFromOthersDisabled;if(!(s&&e.currentTarget!==je)){if(hi=!1,a=a.filter(function(y){return y[Qe]!==Rn[Qe]&&y[Qe]!==_l}),je!==e.currentTarget){var l=He.get(je).items,f=l.filter(function(y){return!y[_a]});Fn(je,f,{trigger:pt.DRAGGED_ENTERED_ANOTHER,id:wt[Qe],source:kt.POINTER})}var h=e.detail.indexObj.index;rt=e.currentTarget,a.splice(h,0,Rn),Fn(e.currentTarget,a,{trigger:pt.DRAGGED_ENTERED,id:wt[Qe],source:kt.POINTER})}}function Ol(e){if(An){var r=He.get(e.currentTarget),a=r.items,s=r.dropFromOthersDisabled;if(!(s&&e.currentTarget!==je&&e.currentTarget!==rt)){var l=Bt(a),f=Ta(l);f!==-1&&l.splice(f,1);var h=rt;rt=void 0;var y=e.detail,m=y.type,T=y.theOtherDz;if(m===aa.OUTSIDE_OF_ANY||m===aa.LEFT_FOR_ANOTHER&&T!==je&&He.get(T).dropFromOthersDisabled){hi=!0,rt=je;var w=h===je?l:Bt(He.get(je).items);w.splice(xa,0,Rn),Fn(je,w,{trigger:pt.DRAGGED_LEFT_ALL,id:wt[Qe],source:kt.POINTER})}Fn(e.currentTarget,l,{trigger:pt.DRAGGED_LEFT,id:wt[Qe],source:kt.POINTER})}}}function Cl(e){var r=He.get(e.currentTarget),a=r.items,s=r.dropFromOthersDisabled;if(!(s&&e.currentTarget!==je)){var l=Bt(a);hi=!1;var f=e.detail.indexObj.index,h=Ta(l);h!==-1&&l.splice(h,1),l.splice(f,0,Rn),Fn(e.currentTarget,l,{trigger:pt.DRAGGED_OVER_INDEX,id:wt[Qe],source:kt.POINTER})}}function ua(e){e.preventDefault();var r=e.touches?e.touches[0]:e;ut={x:r.clientX,y:r.clientY},et.style.transform="translate3d(".concat(ut.x-tn.x,"px, ").concat(ut.y-tn.y,"px, 0)")}function Sr(){us=!0,window.removeEventListener("mousemove",ua),window.removeEventListener("touchmove",ua),window.removeEventListener("mouseup",Sr),window.removeEventListener("touchend",Sr),Xh(),Bh(et),rt||(rt=je);var e=He.get(rt),r=e.items,a=e.type;sa(Ut.get(a),function(f){return He.get(f).dropTargetStyle},function(f){return He.get(f).dropTargetClasses});var s=Ta(r);s===-1&&rt===je&&(s=xa),r=r.map(function(f){return f[_a]?wt:f});function l(){ls(),Ar(rt,r,{trigger:hi?pt.DROPPED_OUTSIDE_OF_ANY:pt.DROPPED_INTO_ZONE,id:wt[Qe],source:kt.POINTER}),rt!==je&&Ar(je,He.get(je).items,{trigger:pt.DROPPED_INTO_ANOTHER,id:wt[Qe],source:kt.POINTER});var f=Array.from(rt.children).find(function(h){return h.getAttribute(ba)});f&&Uh(f),tv()}He.get(rt).dropAnimationDisabled?l():Jh(s,l)}function Jh(e,r){var a=e>-1?Co(rt.children[e],!1):Co(rt,!1),s={x:a.left-parseFloat(et.style.left),y:a.top-parseFloat(et.style.top)},l=He.get(rt),f=l.dropAnimationDurationMs,h="transform ".concat(f,"ms ease");et.style.transition=et.style.transition?et.style.transition+","+h:h,et.style.transform="translate3d(".concat(s.x,"px, ").concat(s.y,"px, 0)"),window.setTimeout(r,f)}function ev(e,r){Yi.push({dz:e,destroy:r}),window.requestAnimationFrame(function(){Sl(e),document.body.appendChild(e)})}function tv(){et&&et.remove&&et.remove(),bt&&bt.remove&&bt.remove(),et=void 0,bt=void 0,wt=void 0,Ea=void 0,je=void 0,xa=void 0,Rn=void 0,rt=void 0,tn=void 0,ut=void 0,An=!1,us=!1,ls=void 0,hi=!1,nn&&clearTimeout(nn),nn=void 0,Qr=!1,Yi.length&&(Yi.forEach(function(e){var r=e.dz,a=e.destroy;a(),r.remove()}),Yi=[])}function nv(e,r){var a=!1,s={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:vu,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},l=new Map;function f(){window.addEventListener("mousemove",m,{passive:!1}),window.addEventListener("touchmove",m,{passive:!1,capture:!1}),window.addEventListener("mouseup",y,{passive:!1}),window.addEventListener("touchend",y,{passive:!1})}function h(){window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",m),window.removeEventListener("mouseup",y),window.removeEventListener("touchend",y),nn&&(clearTimeout(nn),nn=void 0,Qr=!1)}function y(_){if(h(),bt=void 0,tn=void 0,ut=void 0,_.type==="touchend"){var k=new Event("click",{bubbles:!0,cancelable:!0});_.target.dispatchEvent(k)}}function m(_){var k=!!_.touches,I=k?_.touches[0]:_;if(k&&s.delayTouchStartMs>0&&!Qr){ut={x:I.clientX,y:I.clientY},(Math.abs(ut.x-tn.x)>=Vi||Math.abs(ut.y-tn.y)>=Vi)&&(nn&&(clearTimeout(nn),nn=void 0),y(_));return}_.preventDefault(),ut={x:I.clientX,y:I.clientY},(Math.abs(ut.x-tn.x)>=Vi||Math.abs(ut.y-tn.y)>=Vi)&&(h(),w())}function T(_){if(!(_.target!==_.currentTarget&&(_.target.value!==void 0||_.target.isContentEditable))&&!_.button&&!An){var k=!!_.touches,I=k&&s.delayTouchStartMs>0;I||_.preventDefault(),_.stopPropagation();var M=k?_.touches[0]:_;tn={x:M.clientX,y:M.clientY},ut=ia({},tn),bt=_.currentTarget,I&&(Qr=!1,nn=window.setTimeout(function(){bt&&(Qr=!0,h(),w())},s.delayTouchStartMs)),f()}}function w(){An=!0;var _=l.get(bt);xa=_,je=bt.parentElement;var k=je.closest("dialog")||je.closest("[popover]")||je.getRootNode(),I=k.body||k,M=s.items,P=s.type,z=s.centreDraggedOnCursor,Q=Bt(M);wt=Q[_],Ea=P,Rn=$h(wt),et=Fh(bt,z&&ut),I.appendChild(et);function re(){bt.parentElement?window.requestAnimationFrame(re):(bt.setAttribute(pu,!0),I.appendChild(bt),Qh(),Sl(bt),Rn[Qe]=wt[Qe],et.focus())}window.requestAnimationFrame(re),Gi(Array.from(Ut.get(s.type)).filter(function(te){return te===je||!He.get(te).dropFromOthersDisabled}),function(te){return He.get(te).dropTargetStyle},function(te){return He.get(te).dropTargetClasses}),Q.splice(_,1,Rn),ls=Hh(je),Fn(je,Q,{trigger:pt.DRAG_STARTED,id:wt[Qe],source:kt.POINTER}),window.addEventListener("mousemove",ua,{passive:!1}),window.addEventListener("touchmove",ua,{passive:!1,capture:!1}),window.addEventListener("mouseup",Sr,{passive:!1}),window.addEventListener("touchend",Sr,{passive:!1})}function S(_){var k=_.items,I=k===void 0?void 0:k,M=_.flipDurationMs,P=M===void 0?0:M,z=_.type,Q=z===void 0?Wh:z,re=_.dragDisabled,te=re===void 0?!1:re,oe=_.morphDisabled,se=oe===void 0?!1:oe,he=_.dropFromOthersDisabled,ve=he===void 0?!1:he,pe=_.dropTargetStyle,ce=pe===void 0?vu:pe,_e=_.dropTargetClasses,xe=_e===void 0?[]:_e,We=_.transformDraggedElement,Xe=We===void 0?function(){}:We,yt=_.centreDraggedOnCursor,ht=yt===void 0?!1:yt,Ce=_.dropAnimationDisabled,jt=Ce===void 0?!1:Ce,J=_.delayTouchStart,ue=J===void 0?!1:J;s.dropAnimationDurationMs=P;var Re=0;ue===!0?Re=qh:typeof ue=="number"&&isFinite(ue)&&ue>=0&&(Re=ue),s.delayTouchStartMs=Re,s.type&&Q!==s.type&&yu(e,s.type),s.type=Q,s.items=Bt(I),s.dragDisabled=te,s.morphDisabled=se,s.transformDraggedElement=Xe,s.centreDraggedOnCursor=ht,s.dropAnimationDisabled=jt,a&&An&&!us&&(!kh(ce,s.dropTargetStyle)||!Dh(xe,s.dropTargetClasses))&&(sa([e],function(){return s.dropTargetStyle},function(){return xe}),Gi([e],function(){return ce},function(){return xe})),s.dropTargetStyle=ce,s.dropTargetClasses=Bt(xe);function Ge(V,X){return He.get(V)?He.get(V)[X]:s[X]}a&&An&&s.dropFromOthersDisabled!==ve&&(ve?sa([e],function(V){return Ge(V,"dropTargetStyle")},function(V){return Ge(V,"dropTargetClasses")}):Gi([e],function(V){return Ge(V,"dropTargetStyle")},function(V){return Ge(V,"dropTargetClasses")})),s.dropFromOthersDisabled=ve,He.set(e,s),Zh(e,Q);for(var $e=An?Ta(s.items):-1,Oe=0;Oe<e.children.length;Oe++){var Ye=e.children[Oe];if(zh(Ye,te),Oe===$e){se||jh(et,Ye,ut.x,ut.y),s.transformDraggedElement(et,wt,Oe),Vh(Ye);continue}Ye.removeEventListener("mousedown",yo.get(Ye)),Ye.removeEventListener("touchstart",yo.get(Ye)),te||(Ye.addEventListener("mousedown",T),Ye.addEventListener("touchstart",T),yo.set(Ye,T)),l.set(Ye,Oe),a||(a=!0)}}return S(r),{update:function(k){S(k)},destroy:function(){function k(){yu(e,He.get(e).type),He.delete(e)}An&&!e.closest("[".concat(pu,"]"))?ev(e,k):k()}}}var Ui,Ro={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Pl=(Ui={},Dr(Ui,Ro.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Dr(Ui,Ro.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),Ui),rv="dnd-action-aria-alert",qe;function Mo(){qe||(qe=document.createElement("div"),(function(){qe.id=rv,qe.style.position="fixed",qe.style.bottom="0",qe.style.left="0",qe.style.zIndex="-5",qe.style.opacity="0",qe.style.height="0",qe.style.width="0",qe.setAttribute("role","alert")})(),document.body.prepend(qe),Object.entries(Pl).forEach(function(e){var r=ih(e,2),a=r[0],s=r[1];return document.body.prepend(ov(a,s))}))}function iv(){return os?null:(document.readyState==="complete"?Mo():window.addEventListener("DOMContentLoaded",Mo),ia({},Ro))}function av(){os||!qe||(Object.keys(Pl).forEach(function(e){var r;return(r=document.getElementById(e))===null||r===void 0?void 0:r.remove()}),qe.remove(),qe=void 0)}function ov(e,r){var a=document.createElement("div");return a.id=e,a.innerHTML="<p>".concat(r,"</p>"),a.style.display="none",a.style.position="fixed",a.style.zIndex="-5",a}function br(e){if(!os){qe||Mo(),qe.innerHTML="";var r=document.createTextNode(e);qe.appendChild(r),qe.style.display="none",qe.style.display="inline"}}var sv="--any--",mu={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Mt=!1,Lo,lt,nr="",$n,rn,Sn="",la=new WeakSet,gu=new WeakMap,_u=new WeakMap,No=new Map,nt=new Map,Vt=new Map,ca;function uv(e,r){Vt.size===0&&(ca=iv(),window.addEventListener("keydown",Rl),window.addEventListener("click",Ml)),Vt.has(r)||Vt.set(r,new Set),Vt.get(r).has(e)||(Vt.get(r).add(e),bl())}function bu(e,r){lt===e&&si(),Vt.get(r).delete(e),wl(),Vt.get(r).size===0&&Vt.delete(r),Vt.size===0&&(window.removeEventListener("keydown",Rl),window.removeEventListener("click",Ml),ca=void 0,av())}function Rl(e){if(Mt)switch(e.key){case"Escape":{si();break}}}function Ml(){Mt&&(la.has(document.activeElement)||si())}function lv(e){if(Mt){var r=e.currentTarget;if(r!==lt){nr=r.getAttribute("aria-label")||"";var a=nt.get(lt),s=a.items,l=s.find(function(S){return S[Qe]===rn}),f=s.indexOf(l),h=s.splice(f,1)[0],y=nt.get(r),m=y.items,T=y.autoAriaDisabled;r.getBoundingClientRect().top<lt.getBoundingClientRect().top||r.getBoundingClientRect().left<lt.getBoundingClientRect().left?(m.push(h),T||br("Moved item ".concat(Sn," to the end of the list ").concat(nr))):(m.unshift(h),T||br("Moved item ".concat(Sn," to the beginning of the list ").concat(nr)));var w=lt;Ar(w,s,{trigger:pt.DROPPED_INTO_ANOTHER,id:rn,source:kt.KEYBOARD}),Ar(r,m,{trigger:pt.DROPPED_INTO_ZONE,id:rn,source:kt.KEYBOARD}),lt=r}}}function Ll(){No.forEach(function(e,r){var a=e.update;return a(nt.get(r))})}function si(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;nt.get(lt).autoAriaDisabled||br("Stopped dragging item ".concat(Sn)),la.has(document.activeElement)&&document.activeElement.blur(),e&&Fn(lt,nt.get(lt).items,{trigger:pt.DRAG_STOPPED,id:rn,source:kt.KEYBOARD}),sa(Vt.get(Lo),function(r){return nt.get(r).dropTargetStyle},function(r){return nt.get(r).dropTargetClasses}),$n=null,rn=null,Sn="",Lo=null,lt=null,nr="",Mt=!1,Ll()}function cv(e,r){var a={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:mu,dropTargetClasses:[],autoAriaDisabled:!1};function s(w,S,_){w.length<=1||w.splice(_,1,w.splice(S,1,w[_])[0])}function l(w){switch(w.key){case"Enter":case" ":{if((w.target.disabled!==void 0||w.target.href||w.target.isContentEditable)&&!la.has(w.target))return;w.preventDefault(),w.stopPropagation(),Mt?si():f(w);break}case"ArrowDown":case"ArrowRight":{if(!Mt)return;w.preventDefault(),w.stopPropagation();var S=nt.get(e),_=S.items,k=Array.from(e.children),I=k.indexOf(w.currentTarget);I<k.length-1&&(a.autoAriaDisabled||br("Moved item ".concat(Sn," to position ").concat(I+2," in the list ").concat(nr)),s(_,I,I+1),Ar(e,_,{trigger:pt.DROPPED_INTO_ZONE,id:rn,source:kt.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Mt)return;w.preventDefault(),w.stopPropagation();var M=nt.get(e),P=M.items,z=Array.from(e.children),Q=z.indexOf(w.currentTarget);Q>0&&(a.autoAriaDisabled||br("Moved item ".concat(Sn," to position ").concat(Q," in the list ").concat(nr)),s(P,Q,Q-1),Ar(e,P,{trigger:pt.DROPPED_INTO_ZONE,id:rn,source:kt.KEYBOARD}));break}}}function f(w){y(w.currentTarget),lt=e,Lo=a.type,Mt=!0;var S=Array.from(Vt.get(a.type)).filter(function(k){return k===lt||!nt.get(k).dropFromOthersDisabled});if(Gi(S,function(k){return nt.get(k).dropTargetStyle},function(k){return nt.get(k).dropTargetClasses}),!a.autoAriaDisabled){var _="Started dragging item ".concat(Sn,". Use the arrow keys to move it within its list ").concat(nr);S.length>1&&(_+=", or tab to another list in order to move the item into it"),br(_)}Fn(e,nt.get(e).items,{trigger:pt.DRAG_STARTED,id:rn,source:kt.KEYBOARD}),Ll()}function h(w){Mt&&w.currentTarget!==$n&&(w.stopPropagation(),si(!1),f(w))}function y(w){var S=nt.get(e),_=S.items,k=Array.from(e.children),I=k.indexOf(w);$n=w,$n.tabIndex=a.zoneItemTabIndex,rn=_[I][Qe],Sn=k[I].getAttribute("aria-label")||""}function m(w){var S=w.items,_=S===void 0?[]:S,k=w.type,I=k===void 0?sv:k,M=w.dragDisabled,P=M===void 0?!1:M,z=w.zoneTabIndex,Q=z===void 0?0:z,re=w.zoneItemTabIndex,te=re===void 0?0:re,oe=w.dropFromOthersDisabled,se=oe===void 0?!1:oe,he=w.dropTargetStyle,ve=he===void 0?mu:he,pe=w.dropTargetClasses,ce=pe===void 0?[]:pe,_e=w.autoAriaDisabled,xe=_e===void 0?!1:_e;a.items=Bt(_),a.dragDisabled=P,a.dropFromOthersDisabled=se,a.zoneTabIndex=Q,a.zoneItemTabIndex=te,a.dropTargetStyle=ve,a.dropTargetClasses=ce,a.autoAriaDisabled=xe,a.type&&I!==a.type&&bu(e,a.type),a.type=I,uv(e,I),xe||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",P?ca.DND_ZONE_DRAG_DISABLED:ca.DND_ZONE_ACTIVE)),nt.set(e,a),Mt?e.tabIndex=e===lt||$n.contains(e)||a.dropFromOthersDisabled||lt&&a.type!==nt.get(lt).type?-1:0:e.tabIndex=a.zoneTabIndex,e.addEventListener("focus",lv);for(var We=function(ht){var Ce=e.children[ht];la.add(Ce),Ce.tabIndex=Mt?-1:a.zoneItemTabIndex,xe||Ce.setAttribute("role","listitem"),Ce.removeEventListener("keydown",gu.get(Ce)),Ce.removeEventListener("click",_u.get(Ce)),P||(Ce.addEventListener("keydown",l),gu.set(Ce,l),Ce.addEventListener("click",h),_u.set(Ce,h)),Mt&&a.items[ht][Qe]===rn&&($n=Ce,$n.tabIndex=a.zoneItemTabIndex,Ce.focus())},Xe=0;Xe<e.children.length;Xe++)We(Xe)}m(r);var T={update:function(S){m(S)},destroy:function(){bu(e,a.type),nt.delete(e),No.delete(e)}};return No.set(e,T),T}var fv=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function dv(e,r){if(hv(e))return{update:function(){},destroy:function(){}};wu(r);var a=nv(e,r),s=cv(e,r);return{update:function(f){wu(f),a.update(f),s.update(f)},destroy:function(){a.destroy(),s.destroy()}}}function hv(e){return!!e.closest("[".concat(gh,'="true"]'))}function wu(e){var r=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var a=e.zoneTabIndex,s=e.zoneItemTabIndex;e.dropTargetStyle;var l=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var f=e.delayTouchStart;e.dropAnimationDisabled;var h=rh(e,fv);if(Object.keys(h).length>0&&console.warn("dndzone will ignore unknown options",h),!r)throw new Error("no 'items' key provided to dndzone");var y=r.find(function(w){return!{}.hasOwnProperty.call(w,Qe)});if(y)throw new Error("missing '".concat(Qe,"' property for item ").concat(Yr(y)));if(l&&!Array.isArray(l))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(mr(l),", ").concat(Yr(l)));if(a&&!Eu(a))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(mr(a),", ").concat(Yr(a)));if(s&&!Eu(s))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(mr(s),", ").concat(Yr(s)));if(f!==void 0&&f!==!1){var m=f===!0,T=typeof f=="number"&&isFinite(f)&&f>=0;if(!m&&!T)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(mr(f),", ").concat(Yr(f)))}}function Eu(e){return!isNaN(e)&&(function(r){return(r|0)===r})(parseFloat(e))}var vv=Ke('<div id="validation-message" class="mt-2 text-sm text-red-600" role="alert">Task cannot be empty. Consider archiving this task instead.</div>'),pv=Ke('<div role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1" class="modal-backdrop svelte-1s5l7w2"><div class="bg-white text-gray-900 p-6 rounded-xl shadow-2xl border-2 border-gray-300 fixed" role="document"><h3 id="modal-title" class="text-lg font-semibold mb-4">Edit Task</h3> <div class="mb-4"><textarea class="task-input w-[150px] flex-none break-words resize-none min-h-[2.5rem] max-h-[10rem] overflow-y-auto px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 svelte-1s5l7w2" placeholder="Task text..." aria-label="Edit task text" rows="1"></textarea> <!></div> <div class="flex justify-between items-center"><button class="px-4 py-2 text-sm text-gray-600 hover:text-gray-800 underline" aria-label="Archive this task instead of saving">Archive instead</button> <div class="flex gap-3"><button class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50" aria-label="Cancel editing and discard changes">Cancel</button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Save</button></div></div></div></div>');function yv(e,r){Bn(r,!0);let a=de(on(r.taskText||"")),s=de(!1),l=de(null),f=de(null),h=ti(()=>()=>{if(!r.taskPosition||!r.isOpen)return"background-color: white; z-index: 10000;";const re=24+24+16+8-8,te=10,oe=r.taskPosition.top-re,se=r.taskPosition.left-16+te,he=r.taskPosition.width+48;return`background-color: white; z-index: 10000; top: ${oe}px; left: ${se}px; width: ${he}px;`});Ze(()=>{r.isOpen&&(L(a,r.taskText||"",!0),L(s,!1))}),Ze(()=>{r.isOpen&&D(l)&&setTimeout(()=>{D(l)?.focus(),D(l)?.select(),D(l)instanceof HTMLTextAreaElement&&(D(l).style.height="auto",D(l).style.height=`${Math.min(D(l).scrollHeight,160)}px`)},0)}),Ze(()=>{if(D(l)&&D(l)instanceof HTMLTextAreaElement){const M=()=>{D(l).style.height="auto",D(l).style.height=`${Math.min(D(l).scrollHeight,160)}px`};return D(l).addEventListener("input",M),()=>{D(l).removeEventListener("input",M)}}});function y(){const M=D(a)??"",P=M.trim();if(P===""&&M.length>0){r.onSave(r.taskId,""),L(s,!1);return}if(M===""||P===""){L(s,!0);return}r.onSave(r.taskId,P),L(s,!1)}function m(){L(a,r.taskText||"",!0),L(s,!1),r.onCancel()}function T(M){M.target===M.currentTarget&&m()}function w(M){M.key==="Escape"?m():M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),y())}function S(){r.onArchive&&r.onArchive(r.taskId)}var _=ar(),k=Ot(_);{var I=M=>{var P=pv();P.__click=T,P.__keydown=w;var z=me(P);z.__click=_e=>_e.stopPropagation();var Q=ge(me(z),2),re=me(Q);re.__keydown=w,Kn(re,_e=>L(l,_e),()=>D(l));var te=ge(re,2);{var oe=_e=>{var xe=vv();Ae(_e,xe)};ct(te,_e=>{D(s)&&_e(oe)})}var se=ge(Q,2),he=me(se);he.__click=S;var ve=ge(he,2),pe=me(ve);pe.__click=m;var ce=ge(pe,2);ce.__click=y,Kn(z,_e=>L(f,_e),()=>D(f)),Ht(_e=>{es(z,_e),Kt(re,"aria-describedby",D(s)?"validation-message":void 0),ce.disabled=D(s),Kt(ce,"aria-label",D(s)?"Save disabled: task cannot be empty":"Save task changes")},[()=>D(h)()]),ns(re,()=>D(a),_e=>L(a,_e)),Ae(M,P)};ct(k,M=>{r.isOpen&&M(I)})}Ae(e,_),jn()}ur(["click","keydown"]);var mv=Ke('<div id="validation-message" class="mt-2 text-sm text-red-600" role="alert">List name cannot be empty.</div>'),gv=Ke('<div role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1" class="modal-backdrop svelte-8e0jqh"><div class="bg-white text-gray-900 p-6 rounded-xl shadow-2xl border-2 border-gray-300 fixed" role="document"><h3 id="modal-title" class="text-lg font-semibold mb-4">Rename List</h3> <div class="mb-4"><input type="text" class="list-input w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 svelte-8e0jqh" placeholder="List name..." aria-label="Edit list name"/> <!></div> <div class="flex justify-end gap-3"><button class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50" aria-label="Cancel editing and discard changes">Cancel</button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Save</button></div></div></div>');function _v(e,r){Bn(r,!0);let a=de(on(r.listName||"")),s=de(!1),l=de(null),f=de(null),h=ti(()=>()=>{if(!r.listPosition||!r.isOpen)return"background-color: white; z-index: 10000;";const Q=24+24+16+8-8,re=r.listPosition.top-Q,te=r.listPosition.left-16,oe=Math.max(r.listPosition.width+48,300);return`background-color: white; z-index: 10000; top: ${re}px; left: ${te}px; width: ${oe}px;`});Ze(()=>{r.isOpen&&(L(a,r.listName||"",!0),L(s,!1))}),Ze(()=>{r.isOpen&&D(l)&&setTimeout(()=>{D(l)?.focus(),D(l)?.select()},0)});function y(){const M=(D(a)??"").trim();if(M===""){L(s,!0);return}r.onSave(r.listId,M),L(s,!1)}function m(){L(a,r.listName||"",!0),L(s,!1),r.onCancel()}function T(I){I.target===I.currentTarget&&m()}function w(I){I.key==="Escape"?m():I.key==="Enter"&&!I.shiftKey&&(I.preventDefault(),y())}var S=ar(),_=Ot(S);{var k=I=>{var M=gv();M.__click=T,M.__keydown=w;var P=me(M);P.__click=ve=>ve.stopPropagation();var z=ge(me(P),2),Q=me(z);Q.__keydown=w,Kn(Q,ve=>L(l,ve),()=>D(l));var re=ge(Q,2);{var te=ve=>{var pe=mv();Ae(ve,pe)};ct(re,ve=>{D(s)&&ve(te)})}var oe=ge(z,2),se=me(oe);se.__click=m;var he=ge(se,2);he.__click=y,Kn(P,ve=>L(f,ve),()=>D(f)),Ht(ve=>{es(P,ve),Kt(Q,"aria-describedby",D(s)?"validation-message":void 0),he.disabled=D(s),Kt(he,"aria-label",D(s)?"Save disabled: list name cannot be empty":"Save list name changes")},[()=>D(h)()]),ns(Q,()=>D(a),ve=>L(a,ve)),Ae(I,M)};ct(_,I=>{r.isOpen&&I(k)})}Ae(e,S),jn()}ur(["click","keydown"]);var bv=Ke('<span class="drag-handle text-gray-400 select-none" aria-hidden="true" style="visibility: hidden;"></span> <input type="checkbox" disabled class="cursor-pointer opacity-0" aria-hidden="true" tabindex="-1"/> <div class="flex gap-2"><textarea class="w-[150px] flex-none break-words resize-none min-h-[2.5rem] max-h-[10rem] overflow-y-auto" rows="1"></textarea> <button aria-label="Save new task">Save</button></div>',1),wv=Ke('<span class="drag-handle text-gray-400 select-none" aria-hidden="true" style="visibility: hidden;"></span> <input type="checkbox" disabled class="cursor-pointer opacity-0" aria-hidden="true" tabindex="-1"/> <span class="w-[150px] cursor-pointer hover:underline break-words" role="button" tabindex="0"> </span>',1),Ev=Ke('<div class="flex items-center gap-2 p-2 border rounded hover:bg-gray-50 w-fit print:hidden add-task-container add-task-button mt-2"><!></div>');function mo(e,r){Bn(r,!0);let a=Gr(r,"isInputActive",11,!1),s=Gr(r,"inputValue",3,""),l=Gr(r,"buttonText",3,"Add Task"),f=Gr(r,"placeholder",3,"Add new task..."),h=Gr(r,"marginLeft",3,!1),y=de(null);Ze(()=>{a()&&D(y)&&setTimeout(()=>{D(y)?.focus(),D(y)instanceof HTMLTextAreaElement&&(D(y).style.height="auto",D(y).style.height=`${Math.min(D(y).scrollHeight,160)}px`)},0)}),Ze(()=>{if(D(y)&&D(y)instanceof HTMLTextAreaElement){const I=()=>{D(y).style.height="auto",D(y).style.height=`${Math.min(D(y).scrollHeight,160)}px`};return D(y).addEventListener("input",I),()=>{D(y).removeEventListener("input",I)}}});function m(I){I.key==="Enter"&&!I.shiftKey?(I.preventDefault(),r.onSave?.()):I.key==="Escape"&&r.onEscape?.(I)}function T(I){(I.key==="Enter"||I.key===" ")&&(I.preventDefault(),r.onActivate?.())}var w=Ev(),S=me(w);{var _=I=>{var M=bv(),P=ge(Ot(M),4),z=me(P);z.__input=re=>r.onInputChange?.(re.currentTarget.value),z.__keydown=m,Kn(z,re=>L(y,re),()=>D(y));var Q=ge(z,2);Q.__click=function(...re){r.onSave?.apply(this,re)},Ht(()=>{Kt(z,"placeholder",f()),pl(z,s())}),Ae(I,M)},k=I=>{var M=wv(),P=ge(Ot(M),4);P.__click=function(...Q){r.onActivate?.apply(this,Q)},P.__keydown=T;var z=me(P);Ht(()=>{Kt(P,"aria-label",r.ariaLabel||l()),Pn(z,l())}),Ae(I,M)};ct(S,I=>{a()?I(_):I(k,!1)})}Ht(()=>es(w,h()?"margin-left: 1.5rem;":"")),Ae(e,w),jn()}ur(["input","keydown","click"]);function Ko(e,r,a={}){const{ignoreElements:s=[],shouldClose:l=()=>!0,checkIgnoreClick:f=null}=a;function h(m){const T=typeof e=="function"?e():e;if(T&&!T.contains(m.target)&&!(f&&f(m))){for(const w of s){let S=null;if(typeof w=="function"?S=w():S=w,S&&S.contains(m.target))return}l()&&r()}}const y=setTimeout(()=>{document.addEventListener("click",h)},0);return()=>{clearTimeout(y),document.removeEventListener("click",h)}}function Fo(e){return e===""}function xv(e){return e.trim()===""&&e.length>0}function Bo(e){const r=e.trim(),a=xv(e);return{text:a?"":r,isBlank:a}}var Tv=Ke('<button class="px-2 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded">Archive</button>'),kv=Ke('<li class="flex items-center gap-2 p-2 border rounded cursor-move hover:bg-gray-50 w-fit"><span class="drag-handle text-gray-400 cursor-grab active:cursor-grabbing select-none svelte-k6mizj" title="Drag to reorder" tabindex="-1" aria-hidden="true"></span> <input type="checkbox" class="cursor-pointer"/> <span role="button" tabindex="0" contenteditable="false" data-no-drag="true"> </span> <!></li>'),Dv=Ke('<div class="task-list-wrapper svelte-k6mizj"><ul class="space-y-2 svelte-k6mizj"></ul> <!></div>'),Av=Ke("<p>Loading tasks...</p> <!>",1),Sv=Ke('<div><h2 role="button" tabindex="0" class="cursor-pointer hover:underline"> </h2> <!></div> <!> <!>',1);function Iv(e,r){Bn(r,!0);const a=()=>ta(D(f),"$tasksQuery",s),[s,l]=rs();let f=de(null),h=de(on([])),y=de(!1),m=de(!1),T=de(null),w=de(""),S=de(null),_=de(null),k=de(null),I=de(!1),M=de(null),P=de(null);Ze(()=>{r.listId&&!D(f)&&Ao(L(f,ra(()=>Qd(r.listId)),!0),"$tasksQuery",s)}),Ze(()=>{a()&&Array.isArray(a())&&L(h,a().filter(V=>V.status==="unchecked"||V.status==="checked"),!0)}),Ze(()=>{if(!D(k))return;function V(X){const Y=X.target;if((X.key==="Enter"||X.key===" ")&&Y instanceof HTMLElement&&Y.hasAttribute("data-no-drag")){X.preventDefault(),X.stopImmediatePropagation();const ye=Y.closest("li[data-id]");if(ye){const Te=parseInt(ye.getAttribute("data-id")),Fe=D(h).find(ke=>ke.id===Te);if(Fe){const ke=Y.getBoundingClientRect();L(S,{top:ke.top,left:ke.left,width:ke.width,height:ke.height},!0),L(_,Y,!0),L(T,Te,!0),L(w,Fe.text,!0),L(m,!0)}}}}return D(k).addEventListener("keydown",V,!0),()=>{D(k).removeEventListener("keydown",V,!0)}});function z(V){L(h,V.detail.items,!0)}async function Q(V){L(h,V.detail.items,!0);try{await eh(r.listId,V.detail.items)}catch(X){console.error("Error updating task order:",X)}}function re(){L(y,!0)}function te(V){V.key==="Escape"&&(L(y,!1),r.onInputChange(""))}Ze(()=>{if(D(y))return Ko(()=>{const V=document.querySelector(`[data-list-id="${r.listId}"]`);if(!V)return null;const X=V.querySelector(".add-task-container");return X?X.querySelector("textarea"):null},()=>{D(y)&&(L(y,!1),r.onInputChange(""))},{checkIgnoreClick:V=>{const X=document.querySelector(`[data-list-id="${r.listId}"]`);if(!X)return!1;const Y=X.querySelector(".add-task-container");if(!Y)return!1;const ye=Y.querySelector("button");return!!(ye&&ye.contains(V.target))},shouldClose:()=>{const V=document.querySelector(`[data-list-id="${r.listId}"]`);if(V){const X=V.querySelector(".add-task-container");if(X){const Y=X.querySelector("textarea");if(Y&&Y.value.trim()!=="")return!1}}return!r.newTaskInput||r.newTaskInput.trim()===""}})});async function oe(){const V=document.querySelector(`[data-list-id="${r.listId}"]`);let X=r.newTaskInput||"";if(V){const ye=V.querySelector(".add-task-container");if(ye){const Te=ye.querySelector("textarea");Te&&(X=(Te.value||"").toString())}}if(X=(X||"").toString(),Fo(X)){L(y,!1),r.onInputChange(""),await Jo(),await new Promise(ye=>setTimeout(ye,0));return}const{text:Y}=Bo(X);try{await gl(r.listId,Y),r.onInputChange("")}catch(ye){console.error("Error creating task:",ye)}}async function se(V,X){try{await lu(V,X==="unchecked"?"checked":"unchecked")}catch(Y){console.error("Error updating task status:",Y)}}async function he(V){try{if(await lu(V,"archived"),D(T)===V){const X=D(_);L(m,!1),L(T,null),L(w,""),L(S,null),L(_,null),setTimeout(()=>{if(X&&X instanceof HTMLElement){const Y=X.closest("li");if(Y){const Te=Y.nextElementSibling;if(Te){const ke=Te.querySelector('span[role="button"]');if(ke&&ke instanceof HTMLElement){ke.focus();return}}const Fe=Y.previousElementSibling;if(Fe){const ke=Fe.querySelector('span[role="button"]');if(ke&&ke instanceof HTMLElement){ke.focus();return}}}const ye=document.querySelector(`[data-list-id="${r.listId}"]`);if(ye){const Te=(Fe=0)=>{const ke=ye.querySelector(".add-task-container");if(ke){const mt=ke.querySelector('span[role="button"]');if(mt&&mt instanceof HTMLElement){mt.focus();return}}Fe<10&&setTimeout(()=>Te(Fe+1),10)};Te();return}}},0)}}catch(X){console.error("Error archiving task:",X)}}function ve(V,X,Y){const ye=Y?.currentTarget||Y?.target;if(ye){const Te=ye.getBoundingClientRect();L(S,{top:Te.top,left:Te.left,width:Te.width,height:Te.height},!0),L(_,ye,!0)}L(T,V,!0),L(w,X,!0),L(m,!0)}function pe(V,X,Y){if(Y.key==="Enter"||Y.key===" "){Y.preventDefault(),Y.stopImmediatePropagation();const ye=Y.currentTarget;if(ye){const Te=ye.getBoundingClientRect();L(S,{top:Te.top,left:Te.left,width:Te.width,height:Te.height},!0),L(_,ye,!0),L(T,V,!0),L(w,X,!0),L(m,!0)}}}async function ce(V,X){try{await $d(V,X),L(m,!1);const Y=D(_);L(T,null),L(w,""),L(S,null),L(_,null),Y&&Y instanceof HTMLElement&&setTimeout(()=>{Y.focus()},0)}catch(Y){console.error("Error updating task text:",Y)}}function _e(){const V=D(_);L(m,!1),L(T,null),L(w,""),L(S,null),L(_,null),V&&V instanceof HTMLElement&&setTimeout(()=>{V.focus()},0)}async function xe(V){D(_),await he(V);const X=(Y=0)=>{const ye=document.activeElement,Te=document.querySelector(`[data-list-id="${r.listId}"]`);if(Te&&(!ye||!Te.contains(ye))){const Fe=Te.querySelector(".add-task-container");if(Fe){const ke=Fe.querySelector('span[role="button"]');if(ke&&ke instanceof HTMLElement){ke.focus();return}}}Y<20&&setTimeout(()=>X(Y+1),10)};setTimeout(()=>X(),10)}function We(V){const X=V?.currentTarget||V?.target;if(X){const Y=X.getBoundingClientRect();L(M,{top:Y.top,left:Y.left,width:Y.width,height:Y.height},!0),L(P,X,!0)}L(I,!0)}function Xe(V){if(V.key==="Enter"||V.key===" "){V.preventDefault(),V.stopPropagation();const X=V.currentTarget;if(X){const Y=X.getBoundingClientRect();L(M,{top:Y.top,left:Y.left,width:Y.width,height:Y.height},!0),L(P,X,!0),L(I,!0)}}}async function yt(V,X){try{await Zd(V,X),L(I,!1);const Y=D(P);L(M,null),L(P,null),Y&&Y instanceof HTMLElement&&setTimeout(()=>{Y.focus()},0)}catch(Y){console.error("Error updating list name:",Y)}}function ht(){const V=D(P);L(I,!1),L(M,null),L(P,null),V&&V instanceof HTMLElement&&setTimeout(()=>{V.focus()},0)}var Ce=Sv(),jt=Ot(Ce),J=me(jt);J.__click=We,J.__keydown=Xe;var ue=me(J),Re=ge(J,2);{var Ge=V=>{var X=ar(),Y=Ot(X);{var ye=Fe=>{mo(Fe,{get inputValue(){return r.newTaskInput},get onInputChange(){return r.onInputChange},onSave:oe,onEscape:te,onActivate:re,buttonText:"Add your first task",placeholder:"Add new task...",get ariaLabel(){return`Add your first task to ${r.listName??""}`},marginLeft:!0,get isInputActive(){return D(y)},set isInputActive(ke){L(y,ke,!0)}})},Te=Fe=>{var ke=Dv(),mt=me(ke);Wo(mt,21,()=>D(h),gt=>gt.id,(gt,Ne)=>{var Me=kv(),Le=ge(me(Me),2);Le.__change=()=>se(D(Ne).id,D(Ne).status);var tt=ge(Le,2);tt.__click=Ct=>ve(D(Ne).id,D(Ne).text,Ct),tt.__keydown=Ct=>pe(D(Ne).id,D(Ne).text,Ct);var G=me(tt),qt=ge(tt,2);{var ze=Ct=>{var De=Tv();De.__click=()=>he(D(Ne).id),Ht(()=>Kt(De,"aria-label",`Archive task: ${D(Ne).text||"blank task"}`)),Ae(Ct,De)};ct(qt,Ct=>{D(Ne).status==="checked"&&Ct(ze)})}Ht(()=>{Kt(Me,"data-id",D(Ne).id),Kd(Le,D(Ne).status==="checked"),Kt(Le,"aria-label",`Mark task "${D(Ne).text||"blank task"}" as ${D(Ne).status==="checked"?"unchecked":"checked"}`),Md(tt,1,Cd(D(Ne).status==="checked"?"line-through w-[150px] cursor-pointer hover:underline break-words":"w-[150px] cursor-pointer hover:underline break-words")),Kt(tt,"aria-label",`Edit task: ${D(Ne).text||"blank task"}`),Pn(G,D(Ne).text||"")}),Ae(gt,Me)}),Kn(mt,gt=>L(k,gt),()=>D(k)),Id(mt,(gt,Ne)=>dv?.(gt,Ne),()=>({items:D(h),type:`list-${r.listId}`}));var Yt=ge(mt,2);mo(Yt,{get inputValue(){return r.newTaskInput},get onInputChange(){return r.onInputChange},onSave:oe,onEscape:te,onActivate:re,buttonText:"Add Task",placeholder:"Add new task...",get ariaLabel(){return`Add new task to ${r.listName??""}`},marginLeft:!0,get isInputActive(){return D(y)},set isInputActive(gt){L(y,gt,!0)}}),ru("consider",mt,z),ru("finalize",mt,Q),Ae(Fe,ke)};ct(Y,Fe=>{a().length===0?Fe(ye):Fe(Te,!1)})}Ae(V,X)},$e=V=>{var X=Av(),Y=ge(Ot(X),2);mo(Y,{get inputValue(){return r.newTaskInput},get onInputChange(){return r.onInputChange},onSave:oe,onEscape:te,onActivate:re,buttonText:"Add Task",placeholder:"Add new task...",get ariaLabel(){return`Add new task to ${r.listName??""}`},marginLeft:!0,get isInputActive(){return D(y)},set isInputActive(ye){L(y,ye,!0)}}),Ae(V,X)};ct(Re,V=>{D(f)&&a()!==void 0?V(Ge):V($e,!1)})}var Oe=ge(jt,2);yv(Oe,{get isOpen(){return D(m)},get taskId(){return D(T)},get taskText(){return D(w)},get taskPosition(){return D(S)},onSave:ce,onCancel:_e,onArchive:xe});var Ye=ge(Oe,2);_v(Ye,{get isOpen(){return D(I)},get listId(){return r.listId},get listName(){return r.listName},get listPosition(){return D(M)},onSave:yt,onCancel:ht}),Ht(()=>{Kt(jt,"data-list-id",r.listId),Kt(J,"aria-label",`Rename list: ${r.listName}`),Pn(ue,r.listName)}),Ae(e,Ce),jn(),l()}ur(["click","keydown","change"]);var Ov=Ke('<div role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1" class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50"><div class="bg-white text-gray-900 p-6 rounded-xl shadow-2xl border border-gray-200 max-w-md w-full mx-4"><h3 id="modal-title" class="text-lg font-semibold mb-4"> </h3> <p class="mb-6 text-sm text-gray-600"> </p> <div class="flex justify-end gap-3"><button class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50">Cancel</button> <button class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">Delete</button></div></div></div>');function Cv(e,r){Bn(r,!0);function a(){r.onConfirm()}function s(){r.onCancel()}function l(T){T.target===T.currentTarget&&s()}function f(T){T.key==="Escape"&&s()}var h=ar(),y=Ot(h);{var m=T=>{var w=Ov();w.__click=l,w.__keydown=f;var S=me(w),_=me(S),k=me(_),I=ge(_,2),M=me(I),P=ge(I,2),z=me(P);z.__click=s;var Q=ge(z,2);Q.__click=a,Ht(()=>{Pn(k,r.title),Pn(M,r.message)}),Ae(T,w)};ct(y,T=>{r.isOpen&&T(m)})}Ae(e,h),jn()}ur(["click","keydown"]);var Pv=Ke("<p>No archived tasks</p>"),Rv=Ke('<li class="flex items-center gap-3 mb-2"><span class="line-through"> </span> <span class="text-sm text-gray-500"> </span> <span class="text-sm text-gray-400"> </span> <button class="px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm">Restore</button> <button class="px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-sm">Delete</button></li>'),Mv=Ke("<ul></ul>"),Lv=Ke('<div class="w-[1056px] mt-8 print:hidden"><h2 class="text-xl font-semibold mb-4">Archived Tasks</h2> <!></div> <!>',1);function Nv(e,r){Bn(r,!0);const a=()=>ta(D(y),"$listsQuery",l),s=()=>ta(D(h),"$archivedTasksQuery",l),[l,f]=rs();let h=de(null),y=de(null),m=de(!1),T=de(null);Ze(()=>{Ao(L(h,ra(()=>Xd()),!0),"$archivedTasksQuery",l),Ao(L(y,ra(()=>ml()),!0),"$listsQuery",l)});function w(oe){if(!a())return"Unknown List";const se=a().find(he=>he.id===oe);return se?se.name:"Unknown List"}function S(oe){return oe?new Date(oe).toLocaleString():"Unknown"}async function _(oe){try{await Jd(oe)}catch(se){console.error("Error restoring task:",se)}}function k(oe,se){L(T,{id:oe,text:se},!0),L(m,!0)}async function I(){if(D(T))try{await th(D(T).id),L(m,!1),L(T,null)}catch(oe){console.error("Error deleting task:",oe)}}function M(){L(m,!1),L(T,null)}var P=Lv(),z=Ot(P),Q=ge(me(z),2);{var re=oe=>{var se=ar(),he=Ot(se);{var ve=ce=>{var _e=Pv();Ae(ce,_e)},pe=ce=>{var _e=Mv();Wo(_e,5,s,Hu,(xe,We)=>{var Xe=Rv(),yt=me(Xe),ht=me(yt),Ce=ge(yt,2),jt=me(Ce),J=ge(Ce,2),ue=me(J),Re=ge(J,2);Re.__click=()=>_(D(We).id);var Ge=ge(Re,2);Ge.__click=()=>k(D(We).id,D(We).text),Ht(($e,Oe)=>{Pn(ht,D(We).text),Pn(jt,`(${$e??""})`),Pn(ue,`Archived: ${Oe??""}`)},[()=>w(D(We).listId),()=>S(D(We).archivedAt)]),Ae(xe,Xe)}),Ae(ce,_e)};ct(he,ce=>{s().length===0?ce(ve):ce(pe,!1)})}Ae(oe,se)};ct(Q,oe=>{D(h)&&s()&&oe(re)})}var te=ge(z,2);{let oe=ti(()=>D(T)?`Are you sure you want to permanently delete "${D(T).text}"? This action cannot be undone.`:"");Cv(te,{get isOpen(){return D(m)},title:"Delete Task",get message(){return D(oe)},onConfirm:I,onCancel:M})}Ae(e,P),jn(),f()}ur(["click"]);var Kv=Ke("<p>Loading...</p>"),Fv=Ke("<p>No lists found</p>"),Bv=Ke('<h2 class="mt-4 print:hidden"><div class="flex items-center gap-2"><input type="text" class="create-list-input cursor-pointer hover:underline svelte-1n46o8q" placeholder="List name..." aria-label="Enter list name"/> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm" aria-label="Create list">Save</button></div></h2>'),jv=Ke('<h2 role="button" tabindex="0" class="cursor-pointer hover:underline print:hidden mt-4" aria-label="Create new list">Create new list</h2>'),zv=Ke('<div class="flex items-center gap-2 p-2 border rounded hover:bg-gray-50 w-fit print:hidden mt-2" style="margin-left: 1.5rem;"><span class="drag-handle text-gray-400 select-none" aria-hidden="true" style="visibility: hidden;"></span> <input type="checkbox" disabled class="cursor-pointer opacity-0" aria-hidden="true" tabindex="-1"/> <div class="flex gap-2"><textarea placeholder="Add new task..." class="w-[150px] flex-none break-words resize-none min-h-[2.5rem] max-h-[10rem] overflow-y-auto" rows="1"></textarea> <button aria-label="Save new task">Save</button></div></div>'),Vv=Ke('<div class="flex items-center gap-2 p-2 border rounded hover:bg-gray-50 w-fit print:hidden mt-2" style="margin-left: 1.5rem;"><span class="drag-handle text-gray-400 select-none" aria-hidden="true" style="visibility: hidden;"></span> <input type="checkbox" disabled class="cursor-pointer opacity-0" aria-hidden="true" tabindex="-1"/> <span class="w-[150px] cursor-pointer hover:underline break-words" role="button" tabindex="0" aria-label="Add a task">Add a task</span></div>'),Uv=Ke("<!> <!> <!>",1),Hv=Ke('<main class="min-h-screen flex flex-col items-center justify-center bg-gray-50 print:bg-white print:min-h-0 print:gap-0 print:py-0 gap-4 py-8 svelte-1n46o8q"><div class="w-[1056px] flex justify-end print:hidden"><button class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Print</button></div> <div class="w-[1056px] h-[816px] bg-gray-400 print:bg-gray-400 border-2 border-gray-300 shadow-lg print:shadow-none print:border-0 print:mx-auto relative"><div class="absolute inset-[16px] border border-red-600" style="border-color: rgb(220, 38, 38);"><div class="w-full h-full p-4 overflow-auto"><!></div></div></div> <!></main>');function Wv(e,r){Bn(r,!0);const a=()=>ta(y,"$lists",s),[s,l]=rs(),f=25,h=10;let y=ra(()=>ml()),m=de(on({})),T=de(!1),w=de(""),S=de(null),_=de(!1),k=de(""),I=de(null);Ze(()=>{if(a()&&Array.isArray(a())&&a().length>0&&Object.keys(D(m)).length===0){const J={};for(const ue of a())J[ue.id]="";L(m,J,!0)}}),Ze(()=>{if(a()&&Array.isArray(a())&&a().length>0){const J={...D(m)};let ue=!1;for(const Re of a())Re.id in J||(J[Re.id]="",ue=!0);ue&&L(m,J,!0)}});function M(J,ue){D(m)[J]=ue}function P(){window.print()}async function z(J){await Jo();for(let ue=0;ue<f;ue++){const Re=document.querySelector(`[data-list-id="${J}"]`);if(!Re){await new Promise(Oe=>setTimeout(Oe,h));continue}const Ge=Re.querySelector(".add-task-container");if(!Ge){await new Promise(Oe=>setTimeout(Oe,h));continue}const $e=Ge.querySelector('span[role="button"]');if(!$e||!($e instanceof HTMLElement)){await new Promise(Oe=>setTimeout(Oe,h));continue}$e.click();return}console.warn(`Could not activate Add Task input for list ${J} after ${f} attempts`)}function Q(){L(T,!0)}function re(J){(J.key==="Enter"||J.key===" ")&&(J.preventDefault(),J.stopPropagation(),Q())}function te(J){J.key==="Escape"&&(L(T,!1),L(w,""))}Ze(()=>{if(D(T))return Ko(D(S),()=>{D(T)&&(L(T,!1),L(w,""))},{checkIgnoreClick:J=>{const ue=J.target.closest("button");return ue&&ue.textContent?.trim()==="Save"},shouldClose:()=>!D(w)||D(w).trim()===""})}),Ze(()=>{D(T)&&D(S)&&setTimeout(()=>{D(S)?.focus()},0)});async function oe(){const J=D(w)||"";if(Fo(J)){L(T,!1),L(w,"");return}const{text:ue,isBlank:Re}=Bo(J);if(Re){L(T,!1),L(w,"");return}try{const Ge=await Yd(ue);L(w,""),L(T,!1),await z(Ge)}catch(Ge){console.error("Error creating list:",Ge)}}function se(){L(_,!0)}function he(J){J.key==="Escape"&&(L(_,!1),L(k,""))}Ze(()=>{if(D(_))return Ko(D(I),()=>{D(_)&&(L(_,!1),L(k,""))},{checkIgnoreClick:J=>{const ue=J.target.closest("button");return ue&&ue.textContent?.trim()==="Save"},shouldClose:()=>!D(k)||D(k).trim()===""})}),Ze(()=>{D(_)&&D(I)&&setTimeout(()=>{D(I)?.focus(),D(I)instanceof HTMLTextAreaElement&&(D(I).style.height="auto",D(I).style.height=`${Math.min(D(I).scrollHeight,160)}px`)},0)}),Ze(()=>{if(D(I)&&D(I)instanceof HTMLTextAreaElement){const J=()=>{D(I).style.height="auto",D(I).style.height=`${Math.min(D(I).scrollHeight,160)}px`};return D(I).addEventListener("input",J),()=>{D(I).removeEventListener("input",J)}}});async function ve(){const J=D(k)||"";if(Fo(J)){L(_,!1),L(k,"");return}const{text:ue}=Bo(J);try{const Re=await gl(null,ue);L(k,""),L(_,!1);const $e=(await Pe.tasks.get(Re))?.listId;$e&&await z($e)}catch(Re){console.error("Error creating task in unnamed list:",Re)}}var pe=Hv(),ce=me(pe),_e=me(ce);_e.__click=P;var xe=ge(ce,2),We=me(xe),Xe=me(We),yt=me(Xe);{var ht=J=>{var ue=Kv();Ae(J,ue)},Ce=J=>{var ue=ar(),Re=Ot(ue);{var Ge=Oe=>{var Ye=Fv();Ae(Oe,Ye)},$e=Oe=>{var Ye=ar(),V=Ot(Ye);{var X=Y=>{var ye=Uv(),Te=Ot(ye);Wo(Te,1,a,Hu,(Me,Le)=>{{let tt=ti(()=>D(Le).name??"Unnamed list"),G=ti(()=>D(m)[D(Le).id]||"");Iv(Me,{get listId(){return D(Le).id},get listName(){return D(tt)},get newTaskInput(){return D(G)},onInputChange:qt=>M(D(Le).id,qt)})}});var Fe=ge(Te,2);{var ke=Me=>{var Le=Bv(),tt=me(Le),G=me(tt);G.__keydown=ze=>{ze.key==="Enter"&&!ze.shiftKey?(ze.preventDefault(),oe()):ze.key==="Escape"&&te(ze)},Kn(G,ze=>L(S,ze),()=>D(S));var qt=ge(G,2);qt.__click=oe,ns(G,()=>D(w),ze=>L(w,ze)),Ae(Me,Le)},mt=Me=>{var Le=jv();Le.__click=Q,Le.__keydown=re,Ae(Me,Le)};ct(Fe,Me=>{D(T)?Me(ke):Me(mt,!1)})}var Yt=ge(Fe,2);{var gt=Me=>{var Le=zv(),tt=ge(me(Le),4),G=me(tt);G.__input=ze=>L(k,ze.currentTarget.value,!0),G.__keydown=ze=>{ze.key==="Enter"&&!ze.shiftKey?(ze.preventDefault(),ve()):ze.key==="Escape"&&he(ze)},Kn(G,ze=>L(I,ze),()=>D(I));var qt=ge(G,2);qt.__click=ve,Ht(()=>pl(G,D(k))),Ae(Me,Le)},Ne=Me=>{var Le=Vv(),tt=ge(me(Le),4);tt.__click=se,tt.__keydown=G=>{(G.key==="Enter"||G.key===" ")&&(G.preventDefault(),se())},Ae(Me,Le)};ct(Yt,Me=>{D(_)?Me(gt):Me(Ne,!1)})}Ae(Y,ye)};ct(V,Y=>{Array.isArray(a())&&Y(X)},!0)}Ae(Oe,Ye)};ct(Re,Oe=>{Array.isArray(a())&&a().length===0?Oe(Ge):Oe($e,!1)},!0)}Ae(J,ue)};ct(yt,J=>{a()===void 0||a()===null?J(ht):J(Ce,!1)})}var jt=ge(xe,2);Nv(jt,{}),Ae(e,pe),jn(),l()}ur(["click","keydown","input"]);const Gv=[{name:"Work",order:0},{name:"Personal",order:1},{name:"Shopping",order:2}],Yv=[{text:"Review project proposal",listId:1,order:0,status:"unchecked"},{text:"Team meeting prep",listId:1,order:1,status:"unchecked"},{text:"Update documentation",listId:1,order:2,status:"unchecked"},{text:"Call dentist",listId:2,order:0,status:"unchecked"},{text:"Exercise",listId:2,order:1,status:"unchecked"},{text:"Buy groceries",listId:3,order:0,status:"unchecked"},{text:"Pick up dry cleaning",listId:3,order:1,status:"unchecked"}];async function qv(){try{if(await Pe.lists.count()>0)return;await Pe.lists.bulkAdd(Gv),await Pe.tasks.bulkAdd(Yv),console.log("Database seeded with mock data")}catch(e){throw console.error("Error seeding database:",e),e}}(async()=>(await qv().catch(console.error),kd(Wv,{target:document.getElementById("app")})))();
