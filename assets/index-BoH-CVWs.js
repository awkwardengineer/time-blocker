(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))h(v);new MutationObserver(v=>{for(const p of v)if(p.type==="childList")for(const w of p.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&h(w)}).observe(document,{childList:!0,subtree:!0});function f(v){const p={};return v.integrity&&(p.integrity=v.integrity),v.referrerPolicy&&(p.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?p.credentials="include":v.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function h(v){if(v.ep)return;v.ep=!0;const p=f(v);fetch(v.href,p)}})();const os="production",Q=!os.toLowerCase().startsWith("prod");var za=Array.isArray,ss=Array.prototype.indexOf,Pi=Array.from,jt=Object.defineProperty,tn=Object.getOwnPropertyDescriptor,fs=Object.prototype,ls=Array.prototype,cs=Object.getPrototypeOf,Oa=Object.isExtensible;function hs(i){for(var u=0;u<i.length;u++)i[u]()}function Wa(){var i,u,f=new Promise((h,v)=>{i=h,u=v});return{promise:f,resolve:i,reject:u}}const he=2,Ua=4,Ci=8,ds=1<<24,it=16,at=32,$t=64,Er=128,Le=512,me=1024,Pe=2048,ut=4096,Ke=8192,mt=16384,Di=32768,an=65536,mr=1<<17,Ya=1<<18,ln=1<<19,vs=1<<20,bt=32768,xi=1<<21,kr=1<<22,_t=1<<23,Pn=Symbol("$state"),Ha=Symbol("proxy path"),Zt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ps(){if(Q){const i=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function ys(){if(Q){const i=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/derived_references_self")}function ms(i){if(Q){const u=new Error(`effect_in_teardown
\`${i}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw u.name="Svelte error",u}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function _s(){if(Q){const i=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function gs(i){if(Q){const u=new Error(`effect_orphan
\`${i}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw u.name="Svelte error",u}else throw new Error("https://svelte.dev/e/effect_orphan")}function ws(){if(Q){const i=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function bs(i){if(Q){const u=new Error(`rune_outside_svelte
The \`${i}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw u.name="Svelte error",u}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function xs(){if(Q){const i=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Es(){if(Q){const i=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function ks(){if(Q){const i=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ss(){if(Q){const i=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw i.name="Svelte error",i}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Qa=1,qa=2,Ga=4,As=8,Ts=16,Os=2,ye=Symbol(),Ps=Symbol("filename");var Xa="font-weight: bold",Ja="font-weight: normal";function _i(i){Q?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${i}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,Xa,Ja):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Cs(){Q?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",Xa,Ja):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Za(i){return i===this.v}function Ds(i,u){return i!=i?u==u:i!==u||i!==null&&typeof i=="object"||typeof i=="function"}function eu(i){return!Ds(i,this.v)}let Is=!1;function Ye(i,u){return i.label=u,tu(i.v,u),i}function tu(i,u){return i?.[Ha]?.(u),i}function Ks(i){const u=new Error,f=Rs();return f.length===0?null:(f.unshift(`
`),jt(u,"stack",{value:f.join(`
`)}),jt(u,"name",{value:i}),u)}function Rs(){const i=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const u=new Error().stack;if(Error.stackTraceLimit=i,!u)return[];const f=u.split(`
`),h=[];for(let v=0;v<f.length;v++){const p=f[v],w=p.replaceAll("\\","/");if(p.trim()!=="Error"){if(p.includes("validate_each_keys"))return[];w.includes("svelte/src/internal")||w.includes("node_modules/.vite")||h.push(p)}}return h}let Te=null;function un(i){Te=i}let Dn=null;function _r(i){Dn=i}let Mn=null;function Pa(i){Mn=i}function nu(i,u=!1,f){Te={p:Te,i:!1,c:null,e:null,s:i,x:null,l:null},Q&&(Te.function=f,Mn=f)}function ru(i){var u=Te,f=u.e;if(f!==null){u.e=null;for(var h of f)mu(h)}return u.i=!0,Te=u.p,Q&&(Mn=Te?.function??null),{}}function iu(){return!0}let en=[];function Ms(){var i=en;en=[],hs(i)}function Sr(i){if(en.length===0){var u=en;queueMicrotask(()=>{u===en&&Ms()})}en.push(i)}const Ei=new WeakMap;function au(i){var u=ne;if(u===null)return te.f|=_t,i;if(Q&&i instanceof Error&&!Ei.has(i)&&Ei.set(i,Bs(i,u)),(u.f&Di)===0){if((u.f&Er)===0)throw Q&&!u.parent&&i instanceof Error&&uu(i),i;u.b.error(i)}else on(i,u)}function on(i,u){for(;u!==null;){if((u.f&Er)!==0)try{u.b.error(i);return}catch(f){i=f}u=u.parent}throw Q&&i instanceof Error&&uu(i),i}function Bs(i,u){const f=tn(i,"message");if(!(f&&!f.configurable)){for(var h=Mi?"  ":"	",v=`
${h}in ${u.fn?.name||"<unknown>"}`,p=u.ctx;p!==null;)v+=`
${h}in ${p.function?.[Ps].split("/").pop()}`,p=p.p;return{message:i.message+`
${v}
`,stack:i.stack?.split(`
`).filter(w=>!w.includes("svelte/src/internal")).join(`
`)}}}function uu(i){const u=Ei.get(i);u&&(jt(i,"message",{value:u.message}),jt(i,"stack",{value:u.stack}))}const vr=new Set;let ue=null,Fe=null,qe=[],Ii=null,ki=!1;class Ge{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#s=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(u){qe=[],this.apply();var f={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const h of u)this.#u(h,f);this.is_fork||this.#l(),this.is_deferred()?(this.#o(f.effects),this.#o(f.render_effects),this.#o(f.block_effects)):(ue=null,Ca(f.render_effects),Ca(f.effects),this.#s?.resolve()),Fe=null}#u(u,f){u.f^=me;for(var h=u.first;h!==null;){var v=h.f,p=(v&(at|$t))!==0,w=p&&(v&me)!==0,O=w||(v&Ke)!==0||this.skipped_effects.has(h);if((h.f&Er)!==0&&h.b?.is_pending()&&(f={parent:f,effect:h,effects:[],render_effects:[],block_effects:[]}),!O&&h.fn!==null){p?h.f^=me:(v&Ua)!==0?f.effects.push(h):Fn(h)&&((h.f&it)!==0&&f.block_effects.push(h),Rn(h));var E=h.first;if(E!==null){h=E;continue}}var R=h.parent;for(h=h.next;h===null&&R!==null;)R===f.effect&&(this.#o(f.effects),this.#o(f.render_effects),this.#o(f.block_effects),f=f.parent),h=R.next,R=R.parent}}#o(u){for(const f of u)((f.f&Pe)!==0?this.#a:this.#i).push(f),this.#f(f.deps),_e(f,me)}#f(u){if(u!==null)for(const f of u)(f.f&he)===0||(f.f&bt)===0||(f.f^=bt,this.#f(f.deps))}capture(u,f){this.previous.has(u)||this.previous.set(u,f),(u.f&_t)===0&&(this.current.set(u,u.v),Fe?.set(u,u.v))}activate(){ue=this,this.apply()}deactivate(){ue===this&&(ue=null,Fe=null)}flush(){if(this.activate(),qe.length>0){if(Fs(),ue!==null&&ue!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const u of this.#t)u(this);this.#t.clear()}#l(){if(this.#n===0){for(const u of this.#e)u();this.#e.clear()}this.#r===0&&this.#c()}#c(){if(vr.size>1){this.previous.clear();var u=Fe,f=!0,h={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const p of vr){if(p===this){f=!1;continue}const w=[];for(const[E,R]of this.current){if(p.current.has(E))if(f&&R!==p.current.get(E))p.current.set(E,R);else continue;w.push(E)}if(w.length===0)continue;const O=[...p.current.keys()].filter(E=>!this.current.has(E));if(O.length>0){var v=qe;qe=[];const E=new Set,R=new Map;for(const M of w)ou(M,O,E,R);if(qe.length>0){ue=p,p.apply();for(const M of qe)p.#u(M,h);p.deactivate()}qe=v}}ue=null,Fe=u}this.committed=!0,vr.delete(this)}increment(u){this.#r+=1,u&&(this.#n+=1)}decrement(u){this.#r-=1,u&&(this.#n-=1),this.revive()}revive(){for(const u of this.#a)_e(u,Pe),Nt(u);for(const u of this.#i)_e(u,ut),Nt(u);this.#a=[],this.#i=[],this.flush()}oncommit(u){this.#e.add(u)}ondiscard(u){this.#t.add(u)}settled(){return(this.#s??=Wa()).promise}static ensure(){if(ue===null){const u=ue=new Ge;vr.add(ue),Ge.enqueue(()=>{ue===u&&u.flush()})}return ue}static enqueue(u){Sr(u)}apply(){}}function Fs(){var i=wt;ki=!0;var u=Q?new Set:null;try{var f=0;for(wr(!0);qe.length>0;){var h=Ge.ensure();if(f++>1e3){if(Q){var v=new Map;for(const w of h.current.keys())for(const[O,E]of w.updated??[]){var p=v.get(O);p||(p={error:E.error,count:0},v.set(O,p)),p.count+=E.count}for(const w of v.values())w.error&&console.error(w.error)}js()}if(h.process(qe),gt.clear(),Q)for(const w of h.current.keys())u.add(w)}}finally{if(ki=!1,wr(i),Ii=null,Q)for(const w of u)w.updated=null}}function js(){try{ws()}catch(i){Q&&jt(i,"stack",{value:""}),on(i,Ii)}}let tt=null;function Ca(i){var u=i.length;if(u!==0){for(var f=0;f<u;){var h=i[f++];if((h.f&(mt|Ke))===0&&Fn(h)&&(tt=new Set,Rn(h),h.deps===null&&h.first===null&&h.nodes_start===null&&(h.teardown===null&&h.ac===null?wu(h):h.fn=null),tt?.size>0)){gt.clear();for(const v of tt){if((v.f&(mt|Ke))!==0)continue;const p=[v];let w=v.parent;for(;w!==null;)tt.has(w)&&(tt.delete(w),p.push(w)),w=w.parent;for(let O=p.length-1;O>=0;O--){const E=p[O];(E.f&(mt|Ke))===0&&Rn(E)}}tt.clear()}}tt=null}}function ou(i,u,f,h){if(!f.has(i)&&(f.add(i),i.reactions!==null))for(const v of i.reactions){const p=v.f;(p&he)!==0?ou(v,u,f,h):(p&(kr|it))!==0&&(p&Pe)===0&&su(v,u,h)&&(_e(v,Pe),Nt(v))}}function su(i,u,f){const h=f.get(i);if(h!==void 0)return h;if(i.deps!==null)for(const v of i.deps){if(u.includes(v))return!0;if((v.f&he)!==0&&su(v,u,f))return f.set(v,!0),!0}return f.set(i,!1),!1}function Nt(i){for(var u=Ii=i;u.parent!==null;){u=u.parent;var f=u.f;if(ki&&u===ne&&(f&it)!==0&&(f&Ya)===0)return;if((f&($t|at))!==0){if((f&me)===0)return;u.f^=me}}qe.push(u)}function Ns(i){let u=0,f=Lt(0),h;return Q&&Ye(f,"createSubscriber version"),()=>{In()&&(be(f),vf(()=>(u===0&&(h=wf(()=>i(()=>Cn(f)))),u+=1,()=>{Sr(()=>{u-=1,u===0&&(h?.(),h=void 0,Cn(f))})})))}}var Ls=an|ln|Er;function $s(i,u,f){new Vs(i,u,f)}class Vs{parent;#e=!1;#t;#r=null;#n;#s;#a;#i=null;#u=null;#o=null;#f=null;#l=null;#c=0;#d=0;#v=!1;#h=null;#g=Ns(()=>(this.#h=Lt(this.#c),Q&&Ye(this.#h,"$effect.pending()"),()=>{this.#h=null}));constructor(u,f,h){this.#t=u,this.#n=f,this.#s=h,this.parent=ne.b,this.#e=!!this.#n.pending,this.#a=Fi(()=>{ne.b=this;{var v=this.#m();try{this.#i=Be(()=>h(v))}catch(p){this.error(p)}this.#d>0?this.#y():this.#e=!1}return()=>{this.#l?.remove()}},Ls)}#w(){try{this.#i=Be(()=>this.#s(this.#t))}catch(u){this.error(u)}this.#e=!1}#b(){const u=this.#n.pending;u&&(this.#u=Be(()=>u(this.#t)),Ge.enqueue(()=>{var f=this.#m();this.#i=this.#p(()=>(Ge.ensure(),Be(()=>this.#s(f)))),this.#d>0?this.#y():(nn(this.#u,()=>{this.#u=null}),this.#e=!1)}))}#m(){var u=this.#t;return this.#e&&(this.#l=xt(),this.#t.before(this.#l),u=this.#l),u}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(u){var f=ne,h=te,v=Te;Ne(this.#a),Ae(this.#a),un(this.#a.ctx);try{return u()}catch(p){return au(p),null}finally{Ne(f),Ae(h),un(v)}}#y(){const u=this.#n.pending;this.#i!==null&&(this.#f=document.createDocumentFragment(),this.#f.append(this.#l),Eu(this.#i,this.#f)),this.#u===null&&(this.#u=Be(()=>u(this.#t)))}#_(u){if(!this.has_pending_snippet()){this.parent&&this.parent.#_(u);return}this.#d+=u,this.#d===0&&(this.#e=!1,this.#u&&nn(this.#u,()=>{this.#u=null}),this.#f&&(this.#t.before(this.#f),this.#f=null))}update_pending_count(u){this.#_(u),this.#c+=u,this.#h&&fn(this.#h,this.#c)}get_effect_pending(){return this.#g(),be(this.#h)}error(u){var f=this.#n.onerror;let h=this.#n.failed;if(this.#v||!f&&!h)throw u;this.#i&&(Oe(this.#i),this.#i=null),this.#u&&(Oe(this.#u),this.#u=null),this.#o&&(Oe(this.#o),this.#o=null);var v=!1,p=!1;const w=()=>{if(v){Cs();return}v=!0,p&&Ss(),Ge.ensure(),this.#c=0,this.#o!==null&&nn(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#i=this.#p(()=>(this.#v=!1,Be(()=>this.#s(this.#t)))),this.#d>0?this.#y():this.#e=!1};var O=te;try{Ae(null),p=!0,f?.(u,w),p=!1}catch(E){on(E,this.#a&&this.#a.parent)}finally{Ae(O)}h&&Sr(()=>{this.#o=this.#p(()=>{Ge.ensure(),this.#v=!0;try{return Be(()=>{h(this.#t,()=>u,()=>w)})}catch(E){return on(E,this.#a.parent),null}finally{this.#v=!1}})})}}function Da(i,u){return u}function zs(i,u,f){for(var h=[],v=u.length,p=0;p<v;p++)ji(u[p].e,h,!0);bu(h,()=>{var w=h.length===0&&f!==null;if(w){var O=f,E=O.parentNode;of(E),E.append(O),i.items.clear(),He(i,u[0].prev,u[v-1].next)}for(var R=0;R<v;R++){var M=u[R];w||(i.items.delete(M.k),He(i,M.prev,M.next)),Oe(M.e,!w)}i.first===u[0]&&(i.first=u[0].prev)})}function Ia(i,u,f,h,v,p=null){var w=i,O=new Map,E=null,R=(u&Ga)!==0,M=(u&Qa)!==0,K=(u&qa)!==0;if(R){var C=i;w=C.appendChild(xt())}var I=null,z=Gs(()=>{var ie=f();return za(ie)?ie:ie==null?[]:Pi(ie)}),Y,$=!0;function J(){Ws(xe,Y,w,u,h),I!==null&&(Y.length===0?(I.fragment?(w.before(I.fragment),I.fragment=null):Ni(I.effect),Ce.first=I.effect):nn(I.effect,()=>{I=null}))}var Ce=Fi(()=>{Y=be(z);for(var ie=Y.length,Ee=new Set,de=ue,ge=null,$e=pu(),oe=0;oe<ie;oe+=1){var le=Y[oe],Vt=h(le,oe),ke=$?null:O.get(Vt);ke?(M&&fn(ke.v,le),K?fn(ke.i,oe):ke.i=oe,$e&&de.skipped_effects.delete(ke.e)):(ke=Us($?w:null,ge,le,Vt,oe,v,u,f),$&&(ke.o=!0,ge===null?E=ke:ge.next=ke,ge=ke),O.set(Vt,ke)),Ee.add(Vt)}if(ie===0&&p&&!I)if($)I={fragment:null,effect:Be(()=>p(w))};else{var jn=document.createDocumentFragment(),hn=xt();jn.append(hn),I={fragment:jn,effect:Be(()=>p(hn))}}if(!$)if($e){for(const[Tr,Nn]of O)Ee.has(Tr)||de.skipped_effects.add(Nn.e);de.oncommit(J),de.ondiscard(()=>{})}else J();be(z)}),xe={effect:Ce,items:O,first:E};$=!1}function Ws(i,u,f,h,v){var p=(h&As)!==0,w=u.length,O=i.items,E=i.first,R,M=null,K,C=[],I=[],z,Y,$,J;if(p)for(J=0;J<w;J+=1)z=u[J],Y=v(z,J),$=O.get(Y),$.o&&($.a?.measure(),(K??=new Set).add($));for(J=0;J<w;J+=1){if(z=u[J],Y=v(z,J),$=O.get(Y),i.first??=$,!$.o){$.o=!0;var Ce=M?M.next:E;He(i,M,$),He(i,$,Ce),gi($,Ce,f),M=$,C=[],I=[],E=M.next;continue}if(($.e.f&Ke)!==0&&(Ni($.e),p&&($.a?.unfix(),(K??=new Set).delete($))),$!==E){if(R!==void 0&&R.has($)){if(C.length<I.length){var xe=I[0],ie;M=xe.prev;var Ee=C[0],de=C[C.length-1];for(ie=0;ie<C.length;ie+=1)gi(C[ie],xe,f);for(ie=0;ie<I.length;ie+=1)R.delete(I[ie]);He(i,Ee.prev,de.next),He(i,M,Ee),He(i,de,xe),E=xe,M=de,J-=1,C=[],I=[]}else R.delete($),gi($,E,f),He(i,$.prev,$.next),He(i,$,M===null?i.first:M.next),He(i,M,$),M=$;continue}for(C=[],I=[];E!==null&&E.k!==Y;)(E.e.f&Ke)===0&&(R??=new Set).add(E),I.push(E),E=E.next;if(E===null)continue;$=E}C.push($),M=$,E=$.next}if(E!==null||R!==void 0){for(var ge=R===void 0?[]:Pi(R);E!==null;)(E.e.f&Ke)===0&&ge.push(E),E=E.next;var $e=ge.length;if($e>0){var oe=(h&Ga)!==0&&w===0?f:null;if(p){for(J=0;J<$e;J+=1)ge[J].a?.measure();for(J=0;J<$e;J+=1)ge[J].a?.fix()}zs(i,ge,oe)}}p&&Sr(()=>{if(K!==void 0)for($ of K)$.a?.apply()})}function Us(i,u,f,h,v,p,w,O){var E=(w&Qa)!==0,R=(w&Ts)===0,M=E?R?Zs(f,!1,!1):Lt(f):f,K=(w&qa)===0?v:Lt(v);Q&&E&&(M.trace=()=>{var z=typeof K=="number"?v:K.v;O()[z]});var C={i:K,v:M,k:h,a:null,e:null,o:!1,prev:u,next:null};try{if(i===null){var I=document.createDocumentFragment();I.append(i=xt())}return C.e=Be(()=>p(i,M,K,O)),u!==null&&(u.next=C),C}finally{}}function gi(i,u,f){for(var h=i.next?i.next.e.nodes_start:f,v=u?u.e.nodes_start:f,p=i.e.nodes_start;p!==null&&p!==h;){var w=Bn(p);v.before(p),p=w}}function He(i,u,f){u===null?(i.first=f,i.effect.first=f&&f.e):(u.e===i.effect.last&&f!==null&&(i.effect.last=f.e),u.e.next&&(u.e.next.prev=null),u.next=f,u.e.next=f&&f.e),f===null?i.effect.last=u&&u.e:(f.e===i.effect.last&&u===null&&(i.effect.last=f.e.prev),f.e.prev&&(f.e.prev.next=null),f.prev=u,f.e.prev=u&&u.e)}function Ys(i,u,f,h){const v=fu;if(f.length===0&&i.length===0){h(u.map(v));return}var p=ue,w=ne,O=Hs();function E(){Promise.all(f.map(R=>qs(R))).then(R=>{O();try{h([...u.map(v),...R])}catch(M){(w.f&mt)===0&&on(M,w)}p?.deactivate(),gr()}).catch(R=>{on(R,w)})}i.length>0?Promise.all(i).then(()=>{O();try{return E()}finally{p?.deactivate(),gr()}}):E()}function Hs(){var i=ne,u=te,f=Te,h=ue;if(Q)var v=Dn;return function(w=!0){Ne(i),Ae(u),un(f),w&&h?.activate(),Q&&_r(v)}}function gr(){Ne(null),Ae(null),un(null),Q&&_r(null)}const Qs=new Set;function fu(i){var u=he|Pe,f=te!==null&&(te.f&he)!==0?te:null;return ne!==null&&(ne.f|=ln),{ctx:Te,deps:null,effects:null,equals:Za,f:u,fn:i,reactions:null,rv:0,v:ye,wv:0,parent:f??ne,ac:null}}function qs(i,u){let f=ne;f===null&&ps();var h=f.b,v=void 0,p=Lt(ye),w=!te,O=new Map;return df(()=>{var E=Wa();v=E.promise;try{Promise.resolve(i()).then(E.resolve,E.reject).then(()=>{R===ue&&R.committed&&R.deactivate(),gr()})}catch(C){E.reject(C),gr()}var R=ue;if(w){var M=!h.is_pending();h.update_pending_count(1),R.increment(M),O.get(R)?.reject(Zt),O.delete(R),O.set(R,E)}const K=(C,I=void 0)=>{if(R.activate(),I)I!==Zt&&(p.f|=_t,fn(p,I));else{(p.f&_t)!==0&&(p.f^=_t),fn(p,C);for(const[z,Y]of O){if(O.delete(z),z===R)break;Y.reject(Zt)}}w&&(h.update_pending_count(-1),R.decrement(M))};E.promise.then(K,C=>K(null,C||"unknown"))}),lf(()=>{for(const E of O.values())E.reject(Zt)}),Q&&(p.f|=kr),new Promise(E=>{function R(M){function K(){M===v?E(p):R(v)}M.then(K,K)}R(v)})}function Gs(i){const u=fu(i);return u.equals=eu,u}function Si(i){var u=i.effects;if(u!==null){i.effects=null;for(var f=0;f<u.length;f+=1)Oe(u[f])}}let wi=[];function Xs(i){for(var u=i.parent;u!==null;){if((u.f&he)===0)return(u.f&mt)===0?u:null;u=u.parent}return null}function Ki(i){var u,f=ne;if(Ne(Xs(i)),Q){let h=sn;Ka(new Set);try{wi.includes(i)&&ys(),wi.push(i),i.f&=~bt,Si(i),u=Ai(i)}finally{Ne(f),Ka(h),wi.pop()}}else try{i.f&=~bt,Si(i),u=Ai(i)}finally{Ne(f)}return u}function lu(i){var u=Ki(i);if(i.equals(u)||(ue?.is_fork||(i.v=u),i.wv=Su()),!cn)if(Fe!==null)(In()||ue?.is_fork)&&Fe.set(i,u);else{var f=(i.f&Le)===0?ut:me;_e(i,f)}}let sn=new Set;const gt=new Map;function Ka(i){sn=i}let Ri=!1;function Js(){Ri=!0}function Lt(i,u){var f={f:0,v:i,reactions:null,equals:Za,rv:0,wv:0};return f}function Qe(i,u){const f=Lt(i);return mf(f),f}function Zs(i,u=!1,f=!0){const h=Lt(i);return u||(h.equals=eu),h}function nt(i,u,f=!1){te!==null&&(!Xe||(te.f&mr)!==0)&&iu()&&(te.f&(he|it|kr|mr))!==0&&!rt?.includes(i)&&ks();let h=f?Bt(u):u;return Q&&tu(h,i.label),fn(i,h)}function fn(i,u){if(!i.equals(u)){var f=i.v;cn?gt.set(i,u):gt.set(i,f),i.v=u;var h=Ge.ensure();if(h.capture(i,f),Q){if(ne!==null){i.updated??=new Map;const v=(i.updated.get("")?.count??0)+1;if(i.updated.set("",{error:null,count:v}),v>5){const p=Ks("updated at");if(p!==null){let w=i.updated.get(p.stack);w||(w={error:p,count:0},i.updated.set(p.stack,w)),w.count++}}}ne!==null&&(i.set_during_effect=!0)}(i.f&he)!==0&&((i.f&Pe)!==0&&Ki(i),_e(i,(i.f&Le)!==0?me:ut)),i.wv=Su(),hu(i,Pe),ne!==null&&(ne.f&me)!==0&&(ne.f&(at|$t))===0&&(Me===null?_f([i]):Me.push(i)),!h.is_fork&&sn.size>0&&!Ri&&cu()}return u}function cu(){Ri=!1;var i=wt;wr(!0);const u=Array.from(sn);try{for(const f of u)(f.f&me)!==0&&_e(f,ut),Fn(f)&&Rn(f)}finally{wr(i)}sn.clear()}function Cn(i){nt(i,i.v+1)}function hu(i,u){var f=i.reactions;if(f!==null)for(var h=f.length,v=0;v<h;v++){var p=f[v],w=p.f;if(Q&&(w&mr)!==0){sn.add(p);continue}var O=(w&Pe)===0;if(O&&_e(p,u),(w&he)!==0){var E=p;Fe?.delete(E),(w&bt)===0&&(w&Le&&(p.f|=bt),hu(E,ut))}else O&&((w&it)!==0&&tt!==null&&tt.add(p),Nt(p))}}const ef=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function Bt(i){if(typeof i!="object"||i===null||Pn in i)return i;const u=cs(i);if(u!==fs&&u!==ls)return i;var f=new Map,h=za(i),v=Qe(0),p=Ft,w=M=>{if(Ft===p)return M();var K=te,C=Ft;Ae(null),ja(p);var I=M();return Ae(K),ja(C),I};h&&(f.set("length",Qe(i.length)),Q&&(i=nf(i)));var O="";let E=!1;function R(M){if(!E){E=!0,O=M,Ye(v,`${O} version`);for(const[K,C]of f)Ye(C,Mt(O,K));E=!1}}return new Proxy(i,{defineProperty(M,K,C){(!("value"in C)||C.configurable===!1||C.enumerable===!1||C.writable===!1)&&xs();var I=f.get(K);return I===void 0?I=w(()=>{var z=Qe(C.value);return f.set(K,z),Q&&typeof K=="string"&&Ye(z,Mt(O,K)),z}):nt(I,C.value,!0),!0},deleteProperty(M,K){var C=f.get(K);if(C===void 0){if(K in M){const I=w(()=>Qe(ye));f.set(K,I),Cn(v),Q&&Ye(I,Mt(O,K))}}else nt(C,ye),Cn(v);return!0},get(M,K,C){if(K===Pn)return i;if(Q&&K===Ha)return R;var I=f.get(K),z=K in M;if(I===void 0&&(!z||tn(M,K)?.writable)&&(I=w(()=>{var $=Bt(z?M[K]:ye),J=Qe($);return Q&&Ye(J,Mt(O,K)),J}),f.set(K,I)),I!==void 0){var Y=be(I);return Y===ye?void 0:Y}return Reflect.get(M,K,C)},getOwnPropertyDescriptor(M,K){var C=Reflect.getOwnPropertyDescriptor(M,K);if(C&&"value"in C){var I=f.get(K);I&&(C.value=be(I))}else if(C===void 0){var z=f.get(K),Y=z?.v;if(z!==void 0&&Y!==ye)return{enumerable:!0,configurable:!0,value:Y,writable:!0}}return C},has(M,K){if(K===Pn)return!0;var C=f.get(K),I=C!==void 0&&C.v!==ye||Reflect.has(M,K);if(C!==void 0||ne!==null&&(!I||tn(M,K)?.writable)){C===void 0&&(C=w(()=>{var Y=I?Bt(M[K]):ye,$=Qe(Y);return Q&&Ye($,Mt(O,K)),$}),f.set(K,C));var z=be(C);if(z===ye)return!1}return I},set(M,K,C,I){var z=f.get(K),Y=K in M;if(h&&K==="length")for(var $=C;$<z.v;$+=1){var J=f.get($+"");J!==void 0?nt(J,ye):$ in M&&(J=w(()=>Qe(ye)),f.set($+"",J),Q&&Ye(J,Mt(O,$)))}if(z===void 0)(!Y||tn(M,K)?.writable)&&(z=w(()=>Qe(void 0)),Q&&Ye(z,Mt(O,K)),nt(z,Bt(C)),f.set(K,z));else{Y=z.v!==ye;var Ce=w(()=>Bt(C));nt(z,Ce)}var xe=Reflect.getOwnPropertyDescriptor(M,K);if(xe?.set&&xe.set.call(I,C),!Y){if(h&&typeof K=="string"){var ie=f.get("length"),Ee=Number(K);Number.isInteger(Ee)&&Ee>=ie.v&&nt(ie,Ee+1)}Cn(v)}return!0},ownKeys(M){be(v);var K=Reflect.ownKeys(M).filter(z=>{var Y=f.get(z);return Y===void 0||Y.v!==ye});for(var[C,I]of f)I.v!==ye&&!(C in M)&&K.push(C);return K},setPrototypeOf(){Es()}})}function Mt(i,u){return typeof u=="symbol"?`${i}[Symbol(${u.description??""})]`:ef.test(u)?`${i}.${u}`:/^\d+$/.test(u)?`${i}[${u}]`:`${i}['${u}']`}function bi(i){try{if(i!==null&&typeof i=="object"&&Pn in i)return i[Pn]}catch{}return i}const tf=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function nf(i){return new Proxy(i,{get(u,f,h){var v=Reflect.get(u,f,h);return tf.has(f)?function(...p){Js();var w=v.apply(this,p);return cu(),w}:v}})}function rf(){const i=Array.prototype,u=Array.__svelte_cleanup;u&&u();const{indexOf:f,lastIndexOf:h,includes:v}=i;i.indexOf=function(p,w){const O=f.call(this,p,w);if(O===-1){for(let E=w??0;E<this.length;E+=1)if(bi(this[E])===p){_i("array.indexOf(...)");break}}return O},i.lastIndexOf=function(p,w){const O=h.call(this,p,w??this.length-1);if(O===-1){for(let E=0;E<=(w??this.length-1);E+=1)if(bi(this[E])===p){_i("array.lastIndexOf(...)");break}}return O},i.includes=function(p,w){const O=v.call(this,p,w);if(!O){for(let E=0;E<this.length;E+=1)if(bi(this[E])===p){_i("array.includes(...)");break}}return O},Array.__svelte_cleanup=()=>{i.indexOf=f,i.lastIndexOf=h,i.includes=v}}var Ra,Mi,du,vu;function af(){if(Ra===void 0){Ra=window,Mi=/Firefox/.test(navigator.userAgent);var i=Element.prototype,u=Node.prototype,f=Text.prototype;du=tn(u,"firstChild").get,vu=tn(u,"nextSibling").get,Oa(i)&&(i.__click=void 0,i.__className=void 0,i.__attributes=null,i.__style=void 0,i.__e=void 0),Oa(f)&&(f.__t=void 0),Q&&(i.__svelte_meta=null,rf())}}function xt(i=""){return document.createTextNode(i)}function Bi(i){return du.call(i)}function Bn(i){return vu.call(i)}function yt(i,u){return Bi(i)}function uf(i,u=!1){{var f=Bi(i);return f instanceof Comment&&f.data===""?Bn(f):f}}function Ma(i,u=1,f=!1){let h=i;for(;u--;)h=Bn(h);return h}function of(i){i.textContent=""}function pu(){return!1}function yu(i){var u=te,f=ne;Ae(null),Ne(null);try{return i()}finally{Ae(u),Ne(f)}}function sf(i){ne===null&&(te===null&&gs(i),_s()),cn&&ms(i)}function ff(i,u){var f=u.last;f===null?u.last=u.first=i:(f.next=i,i.prev=f,u.last=i)}function Et(i,u,f){var h=ne;if(Q)for(;h!==null&&(h.f&mr)!==0;)h=h.parent;h!==null&&(h.f&Ke)!==0&&(i|=Ke);var v={ctx:Te,deps:null,nodes_start:null,nodes_end:null,f:i|Pe|Le,first:null,fn:u,last:null,next:null,parent:h,b:h&&h.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(Q&&(v.component_function=Mn),f)try{Rn(v),v.f|=Di}catch(O){throw Oe(v),O}else u!==null&&Nt(v);var p=v;if(f&&p.deps===null&&p.teardown===null&&p.nodes_start===null&&p.first===p.last&&(p.f&ln)===0&&(p=p.first,(i&it)!==0&&(i&an)!==0&&p!==null&&(p.f|=an)),p!==null&&(p.parent=h,h!==null&&ff(p,h),te!==null&&(te.f&he)!==0&&(i&$t)===0)){var w=te;(w.effects??=[]).push(p)}return v}function In(){return te!==null&&!Xe}function lf(i){const u=Et(Ci,null,!1);return _e(u,me),u.teardown=i,u}function cf(i){sf("$effect"),Q&&jt(i,"name",{value:"$effect"});var u=ne.f,f=!te&&(u&at)!==0&&(u&Di)===0;if(f){var h=Te;(h.e??=[]).push(i)}else return mu(i)}function mu(i){return Et(Ua|vs,i,!1)}function hf(i){Ge.ensure();const u=Et($t|ln,i,!0);return(f={})=>new Promise(h=>{f.outro?nn(u,()=>{Oe(u),h(void 0)}):(Oe(u),h(void 0))})}function df(i){return Et(kr|ln,i,!0)}function vf(i,u=0){return Et(Ci|u,i,!0)}function Ba(i,u=[],f=[],h=[]){Ys(h,u,f,v=>{Et(Ci,()=>i(...v.map(be)),!0)})}function Fi(i,u=0){var f=Et(it|u,i,!0);return Q&&(f.dev_stack=Dn),f}function Be(i){return Et(at|ln,i,!0)}function _u(i){var u=i.teardown;if(u!==null){const f=cn,h=te;Fa(!0),Ae(null);try{u.call(null)}finally{Fa(f),Ae(h)}}}function gu(i,u=!1){var f=i.first;for(i.first=i.last=null;f!==null;){const v=f.ac;v!==null&&yu(()=>{v.abort(Zt)});var h=f.next;(f.f&$t)!==0?f.parent=null:Oe(f,u),f=h}}function pf(i){for(var u=i.first;u!==null;){var f=u.next;(u.f&at)===0&&Oe(u),u=f}}function Oe(i,u=!0){var f=!1;(u||(i.f&Ya)!==0)&&i.nodes_start!==null&&i.nodes_end!==null&&(yf(i.nodes_start,i.nodes_end),f=!0),gu(i,u&&!f),br(i,0),_e(i,mt);var h=i.transitions;if(h!==null)for(const p of h)p.stop();_u(i);var v=i.parent;v!==null&&v.first!==null&&wu(i),Q&&(i.component_function=null),i.next=i.prev=i.teardown=i.ctx=i.deps=i.fn=i.nodes_start=i.nodes_end=i.ac=null}function yf(i,u){for(;i!==null;){var f=i===u?null:Bn(i);i.remove(),i=f}}function wu(i){var u=i.parent,f=i.prev,h=i.next;f!==null&&(f.next=h),h!==null&&(h.prev=f),u!==null&&(u.first===i&&(u.first=h),u.last===i&&(u.last=f))}function nn(i,u,f=!0){var h=[];ji(i,h,!0),bu(h,()=>{f&&Oe(i),u&&u()})}function bu(i,u){var f=i.length;if(f>0){var h=()=>--f||u();for(var v of i)v.out(h)}else u()}function ji(i,u,f){if((i.f&Ke)===0){if(i.f^=Ke,i.transitions!==null)for(const w of i.transitions)(w.is_global||f)&&u.push(w);for(var h=i.first;h!==null;){var v=h.next,p=(h.f&an)!==0||(h.f&at)!==0&&(i.f&it)!==0;ji(h,u,p?f:!1),h=v}}}function Ni(i){xu(i,!0)}function xu(i,u){if((i.f&Ke)!==0){i.f^=Ke,(i.f&me)===0&&(_e(i,Pe),Nt(i));for(var f=i.first;f!==null;){var h=f.next,v=(f.f&an)!==0||(f.f&at)!==0;xu(f,v?u:!1),f=h}if(i.transitions!==null)for(const p of i.transitions)(p.is_global||u)&&p.in()}}function Eu(i,u){for(var f=i.nodes_start,h=i.nodes_end;f!==null;){var v=f===h?null:Bn(f);u.append(f),f=v}}let wt=!1;function wr(i){wt=i}let cn=!1;function Fa(i){cn=i}let te=null,Xe=!1;function Ae(i){te=i}let ne=null;function Ne(i){ne=i}let rt=null;function mf(i){te!==null&&(rt===null?rt=[i]:rt.push(i))}let we=null,Ie=0,Me=null;function _f(i){Me=i}let ku=1,Kn=0,Ft=Kn;function ja(i){Ft=i}function Su(){return++ku}function Fn(i){var u=i.f;if((u&Pe)!==0)return!0;if(u&he&&(i.f&=~bt),(u&ut)!==0){var f=i.deps;if(f!==null)for(var h=f.length,v=0;v<h;v++){var p=f[v];if(Fn(p)&&lu(p),p.wv>i.wv)return!0}(u&Le)!==0&&Fe===null&&_e(i,me)}return!1}function Au(i,u,f=!0){var h=i.reactions;if(h!==null&&!rt?.includes(i))for(var v=0;v<h.length;v++){var p=h[v];(p.f&he)!==0?Au(p,u,!1):u===p&&(f?_e(p,Pe):(p.f&me)!==0&&_e(p,ut),Nt(p))}}function Ai(i){var u=we,f=Ie,h=Me,v=te,p=rt,w=Te,O=Xe,E=Ft,R=i.f;we=null,Ie=0,Me=null,te=(R&(at|$t))===0?i:null,rt=null,un(i.ctx),Xe=!1,Ft=++Kn,i.ac!==null&&(yu(()=>{i.ac.abort(Zt)}),i.ac=null);try{i.f|=xi;var M=i.fn,K=M(),C=i.deps;if(we!==null){var I;if(br(i,Ie),C!==null&&Ie>0)for(C.length=Ie+we.length,I=0;I<we.length;I++)C[Ie+I]=we[I];else i.deps=C=we;if(wt&&In()&&(i.f&Le)!==0)for(I=Ie;I<C.length;I++)(C[I].reactions??=[]).push(i)}else C!==null&&Ie<C.length&&(br(i,Ie),C.length=Ie);if(iu()&&Me!==null&&!Xe&&C!==null&&(i.f&(he|ut|Pe))===0)for(I=0;I<Me.length;I++)Au(Me[I],i);return v!==null&&v!==i&&(Kn++,Me!==null&&(h===null?h=Me:h.push(...Me))),(i.f&_t)!==0&&(i.f^=_t),K}catch(z){return au(z)}finally{i.f^=xi,we=u,Ie=f,Me=h,te=v,rt=p,un(w),Xe=O,Ft=E}}function gf(i,u){let f=u.reactions;if(f!==null){var h=ss.call(f,i);if(h!==-1){var v=f.length-1;v===0?f=u.reactions=null:(f[h]=f[v],f.pop())}}f===null&&(u.f&he)!==0&&(we===null||!we.includes(u))&&(_e(u,ut),(u.f&Le)!==0&&(u.f^=Le,u.f&=~bt),Si(u),br(u,0))}function br(i,u){var f=i.deps;if(f!==null)for(var h=u;h<f.length;h++)gf(i,f[h])}function Rn(i){var u=i.f;if((u&mt)===0){_e(i,me);var f=ne,h=wt;if(ne=i,wt=!0,Q){var v=Mn;Pa(i.component_function);var p=Dn;_r(i.dev_stack??Dn)}try{(u&(it|ds))!==0?pf(i):gu(i),_u(i);var w=Ai(i);i.teardown=typeof w=="function"?w:null,i.wv=ku;var O;Q&&Is&&(i.f&Pe)!==0&&i.deps}finally{wt=h,ne=f,Q&&(Pa(v),_r(p))}}}function be(i){var u=i.f,f=(u&he)!==0;if(te!==null&&!Xe){var h=ne!==null&&(ne.f&mt)!==0;if(!h&&!rt?.includes(i)){var v=te.deps;if((te.f&xi)!==0)i.rv<Kn&&(i.rv=Kn,we===null&&v!==null&&v[Ie]===i?Ie++:we===null?we=[i]:we.includes(i)||we.push(i));else{(te.deps??=[]).push(i);var p=i.reactions;p===null?i.reactions=[te]:p.includes(te)||p.push(te)}}}if(Q&&Qs.delete(i),cn){if(gt.has(i))return gt.get(i);if(f){var w=i,O=w.v;return((w.f&me)===0&&w.reactions!==null||Ou(w))&&(O=Ki(w)),gt.set(w,O),O}}else f&&(!Fe?.has(i)||ue?.is_fork&&!In())&&(w=i,Fn(w)&&lu(w),wt&&In()&&(w.f&Le)===0&&Tu(w));if(Fe?.has(i))return Fe.get(i);if((i.f&_t)!==0)throw i.v;return i.v}function Tu(i){if(i.deps!==null){i.f^=Le;for(const u of i.deps)(u.reactions??=[]).push(i),(u.f&he)!==0&&(u.f&Le)===0&&Tu(u)}}function Ou(i){if(i.v===ye)return!0;if(i.deps===null)return!1;for(const u of i.deps)if(gt.has(u)||(u.f&he)!==0&&Ou(u))return!0;return!1}function wf(i){var u=Xe;try{return Xe=!0,i()}finally{Xe=u}}const bf=-7169;function _e(i,u){i.f=i.f&bf|u}const xf=["touchstart","touchmove"];function Ef(i){return xf.includes(i)}const Pu=new Set,Ti=new Set;function kf(i){for(var u=0;u<i.length;u++)Pu.add(i[u]);for(var f of Ti)f(i)}let Na=null;function pr(i){var u=this,f=u.ownerDocument,h=i.type,v=i.composedPath?.()||[],p=v[0]||i.target;Na=i;var w=0,O=Na===i&&i.__root;if(O){var E=v.indexOf(O);if(E!==-1&&(u===document||u===window)){i.__root=u;return}var R=v.indexOf(u);if(R===-1)return;E<=R&&(w=E)}if(p=v[w]||i.target,p!==u){jt(i,"currentTarget",{configurable:!0,get(){return p||f}});var M=te,K=ne;Ae(null),Ne(null);try{for(var C,I=[];p!==null;){var z=p.assignedSlot||p.parentNode||p.host||null;try{var Y=p["__"+h];Y!=null&&(!p.disabled||i.target===p)&&Y.call(p,i)}catch($){C?I.push($):C=$}if(i.cancelBubble||z===u||z===null)break;p=z}if(C){for(let $ of I)queueMicrotask(()=>{throw $});throw C}}finally{i.__root=u,delete i.currentTarget,Ae(M),Ne(K)}}}function Sf(i){var u=document.createElement("template");return u.innerHTML=i.replaceAll("<!>","<!---->"),u.content}function Cu(i,u){var f=ne;f.nodes_start===null&&(f.nodes_start=i,f.nodes_end=u)}function Ar(i,u){var f=(u&Os)!==0,h,v=!i.startsWith("<!>");return()=>{h===void 0&&(h=Sf(v?i:"<!>"+i),h=Bi(h));var p=f||Mi?document.importNode(h,!0):h.cloneNode(!0);return Cu(p,p),p}}function Af(){var i=document.createDocumentFragment(),u=document.createComment(""),f=xt();return i.append(u,f),Cu(u,f),i}function On(i,u){i!==null&&i.before(u)}function La(i,u){var f=u==null?"":typeof u=="object"?u+"":u;f!==(i.__t??=i.nodeValue)&&(i.__t=f,i.nodeValue=f+"")}function Tf(i,u){return Of(i,u)}const Jt=new Map;function Of(i,{target:u,anchor:f,props:h={},events:v,context:p,intro:w=!0}){af();var O=new Set,E=K=>{for(var C=0;C<K.length;C++){var I=K[C];if(!O.has(I)){O.add(I);var z=Ef(I);u.addEventListener(I,pr,{passive:z});var Y=Jt.get(I);Y===void 0?(document.addEventListener(I,pr,{passive:z}),Jt.set(I,1)):Jt.set(I,Y+1)}}};E(Pi(Pu)),Ti.add(E);var R=void 0,M=hf(()=>{var K=f??u.appendChild(xt());return $s(K,{pending:()=>{}},C=>{if(p){nu({});var I=Te;I.c=p}v&&(h.$$events=v),R=i(C,h)||{},p&&ru()}),()=>{for(var C of O){u.removeEventListener(C,pr);var I=Jt.get(C);--I===0?(document.removeEventListener(C,pr),Jt.delete(C)):Jt.set(C,I)}Ti.delete(E),K!==f&&K.parentNode?.removeChild(K)}});return Pf.set(R,M),R}let Pf=new WeakMap;class Cf{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#s=!0;constructor(u,f=!0){this.anchor=u,this.#s=f}#a=()=>{var u=ue;if(this.#e.has(u)){var f=this.#e.get(u),h=this.#t.get(f);if(h)Ni(h),this.#n.delete(f);else{var v=this.#r.get(f);v&&(this.#t.set(f,v.effect),this.#r.delete(f),v.fragment.lastChild.remove(),this.anchor.before(v.fragment),h=v.effect)}for(const[p,w]of this.#e){if(this.#e.delete(p),p===u)break;const O=this.#r.get(w);O&&(Oe(O.effect),this.#r.delete(w))}for(const[p,w]of this.#t){if(p===f||this.#n.has(p))continue;const O=()=>{if(Array.from(this.#e.values()).includes(p)){var R=document.createDocumentFragment();Eu(w,R),R.append(xt()),this.#r.set(p,{effect:w,fragment:R})}else Oe(w);this.#n.delete(p),this.#t.delete(p)};this.#s||!h?(this.#n.add(p),nn(w,O,!1)):O()}}};#i=u=>{this.#e.delete(u);const f=Array.from(this.#e.values());for(const[h,v]of this.#r)f.includes(h)||(Oe(v.effect),this.#r.delete(h))};ensure(u,f){var h=ue,v=pu();if(f&&!this.#t.has(u)&&!this.#r.has(u))if(v){var p=document.createDocumentFragment(),w=xt();p.append(w),this.#r.set(u,{effect:Be(()=>f(w)),fragment:p})}else this.#t.set(u,Be(()=>f(this.anchor)));if(this.#e.set(h,u),v){for(const[O,E]of this.#t)O===u?h.skipped_effects.delete(E):h.skipped_effects.add(E);for(const[O,E]of this.#r)O===u?h.skipped_effects.delete(E.effect):h.skipped_effects.add(E.effect);h.oncommit(this.#a),h.ondiscard(this.#i)}else this.#a()}}function Df(i,u,f=!1){var h=new Cf(i),v=f?an:0;function p(w,O){h.ensure(w,O)}Fi(()=>{var w=!1;u((O,E=!0)=>{w=!0,p(E,O)}),w||p(!1,null)},v)}if(Q){let i=function(u){if(!(u in globalThis)){let f;Object.defineProperty(globalThis,u,{configurable:!0,get:()=>{if(f!==void 0)return f;bs(u)},set:h=>{f=h}})}};var ul=i;i("$state"),i("$effect"),i("$derived"),i("$inspect"),i("$props"),i("$bindable")}const If="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(If);var Kf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rf(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var yr={exports:{}},Mf=yr.exports,$a;function Bf(){return $a||($a=1,(function(i,u){(function(f,h){i.exports=h()})(Mf,(function(){var f=function(e,t){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},f(e,t)};function h(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");f(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var v=function(){return v=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},v.apply(this,arguments)};function p(e,t,n){for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var w=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Kf,O=Object.keys,E=Array.isArray;typeof Promise<"u"&&!w.Promise&&(w.Promise=Promise);function R(e,t){return typeof t!="object"||O(t).forEach(function(n){e[n]=t[n]}),e}var M=Object.getPrototypeOf,K={}.hasOwnProperty;function C(e,t){return K.call(e,t)}function I(e,t){typeof t=="function"&&(t=t(M(e))),(typeof Reflect>"u"?O:Reflect.ownKeys)(t).forEach(function(n){Y(e,n,t[n])})}var z=Object.defineProperty;function Y(e,t,n,r){z(e,t,R(n&&C(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function $(e){return{from:function(t){return e.prototype=Object.create(t.prototype),Y(e.prototype,"constructor",e),{extend:I.bind(null,e.prototype)}}}}var J=Object.getOwnPropertyDescriptor;function Ce(e,t){var n=J(e,t),r;return n||(r=M(e))&&Ce(r,t)}var xe=[].slice;function ie(e,t,n){return xe.call(e,t,n)}function Ee(e,t){return t(e)}function de(e){if(!e)throw new Error("Assertion Failed")}function ge(e){w.setImmediate?setImmediate(e):setTimeout(e,0)}function $e(e,t){return e.reduce(function(n,r,a){var o=t(r,a);return o&&(n[o[0]]=o[1]),n},{})}function oe(e,t){if(typeof t=="string"&&C(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var n=[],r=0,a=t.length;r<a;++r){var o=oe(e,t[r]);n.push(o)}return n}var s=t.indexOf(".");if(s!==-1){var l=e[t.substr(0,s)];return l==null?void 0:oe(l,t.substr(s+1))}}function le(e,t,n){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){de(typeof n!="string"&&"length"in n);for(var r=0,a=t.length;r<a;++r)le(e,t[r],n[r])}else{var o=t.indexOf(".");if(o!==-1){var s=t.substr(0,o),l=t.substr(o+1);if(l==="")n===void 0?E(e)&&!isNaN(parseInt(s))?e.splice(s,1):delete e[s]:e[s]=n;else{var c=e[s];(!c||!C(e,s))&&(c=e[s]={}),le(c,l,n)}}else n===void 0?E(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function Vt(e,t){typeof t=="string"?le(e,t,void 0):"length"in t&&[].map.call(t,function(n){le(e,n,void 0)})}function ke(e){var t={};for(var n in e)C(e,n)&&(t[n]=e[n]);return t}var jn=[].concat;function hn(e){return jn.apply([],e)}var Tr="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(hn([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return w[e]}),Nn=new Set(Tr.map(function(e){return w[e]}));function Li(e){var t={};for(var n in e)if(C(e,n)){var r=e[n];t[n]=!r||typeof r!="object"||Nn.has(r.constructor)?r:Li(r)}return t}function Du(e){for(var t in e)if(C(e,t))return!1;return!0}var dn=null;function kt(e){dn=new WeakMap;var t=Or(e);return dn=null,t}function Or(e){if(!e||typeof e!="object")return e;var t=dn.get(e);if(t)return t;if(E(e)){t=[],dn.set(e,t);for(var n=0,r=e.length;n<r;++n)t.push(Or(e[n]))}else if(Nn.has(e.constructor))t=e;else{var a=M(e);t=a===Object.prototype?{}:Object.create(a),dn.set(e,t);for(var o in e)C(e,o)&&(t[o]=Or(e[o]))}return t}var Iu={}.toString;function Pr(e){return Iu.call(e).slice(8,-1)}var Cr=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ku=typeof Cr=="symbol"?function(e){var t;return e!=null&&(t=e[Cr])&&t.apply(e)}:function(){return null};function St(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n>=0}var zt={};function Je(e){var t,n,r,a;if(arguments.length===1){if(E(e))return e.slice();if(this===zt&&typeof e=="string")return[e];if(a=Ku(e)){for(n=[];r=a.next(),!r.done;)n.push(r.value);return n}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(n=new Array(t);t--;)n[t]=e[t];return n}return[e]}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var Dr=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ru=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],$i=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Ir=Ru.concat($i),Mu={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Wt(e,t){this.name=e,this.message=t}$(Wt).from(Error).extend({toString:function(){return this.name+": "+this.message}});function Vi(e,t){return e+". Errors: "+Object.keys(t).map(function(n){return t[n].toString()}).filter(function(n,r,a){return a.indexOf(n)===r}).join(`
`)}function Ln(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=Vi(e,t)}$(Ln).from(Wt);function Ut(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(n){return t[n]}),this.failuresByPos=t,this.message=Vi(e,this.failures)}$(Ut).from(Wt);var Kr=Ir.reduce(function(e,t){return e[t]=t+"Error",e},{}),Bu=Wt,U=Ir.reduce(function(e,t){var n=t+"Error";function r(a,o){this.name=n,a?typeof a=="string"?(this.message="".concat(a).concat(o?`
 `+o:""),this.inner=o||null):typeof a=="object"&&(this.message="".concat(a.name," ").concat(a.message),this.inner=a):(this.message=Mu[t]||n,this.inner=null)}return $(r).from(Bu),e[t]=r,e},{});U.Syntax=SyntaxError,U.Type=TypeError,U.Range=RangeError;var zi=$i.reduce(function(e,t){return e[t+"Error"]=U[t],e},{});function Fu(e,t){if(!e||e instanceof Wt||e instanceof TypeError||e instanceof SyntaxError||!e.name||!zi[e.name])return e;var n=new zi[e.name](t||e.message,e);return"stack"in e&&Y(n,"stack",{get:function(){return this.inner.stack}}),n}var $n=Ir.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=U[t]),e},{});$n.ModifyError=Ln,$n.DexieError=Wt,$n.BulkError=Ut;function re(){}function vn(e){return e}function ju(e,t){return e==null||e===vn?t:function(n){return t(e(n))}}function At(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function Nu(e,t){return e===re?t:function(){var n=e.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?At(r,this.onsuccess):r),a&&(this.onerror=this.onerror?At(a,this.onerror):a),o!==void 0?o:n}}function Lu(e,t){return e===re?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?At(n,this.onsuccess):n),r&&(this.onerror=this.onerror?At(r,this.onerror):r)}}function $u(e,t){return e===re?t:function(n){var r=e.apply(this,arguments);R(n,r);var a=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var s=t.apply(this,arguments);return a&&(this.onsuccess=this.onsuccess?At(a,this.onsuccess):a),o&&(this.onerror=this.onerror?At(o,this.onerror):o),r===void 0?s===void 0?void 0:s:R(r,s)}}function Vu(e,t){return e===re?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function Rr(e,t){return e===re?t:function(){var n=e.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,a=arguments.length,o=new Array(a);a--;)o[a]=arguments[a];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}var Ve=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Wi(e,t){Ve=e}var pn={},Ui=100,Mr=typeof Promise>"u"?[]:(function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,M(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,M(t),e]})(),Yi=Mr[0],Hi=Mr[1],zu=Mr[2],Wu=Hi&&Hi.then,Tt=Yi&&Yi.constructor,Br=!!zu;function Uu(){queueMicrotask(Hu)}var yn=function(e,t){mn.push([e,t]),Vn&&(Uu(),Vn=!1)},Fr=!0,Vn=!0,Ot=[],zn=[],jr=vn,ot={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:re,pgp:!1,env:{},finalize:re},V=ot,mn=[],Pt=0,Wn=[];function j(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=V;if(typeof e!="function"){if(e!==pn)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Lr(this,this._value);return}this._state=null,this._value=null,++t.ref,qi(this,e)}var Nr={get:function(){var e=V,t=Qn;function n(r,a){var o=this,s=!e.global&&(e!==V||t!==Qn),l=s&&!ft(),c=new j(function(d,_){$r(o,new Qi(Ji(r,e,s,l),Ji(a,e,s,l),d,_,e))});return this._consoleTask&&(c._consoleTask=this._consoleTask),c}return n.prototype=pn,n},set:function(e){Y(this,"then",e&&e.prototype===pn?Nr:{get:function(){return e},set:Nr.set})}};I(j.prototype,{then:Nr,_then:function(e,t){$r(this,new Qi(null,null,e,t,V))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],n=arguments[1];return typeof t=="function"?this.then(null,function(r){return r instanceof t?n(r):Un(r)}):this.then(null,function(r){return r&&r.name===t?n(r):Un(r)})},finally:function(e){return this.then(function(t){return j.resolve(e()).then(function(){return t})},function(t){return j.resolve(e()).then(function(){return Un(t)})})},timeout:function(e,t){var n=this;return e<1/0?new j(function(r,a){var o=setTimeout(function(){return a(new U.Timeout(t))},e);n.then(r,a).finally(clearTimeout.bind(null,o))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Y(j.prototype,Symbol.toStringTag,"Dexie.Promise"),ot.env=Xi();function Qi(e,t,n,r,a){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=n,this.reject=r,this.psd=a}I(j,{all:function(){var e=Je.apply(null,arguments).map(qn);return new j(function(t,n){e.length===0&&t([]);var r=e.length;e.forEach(function(a,o){return j.resolve(a).then(function(s){e[o]=s,--r||t(e)},n)})})},resolve:function(e){if(e instanceof j)return e;if(e&&typeof e.then=="function")return new j(function(n,r){e.then(n,r)});var t=new j(pn,!0,e);return t},reject:Un,race:function(){var e=Je.apply(null,arguments).map(qn);return new j(function(t,n){e.map(function(r){return j.resolve(r).then(t,n)})})},PSD:{get:function(){return V},set:function(e){return V=e}},totalEchoes:{get:function(){return Qn}},newPSD:st,usePSD:Ct,scheduler:{get:function(){return yn},set:function(e){yn=e}},rejectionMapper:{get:function(){return jr},set:function(e){jr=e}},follow:function(e,t){return new j(function(n,r){return st(function(a,o){var s=V;s.unhandleds=[],s.onunhandled=o,s.finalize=At(function(){var l=this;Qu(function(){l.unhandleds.length===0?a():o(l.unhandleds[0])})},s.finalize),e()},t,n,r)})}}),Tt&&(Tt.allSettled&&Y(j,"allSettled",function(){var e=Je.apply(null,arguments).map(qn);return new j(function(t){e.length===0&&t([]);var n=e.length,r=new Array(n);e.forEach(function(a,o){return j.resolve(a).then(function(s){return r[o]={status:"fulfilled",value:s}},function(s){return r[o]={status:"rejected",reason:s}}).then(function(){return--n||t(r)})})})}),Tt.any&&typeof AggregateError<"u"&&Y(j,"any",function(){var e=Je.apply(null,arguments).map(qn);return new j(function(t,n){e.length===0&&n(new AggregateError([]));var r=e.length,a=new Array(r);e.forEach(function(o,s){return j.resolve(o).then(function(l){return t(l)},function(l){a[s]=l,--r||n(new AggregateError(a))})})})}),Tt.withResolvers&&(j.withResolvers=Tt.withResolvers));function qi(e,t){try{t(function(n){if(e._state===null){if(n===e)throw new TypeError("A promise cannot be resolved with itself.");var r=e._lib&&Yt();n&&typeof n.then=="function"?qi(e,function(a,o){n instanceof j?n._then(a,o):n.then(a,o)}):(e._state=!0,e._value=n,Gi(e)),r&&Ht()}},Lr.bind(null,e))}catch(n){Lr(e,n)}}function Lr(e,t){if(zn.push(t),e._state===null){var n=e._lib&&Yt();t=jr(t),e._state=!1,e._value=t,qu(e),Gi(e),n&&Ht()}}function Gi(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)$r(e,t[n]);var a=e._PSD;--a.ref||a.finalize(),Pt===0&&(++Pt,yn(function(){--Pt===0&&Vr()},[]))}function $r(e,t){if(e._state===null){e._listeners.push(t);return}var n=e._state?t.onFulfilled:t.onRejected;if(n===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++Pt,yn(Yu,[n,e,t])}function Yu(e,t,n){try{var r,a=t._value;!t._state&&zn.length&&(zn=[]),r=Ve&&t._consoleTask?t._consoleTask.run(function(){return e(a)}):e(a),!t._state&&zn.indexOf(a)===-1&&Gu(t),n.resolve(r)}catch(o){n.reject(o)}finally{--Pt===0&&Vr(),--n.psd.ref||n.psd.finalize()}}function Hu(){Ct(ot,function(){Yt()&&Ht()})}function Yt(){var e=Fr;return Fr=!1,Vn=!1,e}function Ht(){var e,t,n;do for(;mn.length>0;)for(e=mn,mn=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}while(mn.length>0);Fr=!0,Vn=!0}function Vr(){var e=Ot;Ot=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var t=Wn.slice(0),n=t.length;n;)t[--n]()}function Qu(e){function t(){e(),Wn.splice(Wn.indexOf(t),1)}Wn.push(t),++Pt,yn(function(){--Pt===0&&Vr()},[])}function qu(e){Ot.some(function(t){return t._value===e._value})||Ot.push(e)}function Gu(e){for(var t=Ot.length;t;)if(Ot[--t]._value===e._value){Ot.splice(t,1);return}}function Un(e){return new j(pn,!1,e)}function ae(e,t){var n=V;return function(){var r=Yt(),a=V;try{return lt(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{lt(a,!1),r&&Ht()}}}var ce={awaits:0,echoes:0,id:0},Xu=0,Yn=[],Hn=0,Qn=0,Ju=0;function st(e,t,n,r){var a=V,o=Object.create(a);o.parent=a,o.ref=0,o.global=!1,o.id=++Ju,ot.env,o.env=Br?{Promise:j,PromiseProp:{value:j,configurable:!0,writable:!0},all:j.all,race:j.race,allSettled:j.allSettled,any:j.any,resolve:j.resolve,reject:j.reject}:{},t&&R(o,t),++a.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var s=Ct(o,e,n,r);return o.ref===0&&o.finalize(),s}function Qt(){return ce.id||(ce.id=++Xu),++ce.awaits,ce.echoes+=Ui,ce.id}function ft(){return ce.awaits?(--ce.awaits===0&&(ce.id=0),ce.echoes=ce.awaits*Ui,!0):!1}(""+Wu).indexOf("[native code]")===-1&&(Qt=ft=re);function qn(e){return ce.echoes&&e&&e.constructor===Tt?(Qt(),e.then(function(t){return ft(),t},function(t){return ft(),fe(t)})):e}function Zu(e){++Qn,(!ce.echoes||--ce.echoes===0)&&(ce.echoes=ce.awaits=ce.id=0),Yn.push(V),lt(e,!0)}function eo(){var e=Yn[Yn.length-1];Yn.pop(),lt(e,!1)}function lt(e,t){var n=V;if((t?ce.echoes&&(!Hn++||e!==V):Hn&&(!--Hn||e!==V))&&queueMicrotask(t?Zu.bind(null,e):eo),e!==V&&(V=e,n===ot&&(ot.env=Xi()),Br)){var r=ot.env.Promise,a=e.env;(n.global||e.global)&&(Object.defineProperty(w,"Promise",a.PromiseProp),r.all=a.all,r.race=a.race,r.resolve=a.resolve,r.reject=a.reject,a.allSettled&&(r.allSettled=a.allSettled),a.any&&(r.any=a.any))}}function Xi(){var e=w.Promise;return Br?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(w,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Ct(e,t,n,r,a){var o=V;try{return lt(e,!0),t(n,r,a)}finally{lt(o,!1)}}function Ji(e,t,n,r){return typeof e!="function"?e:function(){var a=V;n&&Qt(),lt(t,!0);try{return e.apply(this,arguments)}finally{lt(a,!1),r&&queueMicrotask(ft)}}}function zr(e){Promise===Tt&&ce.echoes===0?Hn===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}var fe=j.reject;function Wr(e,t,n,r){if(!e.idbdb||!e._state.openComplete&&!V.letThrough&&!e._vip){if(e._state.openComplete)return fe(new U.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._state.autoOpen)return fe(new U.DatabaseClosed);e.open().catch(re)}return e._state.dbReadyPromise.then(function(){return Wr(e,t,n,r)})}else{var a=e._createTransaction(t,n,e._dbSchema);try{a.create(),e._state.PR1398_maxLoop=3}catch(o){return o.name===Kr.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then(function(){return Wr(e,t,n,r)})):fe(o)}return a._promise(t,function(o,s){return st(function(){return V.trans=a,r(o,s,a)})}).then(function(o){if(t==="readwrite")try{a.idbtrans.commit()}catch{}return t==="readonly"?o:a._completion.then(function(){return o})})}}var Zi="4.2.1",Dt="",Ur=-1/0,Ze="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ea="String expected.",qt=[],Gn="__dbnames",Yr="readonly",Hr="readwrite";function It(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var ta={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xn(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=kt(t),delete t[e]),t}:function(t){return t}}function na(){throw U.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Z(e,t){try{var n=ra(e),r=ra(t);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return no(ia(e),ia(t));case"Array":return to(e,t)}}catch{}return NaN}function to(e,t){for(var n=e.length,r=t.length,a=n<r?n:r,o=0;o<a;++o){var s=Z(e[o],t[o]);if(s!==0)return s}return n===r?0:n<r?-1:1}function no(e,t){for(var n=e.length,r=t.length,a=n<r?n:r,o=0;o<a;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}function ra(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var n=Pr(e);return n==="ArrayBuffer"?"binary":n}function ia(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function Jn(e,t,n){var r=e.schema.yProps;return r?(t&&n.numFailures>0&&(t=t.filter(function(a,o){return!n.failures[o]})),Promise.all(r.map(function(a){var o=a.updatesTable;return t?e.db.table(o).where("k").anyOf(t).delete():e.db.table(o).clear()})).then(function(){return n})):n}var _n=(function(){function e(t){this["@@propmod"]=t}return e.prototype.execute=function(t){var n,r=this["@@propmod"];if(r.add!==void 0){var a=r.add;if(E(a))return p(p([],E(t)?t:[],!0),a).sort();if(typeof a=="number")return(Number(t)||0)+a;if(typeof a=="bigint")try{return BigInt(t)+a}catch{return BigInt(0)+a}throw new TypeError("Invalid term ".concat(a))}if(r.remove!==void 0){var o=r.remove;if(E(o))return E(t)?t.filter(function(l){return!o.includes(l)}).sort():[];if(typeof o=="number")return Number(t)-o;if(typeof o=="bigint")try{return BigInt(t)-o}catch{return BigInt(0)-o}throw new TypeError("Invalid subtrahend ".concat(o))}var s=(n=r.replacePrefix)===null||n===void 0?void 0:n[0];return s&&typeof t=="string"&&t.startsWith(s)?r.replacePrefix[1]+t.substring(s.length):t},e})();function aa(e,t){for(var n=O(t),r=n.length,a=!1,o=0;o<r;++o){var s=n[o],l=t[s],c=oe(e,s);l instanceof _n?(le(e,s,l.execute(c)),a=!0):c!==l&&(le(e,s,l),a=!0)}return a}var ua=(function(){function e(){}return e.prototype._trans=function(t,n,r){var a=this._tx||V.trans,o=this.name,s=Ve&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(t==="readonly"?"read":"write"," ").concat(this.name));function l(_,y,x){if(!x.schema[o])throw new U.NotFound("Table "+o+" not part of transaction");return n(x.idbtrans,x)}var c=Yt();try{var d=a&&a.db._novip===this.db._novip?a===V.trans?a._promise(t,l,r):st(function(){return a._promise(t,l,r)},{trans:a,transless:V.transless||V}):Wr(this.db,t,[this.name],l);return s&&(d._consoleTask=s,d=d.catch(function(_){return console.trace(_),fe(_)})),d}finally{c&&Ht()}},e.prototype.get=function(t,n){var r=this;return t&&t.constructor===Object?this.where(t).first(n):t==null?fe(new U.Type("Invalid argument to Table.get()")):this._trans("readonly",function(a){return r.core.get({trans:a,key:t}).then(function(o){return r.hook.reading.fire(o)})}).then(n)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(E(t))return new this.db.WhereClause(this,"[".concat(t.join("+"),"]"));var n=O(t);if(n.length===1)return this.where(n[0]).equals(t[n[0]]);var r=this.schema.indexes.concat(this.schema.primKey).filter(function(_){if(_.compound&&n.every(function(x){return _.keyPath.indexOf(x)>=0})){for(var y=0;y<n.length;++y)if(n.indexOf(_.keyPath[y])===-1)return!1;return!0}return!1}).sort(function(_,y){return _.keyPath.length-y.keyPath.length})[0];if(r&&this.db._maxKey!==Dt){var a=r.keyPath.slice(0,n.length);return this.where(a).equals(a.map(function(_){return t[_]}))}!r&&Ve&&console.warn("The query ".concat(JSON.stringify(t)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(n.join("+"),"]"));var o=this.schema.idxByName;function s(_,y){return Z(_,y)===0}var l=n.reduce(function(_,y){var x=_[0],D=_[1],m=o[y],g=t[y];return[x||m,x||!m?It(D,m&&m.multi?function(b){var k=oe(b,y);return E(k)&&k.some(function(A){return s(g,A)})}:function(b){return s(g,oe(b,y))}):D]},[null,null]),c=l[0],d=l[1];return c?this.where(c.name).equals(t[c.keyPath]).filter(d):r?this.filter(d):this.where(n).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,E(t)?"[".concat(t.join("+"),"]"):t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){var n=this,r=n.db,a=n.name;this.schema.mappedClass=t,t.prototype instanceof na&&(t=(function(c){h(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return Object.defineProperty(d.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),d.prototype.table=function(){return a},d})(t));for(var o=new Set,s=t.prototype;s;s=M(s))Object.getOwnPropertyNames(s).forEach(function(c){return o.add(c)});var l=function(c){if(!c)return c;var d=Object.create(t.prototype);for(var _ in c)if(!o.has(_))try{d[_]=c[_]}catch{}return d};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=l,this.hook("reading",l),t},e.prototype.defineClass=function(){function t(n){R(this,n)}return this.mapToClass(t)},e.prototype.add=function(t,n){var r=this,a=this.schema.primKey,o=a.auto,s=a.keyPath,l=t;return s&&o&&(l=Xn(s)(t)),this._trans("readwrite",function(c){return r.core.mutate({trans:c,type:"add",keys:n!=null?[n]:null,values:[l]})}).then(function(c){return c.numFailures?j.reject(c.failures[0]):c.lastResult}).then(function(c){if(s)try{le(t,s,c)}catch{}return c})},e.prototype.upsert=function(t,n){var r=this,a=this.schema.primKey.keyPath;return this._trans("readwrite",function(o){return r.core.get({trans:o,key:t}).then(function(s){var l=s??{};return aa(l,n),a&&le(l,a,t),r.core.mutate({trans:o,type:"put",values:[l],keys:[t],upsert:!0,updates:{keys:[t],changeSpecs:[n]}}).then(function(c){return c.numFailures?j.reject(c.failures[0]):!!s})})})},e.prototype.update=function(t,n){if(typeof t=="object"&&!E(t)){var r=oe(t,this.schema.primKey.keyPath);return r===void 0?fe(new U.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(n)}else return this.where(":id").equals(t).modify(n)},e.prototype.put=function(t,n){var r=this,a=this.schema.primKey,o=a.auto,s=a.keyPath,l=t;return s&&o&&(l=Xn(s)(t)),this._trans("readwrite",function(c){return r.core.mutate({trans:c,type:"put",values:[l],keys:n!=null?[n]:null})}).then(function(c){return c.numFailures?j.reject(c.failures[0]):c.lastResult}).then(function(c){if(s)try{le(t,s,c)}catch{}return c})},e.prototype.delete=function(t){var n=this;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:[t]}).then(function(a){return Jn(n,[t],a)}).then(function(a){return a.numFailures?j.reject(a.failures[0]):void 0})})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"deleteRange",range:ta}).then(function(r){return Jn(t,null,r)})}).then(function(n){return n.numFailures?j.reject(n.failures[0]):void 0})},e.prototype.bulkGet=function(t){var n=this;return this._trans("readonly",function(r){return n.core.getMany({keys:t,trans:r}).then(function(a){return a.map(function(o){return n.hook.reading.fire(o)})})})},e.prototype.bulkAdd=function(t,n,r){var a=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var s=r?r.allKeys:void 0;return this._trans("readwrite",function(l){var c=a.schema.primKey,d=c.auto,_=c.keyPath;if(_&&o)throw new U.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var y=t.length,x=_&&d?t.map(Xn(_)):t;return a.core.mutate({trans:l,type:"add",keys:o,values:x,wantResults:s}).then(function(D){var m=D.numFailures,g=D.results,b=D.lastResult,k=D.failures,A=s?g:b;if(m===0)return A;throw new Ut("".concat(a.name,".bulkAdd(): ").concat(m," of ").concat(y," operations failed"),k)})})},e.prototype.bulkPut=function(t,n,r){var a=this,o=Array.isArray(n)?n:void 0;r=r||(o?void 0:n);var s=r?r.allKeys:void 0;return this._trans("readwrite",function(l){var c=a.schema.primKey,d=c.auto,_=c.keyPath;if(_&&o)throw new U.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(o&&o.length!==t.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var y=t.length,x=_&&d?t.map(Xn(_)):t;return a.core.mutate({trans:l,type:"put",keys:o,values:x,wantResults:s}).then(function(D){var m=D.numFailures,g=D.results,b=D.lastResult,k=D.failures,A=s?g:b;if(m===0)return A;throw new Ut("".concat(a.name,".bulkPut(): ").concat(m," of ").concat(y," operations failed"),k)})})},e.prototype.bulkUpdate=function(t){var n=this,r=this.core,a=t.map(function(l){return l.key}),o=t.map(function(l){return l.changes}),s=[];return this._trans("readwrite",function(l){return r.getMany({trans:l,keys:a,cache:"clone"}).then(function(c){var d=[],_=[];t.forEach(function(x,D){var m=x.key,g=x.changes,b=c[D];if(b){for(var k=0,A=Object.keys(g);k<A.length;k++){var T=A[k],P=g[T];if(T===n.schema.primKey.keyPath){if(Z(P,m)!==0)throw new U.Constraint("Cannot update primary key in bulkUpdate()")}else le(b,T,P)}s.push(D),d.push(m),_.push(b)}});var y=d.length;return r.mutate({trans:l,type:"put",keys:d,values:_,updates:{keys:a,changeSpecs:o}}).then(function(x){var D=x.numFailures,m=x.failures;if(D===0)return y;for(var g=0,b=Object.keys(m);g<b.length;g++){var k=b[g],A=s[Number(k)];if(A!=null){var T=m[k];delete m[k],m[A]=T}}throw new Ut("".concat(n.name,".bulkUpdate(): ").concat(D," of ").concat(y," operations failed"),m)})})})},e.prototype.bulkDelete=function(t){var n=this,r=t.length;return this._trans("readwrite",function(a){return n.core.mutate({trans:a,type:"delete",keys:t}).then(function(o){return Jn(n,t,o)})}).then(function(a){var o=a.numFailures,s=a.lastResult,l=a.failures;if(o===0)return s;throw new Ut("".concat(n.name,".bulkDelete(): ").concat(o," of ").concat(r," operations failed"),l)})},e})();function gn(e){var t={},n=function(l,c){if(c){for(var d=arguments.length,_=new Array(d-1);--d;)_[d-1]=arguments[d];return t[l].subscribe.apply(null,_),e}else if(typeof l=="string")return t[l]};n.addEventType=o;for(var r=1,a=arguments.length;r<a;++r)o(arguments[r]);return n;function o(l,c,d){if(typeof l=="object")return s(l);c||(c=Vu),d||(d=re);var _={subscribers:[],fire:d,subscribe:function(y){_.subscribers.indexOf(y)===-1&&(_.subscribers.push(y),_.fire=c(_.fire,y))},unsubscribe:function(y){_.subscribers=_.subscribers.filter(function(x){return x!==y}),_.fire=_.subscribers.reduce(c,d)}};return t[l]=n[l]=_,_}function s(l){O(l).forEach(function(c){var d=l[c];if(E(d))o(c,l[c][0],l[c][1]);else if(d==="asap")var _=o(c,vn,function(){for(var x=arguments.length,D=new Array(x);x--;)D[x]=arguments[x];_.subscribers.forEach(function(m){ge(function(){m.apply(null,D)})})});else throw new U.InvalidArgument("Invalid event config")})}}function wn(e,t){return $(t).from({prototype:e}),t}function ro(e){return wn(ua.prototype,function(n,r,a){this.db=e,this._tx=a,this.name=n,this.schema=r,this.hook=e._allTables[n]?e._allTables[n].hook:gn(null,{creating:[Nu,re],reading:[ju,vn],updating:[$u,re],deleting:[Lu,re]})})}function Gt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Qr(e,t){e.filter=It(e.filter,t)}function qr(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return It(r(),t())}:t,e.justLimit=n&&!r}function io(e,t){e.isMatch=It(e.isMatch,t)}function Zn(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new U.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function oa(e,t,n){var r=Zn(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function er(e,t,n,r){var a=e.replayFilter?It(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},s=function(l,c,d){if(!a||a(c,d,function(x){return c.stop(x)},function(x){return c.fail(x)})){var _=c.primaryKey,y=""+_;y==="[object ArrayBuffer]"&&(y=""+new Uint8Array(_)),C(o,y)||(o[y]=!0,t(l,c,d))}};return Promise.all([e.or._iterate(s,n),sa(oa(e,r,n),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}else return sa(oa(e,r,n),It(e.algorithm,a),t,!e.keysOnly&&e.valueMapper)}function sa(e,t,n,r){var a=r?function(s,l,c){return n(r(s),l,c)}:n,o=ae(a);return e.then(function(s){if(s)return s.start(function(){var l=function(){return s.continue()};(!t||t(s,function(c){return l=c},function(c){s.stop(c),l=re},function(c){s.fail(c),l=re}))&&o(s.value,s,function(c){return l=c}),l()})})}var ao=(function(){function e(){}return e.prototype._read=function(t,n){var r=this._ctx;return r.error?r.table._trans(null,fe.bind(null,r.error)):r.table._trans("readonly",t).then(n)},e.prototype._write=function(t){var n=this._ctx;return n.error?n.table._trans(null,fe.bind(null,n.error)):n.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var n=this._ctx;n.algorithm=It(n.algorithm,t)},e.prototype._iterate=function(t,n){return er(this._ctx,t,n,this._ctx.table.core)},e.prototype.clone=function(t){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return t&&R(r,t),n._ctx=r,n},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var n=this._ctx;return this._read(function(r){return er(n,t,r,n.table.core)})},e.prototype.count=function(t){var n=this;return this._read(function(r){var a=n._ctx,o=a.table.core;if(Gt(a,!0))return o.count({trans:r,query:{index:Zn(a,o.schema),range:a.range}}).then(function(l){return Math.min(l,a.limit)});var s=0;return er(a,function(){return++s,!1},r,o).then(function(){return s})}).then(t)},e.prototype.sortBy=function(t,n){var r=t.split(".").reverse(),a=r[0],o=r.length-1;function s(d,_){return _?s(d[r[_]],_-1):d[a]}var l=this._ctx.dir==="next"?1:-1;function c(d,_){var y=s(d,o),x=s(_,o);return Z(y,x)*l}return this.toArray(function(d){return d.sort(c)}).then(n)},e.prototype.toArray=function(t){var n=this;return this._read(function(r){var a=n._ctx;if(a.dir==="next"&&Gt(a,!0)&&a.limit>0){var o=a.valueMapper,s=Zn(a,a.table.core.schema);return a.table.core.query({trans:r,limit:a.limit,values:!0,query:{index:s,range:a.range}}).then(function(c){var d=c.result;return o?d.map(o):d})}else{var l=[];return er(a,function(c){return l.push(c)},r,a.table.core).then(function(){return l})}},t)},e.prototype.offset=function(t){var n=this._ctx;return t<=0?this:(n.offset+=t,Gt(n)?qr(n,function(){var r=t;return function(a,o){return r===0?!0:r===1?(--r,!1):(o(function(){a.advance(r),r=0}),!1)}}):qr(n,function(){var r=t;return function(){return--r<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),qr(this._ctx,function(){var n=t;return function(r,a,o){return--n<=0&&a(o),n>=0}},!0),this},e.prototype.until=function(t,n){return Qr(this._ctx,function(r,a,o){return t(r.value)?(a(o),n):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(n){return n[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return Qr(this._ctx,function(n){return t(n.value)}),io(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,a){t(a.key,a)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,a){t(a.primaryKey,a)})},e.prototype.keys=function(t){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(a,o){r.push(o.key)}).then(function(){return r}).then(t)},e.prototype.primaryKeys=function(t){var n=this._ctx;if(n.dir==="next"&&Gt(n,!0)&&n.limit>0)return this._read(function(a){var o=Zn(n,n.table.core.schema);return n.table.core.query({trans:a,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(function(a){var o=a.result;return o}).then(t);n.keysOnly=!n.isMatch;var r=[];return this.each(function(a,o){r.push(o.primaryKey)}).then(function(){return r}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(n){return n[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var r={};return Qr(this._ctx,function(a){var o=a.primaryKey.toString(),s=C(r,o);return r[o]=!0,!s}),this},e.prototype.modify=function(t){var n=this,r=this._ctx;return this._write(function(a){var o;typeof t=="function"?o=t:o=function(k){return aa(k,t)};var s=r.table.core,l=s.schema.primaryKey,c=l.outbound,d=l.extractKey,_=200,y=n.db._options.modifyChunkSize;y&&(typeof y=="object"?_=y[s.name]||y["*"]||200:_=y);var x=[],D=0,m=[],g=function(k,A){var T=A.failures,P=A.numFailures;D+=k-P;for(var S=0,B=O(T);S<B.length;S++){var N=B[S];x.push(T[N])}},b=t===fa;return n.clone().primaryKeys().then(function(k){var A=Gt(r)&&r.limit===1/0&&(typeof t!="function"||b)&&{index:r.index,range:r.range},T=function(P){var S=Math.min(_,k.length-P),B=k.slice(P,P+S);return(b?Promise.resolve([]):s.getMany({trans:a,keys:B,cache:"immutable"})).then(function(N){var F=[],H=[],X=c?[]:null,L=b?B:[];if(!b)for(var G=0;G<S;++G){var q=N[G],ee={value:kt(q),primKey:k[P+G]};o.call(ee,ee.value,ee)!==!1&&(ee.value==null?L.push(k[P+G]):!c&&Z(d(q),d(ee.value))!==0?(L.push(k[P+G]),F.push(ee.value)):(H.push(ee.value),c&&X.push(k[P+G])))}return Promise.resolve(F.length>0&&s.mutate({trans:a,type:"add",values:F}).then(function(W){for(var se in W.failures)L.splice(parseInt(se),1);g(F.length,W)})).then(function(){return(H.length>0||A&&typeof t=="object")&&s.mutate({trans:a,type:"put",keys:X,values:H,criteria:A,changeSpec:typeof t!="function"&&t,isAdditionalChunk:P>0}).then(function(W){return g(H.length,W)})}).then(function(){return(L.length>0||A&&b)&&s.mutate({trans:a,type:"delete",keys:L,criteria:A,isAdditionalChunk:P>0}).then(function(W){return Jn(r.table,L,W)}).then(function(W){return g(L.length,W)})}).then(function(){return k.length>P+S&&T(P+_)})})};return T(0).then(function(){if(x.length>0)throw new Ln("Error modifying one or more objects",x,D,m);return k.length})})})},e.prototype.delete=function(){var t=this._ctx,n=t.range;return Gt(t)&&!t.table.schema.yProps&&(t.isPrimKey||n.type===3)?this._write(function(r){var a=t.table.core.schema.primaryKey,o=n;return t.table.core.count({trans:r,query:{index:a,range:o}}).then(function(s){return t.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(function(l){var c=l.failures,d=l.numFailures;if(d)throw new Ln("Could not delete some values",Object.keys(c).map(function(_){return c[_]}),s-d);return s-d})})}):this.modify(fa)},e})(),fa=function(e,t){return t.value=null};function uo(e){return wn(ao.prototype,function(n,r){this.db=e;var a=ta,o=null;if(r)try{a=r()}catch(d){o=d}var s=n._ctx,l=s.table,c=l.hook.reading.fire;this._ctx={table:l,index:s.index,isPrimKey:!s.index||l.schema.primKey.keyPath&&s.index===l.schema.primKey.name,range:a,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:o,or:s.or,valueMapper:c!==vn?c:null}})}function oo(e,t){return e<t?-1:e===t?0:1}function so(e,t){return e>t?-1:e===t?0:1}function De(e,t,n){var r=e instanceof ca?new e.Collection(e):e;return r._ctx.error=n?new n(t):new TypeError(t),r}function Xt(e){return new e.Collection(e,function(){return la("")}).limit(0)}function fo(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function lo(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function co(e,t,n,r,a,o){for(var s=Math.min(e.length,r.length),l=-1,c=0;c<s;++c){var d=t[c];if(d!==r[c])return a(e[c],n[c])<0?e.substr(0,c)+n[c]+n.substr(c+1):a(e[c],r[c])<0?e.substr(0,c)+r[c]+n.substr(c+1):l>=0?e.substr(0,l)+t[l]+n.substr(l+1):null;a(e[c],d)<0&&(l=c)}return s<r.length&&o==="next"?e+n.substr(e.length):s<e.length&&o==="prev"?e.substr(0,n.length):l<0?null:e.substr(0,l)+r[l]+n.substr(l+1)}function tr(e,t,n,r){var a,o,s,l,c,d,_,y=n.length;if(!n.every(function(g){return typeof g=="string"}))return De(e,ea);function x(g){a=fo(g),o=lo(g),s=g==="next"?oo:so;var b=n.map(function(k){return{lower:o(k),upper:a(k)}}).sort(function(k,A){return s(k.lower,A.lower)});l=b.map(function(k){return k.upper}),c=b.map(function(k){return k.lower}),d=g,_=g==="next"?"":r}x("next");var D=new e.Collection(e,function(){return ct(l[0],c[y-1]+r)});D._ondirectionchange=function(g){x(g)};var m=0;return D._addAlgorithm(function(g,b,k){var A=g.key;if(typeof A!="string")return!1;var T=o(A);if(t(T,c,m))return!0;for(var P=null,S=m;S<y;++S){var B=co(A,T,l[S],c[S],s,d);B===null&&P===null?m=S+1:(P===null||s(P,B)>0)&&(P=B)}return b(P!==null?function(){g.continue(P+_)}:k),!1}),D}function ct(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function la(e){return{type:1,lower:e,upper:e}}var ca=(function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,n,r,a){r=r!==!1,a=a===!0;try{return this._cmp(t,n)>0||this._cmp(t,n)===0&&(r||a)&&!(r&&a)?Xt(this):new this.Collection(this,function(){return ct(t,n,!r,!a)})}catch{return De(this,Ze)}},e.prototype.equals=function(t){return t==null?De(this,Ze):new this.Collection(this,function(){return la(t)})},e.prototype.above=function(t){return t==null?De(this,Ze):new this.Collection(this,function(){return ct(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?De(this,Ze):new this.Collection(this,function(){return ct(t,void 0,!1)})},e.prototype.below=function(t){return t==null?De(this,Ze):new this.Collection(this,function(){return ct(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?De(this,Ze):new this.Collection(this,function(){return ct(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?De(this,ea):this.between(t,t+Dt,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):tr(this,function(n,r){return n.indexOf(r[0])===0},[t],Dt)},e.prototype.equalsIgnoreCase=function(t){return tr(this,function(n,r){return n===r[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=Je.apply(zt,arguments);return t.length===0?Xt(this):tr(this,function(n,r){return r.indexOf(n)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=Je.apply(zt,arguments);return t.length===0?Xt(this):tr(this,function(n,r){return r.some(function(a){return n.indexOf(a)===0})},t,Dt)},e.prototype.anyOf=function(){var t=this,n=Je.apply(zt,arguments),r=this._cmp;try{n.sort(r)}catch{return De(this,Ze)}if(n.length===0)return Xt(this);var a=new this.Collection(this,function(){return ct(n[0],n[n.length-1])});a._ondirectionchange=function(s){r=s==="next"?t._ascending:t._descending,n.sort(r)};var o=0;return a._addAlgorithm(function(s,l,c){for(var d=s.key;r(d,n[o])>0;)if(++o,o===n.length)return l(c),!1;return r(d,n[o])===0?!0:(l(function(){s.continue(n[o])}),!1)}),a},e.prototype.notEqual=function(t){return this.inAnyRange([[Ur,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=Je.apply(zt,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return De(this,Ze)}var n=t.reduce(function(r,a){return r?r.concat([[r[r.length-1][1],a]]):[[Ur,a]]},null);return n.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,n){var r=this,a=this._cmp,o=this._ascending,s=this._descending,l=this._min,c=this._max;if(t.length===0)return Xt(this);if(!t.every(function(S){return S[0]!==void 0&&S[1]!==void 0&&o(S[0],S[1])<=0}))return De(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",U.InvalidArgument);var d=!n||n.includeLowers!==!1,_=n&&n.includeUppers===!0;function y(S,B){for(var N=0,F=S.length;N<F;++N){var H=S[N];if(a(B[0],H[1])<0&&a(B[1],H[0])>0){H[0]=l(H[0],B[0]),H[1]=c(H[1],B[1]);break}}return N===F&&S.push(B),S}var x=o;function D(S,B){return x(S[0],B[0])}var m;try{m=t.reduce(y,[]),m.sort(D)}catch{return De(this,Ze)}var g=0,b=_?function(S){return o(S,m[g][1])>0}:function(S){return o(S,m[g][1])>=0},k=d?function(S){return s(S,m[g][0])>0}:function(S){return s(S,m[g][0])>=0};function A(S){return!b(S)&&!k(S)}var T=b,P=new this.Collection(this,function(){return ct(m[0][0],m[m.length-1][1],!d,!_)});return P._ondirectionchange=function(S){S==="next"?(T=b,x=o):(T=k,x=s),m.sort(D)},P._addAlgorithm(function(S,B,N){for(var F=S.key;T(F);)if(++g,g===m.length)return B(N),!1;return A(F)?!0:(r._cmp(F,m[g][1])===0||r._cmp(F,m[g][0])===0||B(function(){x===o?S.continue(m[g][0]):S.continue(m[g][1])}),!1)}),P},e.prototype.startsWithAnyOf=function(){var t=Je.apply(zt,arguments);return t.every(function(n){return typeof n=="string"})?t.length===0?Xt(this):this.inAnyRange(t.map(function(n){return[n,n+Dt]})):De(this,"startsWithAnyOf() only works with strings")},e})();function ho(e){return wn(ca.prototype,function(n,r,a){if(this.db=e,this._ctx={table:n,index:r===":id"?null:r,or:a},this._cmp=this._ascending=Z,this._descending=function(o,s){return Z(s,o)},this._max=function(o,s){return Z(o,s)>0?o:s},this._min=function(o,s){return Z(o,s)<0?o:s},this._IDBKeyRange=e._deps.IDBKeyRange,!this._IDBKeyRange)throw new U.MissingAPI})}function ze(e){return ae(function(t){return bn(t),e(t.target.error),!1})}function bn(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var xn="storagemutated",Gr="x-storagemutated-1",ht=gn(null,xn),vo=(function(){function e(){}return e.prototype._lock=function(){return de(!V.global),++this._reculock,this._reculock===1&&!V.global&&(V.lockOwnerFor=this),this},e.prototype._unlock=function(){if(de(!V.global),--this._reculock===0)for(V.global||(V.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{Ct(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&V.lockOwnerFor!==this},e.prototype.create=function(t){var n=this;if(!this.mode)return this;var r=this.db.idbdb,a=this.db._state.dbOpenError;if(de(!this.idbtrans),!t&&!r)switch(a&&a.name){case"DatabaseClosedError":throw new U.DatabaseClosed(a);case"MissingAPIError":throw new U.MissingAPI(a.message,a);default:throw new U.OpenFailed(a)}if(!this.active)throw new U.TransactionInactive;return de(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):r.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=ae(function(o){bn(o),n._reject(t.error)}),t.onabort=ae(function(o){bn(o),n.active&&n._reject(new U.Abort(t.error)),n.active=!1,n.on("abort").fire(o)}),t.oncomplete=ae(function(){n.active=!1,n._resolve(),"mutatedParts"in t&&ht.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,n,r){var a=this;if(t==="readwrite"&&this.mode!=="readwrite")return fe(new U.ReadOnly("Transaction is readonly"));if(!this.active)return fe(new U.TransactionInactive);if(this._locked())return new j(function(s,l){a._blockedFuncs.push([function(){a._promise(t,n,r).then(s,l)},V])});if(r)return st(function(){var s=new j(function(l,c){a._lock();var d=n(l,c,a);d&&d.then&&d.then(l,c)});return s.finally(function(){return a._unlock()}),s._lib=!0,s});var o=new j(function(s,l){var c=n(s,l,a);c&&c.then&&c.then(s,l)});return o._lib=!0,o},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var n=this._root(),r=j.resolve(t);if(n._waitingFor)n._waitingFor=n._waitingFor.then(function(){return r});else{n._waitingFor=r,n._waitingQueue=[];var a=n.idbtrans.objectStore(n.storeNames[0]);(function s(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(a.get(-1/0).onsuccess=s)})()}var o=n._waitingFor;return new j(function(s,l){r.then(function(c){return n._waitingQueue.push(ae(s.bind(null,c)))},function(c){return n._waitingQueue.push(ae(l.bind(null,c)))}).finally(function(){n._waitingFor===o&&(n._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new U.Abort))},e.prototype.table=function(t){var n=this._memoizedTables||(this._memoizedTables={});if(C(n,t))return n[t];var r=this.schema[t];if(!r)throw new U.NotFound("Table "+t+" not part of transaction");var a=new this.db.Table(t,r,this);return a.core=this.db.core.table(t),n[t]=a,a},e})();function po(e){return wn(vo.prototype,function(n,r,a,o,s){var l=this;n!=="readonly"&&r.forEach(function(c){var d,_=(d=a[c])===null||d===void 0?void 0:d.yProps;_&&(r=r.concat(_.map(function(y){return y.updatesTable})))}),this.db=e,this.mode=n,this.storeNames=r,this.schema=a,this.chromeTransactionDurability=o,this.idbtrans=null,this.on=gn(this,"complete","error","abort"),this.parent=s||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new j(function(c,d){l._resolve=c,l._reject=d}),this._completion.then(function(){l.active=!1,l.on.complete.fire()},function(c){var d=l.active;return l.active=!1,l.on.error.fire(c),l.parent?l.parent._reject(c):d&&l.idbtrans&&l.idbtrans.abort(),fe(c)})})}function Xr(e,t,n,r,a,o,s,l){return{name:e,keyPath:t,unique:n,multi:r,auto:a,compound:o,src:(n&&!s?"&":"")+(r?"*":"")+(a?"++":"")+ha(t),type:l}}function ha(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Jr(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:$e(n,function(r){return[r.name,r]})}}function yo(e){return e.length===1?e[0]:e}var En=function(e){try{return e.only([[]]),En=function(){return[[]]},[[]]}catch{return En=function(){return Dt},Dt}};function Zr(e){return e==null?function(){}:typeof e=="string"?mo(e):function(t){return oe(t,e)}}function mo(e){var t=e.split(".");return t.length===1?function(n){return n[e]}:function(n){return oe(n,e)}}function da(e){return[].slice.call(e)}var _o=0;function kn(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function go(e,t,n){function r(y,x){var D=da(y.objectStoreNames);return{schema:{name:y.name,tables:D.map(function(m){return x.objectStore(m)}).map(function(m){var g=m.keyPath,b=m.autoIncrement,k=E(g),A=g==null,T={},P={name:m.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:A,compound:k,keyPath:g,autoIncrement:b,unique:!0,extractKey:Zr(g)},indexes:da(m.indexNames).map(function(S){return m.index(S)}).map(function(S){var B=S.name,N=S.unique,F=S.multiEntry,H=S.keyPath,X=E(H),L={name:B,compound:X,keyPath:H,unique:N,multiEntry:F,extractKey:Zr(H)};return T[kn(H)]=L,L}),getIndexByKeyPath:function(S){return T[kn(S)]}};return T[":id"]=P.primaryKey,g!=null&&(T[kn(g)]=P.primaryKey),P})},hasGetAll:D.length>0&&"getAll"in x.objectStore(D[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function a(y){if(y.type===3)return null;if(y.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var x=y.lower,D=y.upper,m=y.lowerOpen,g=y.upperOpen,b=x===void 0?D===void 0?null:t.upperBound(D,!!g):D===void 0?t.lowerBound(x,!!m):t.bound(x,D,!!m,!!g);return b}function o(y){var x=y.name;function D(b){var k=b.trans,A=b.type,T=b.keys,P=b.values,S=b.range;return new Promise(function(B,N){B=ae(B);var F=k.objectStore(x),H=F.keyPath==null,X=A==="put"||A==="add";if(!X&&A!=="delete"&&A!=="deleteRange")throw new Error("Invalid operation type: "+A);var L=(T||P||{length:1}).length;if(T&&P&&T.length!==P.length)throw new Error("Given keys array must have same length as given values array.");if(L===0)return B({numFailures:0,failures:{},results:[],lastResult:void 0});var G,q=[],ee=[],W=0,se=function(Ue){++W,bn(Ue)};if(A==="deleteRange"){if(S.type===4)return B({numFailures:W,failures:ee,results:[],lastResult:void 0});S.type===3?q.push(G=F.clear()):q.push(G=F.delete(a(S)))}else{var pe=X?H?[P,T]:[P,null]:[T,null],We=pe[0],Se=pe[1];if(X)for(var Re=0;Re<L;++Re)q.push(G=Se&&Se[Re]!==void 0?F[A](We[Re],Se[Re]):F[A](We[Re])),G.onerror=se;else for(var Re=0;Re<L;++Re)q.push(G=F[A](We[Re])),G.onerror=se}var pt=function(Ue){var Tn=Ue.target.result;q.forEach(function(je,dr){return je.error!=null&&(ee[dr]=je.error)}),B({numFailures:W,failures:ee,results:A==="delete"?T:q.map(function(je){return je.result}),lastResult:Tn})};G.onerror=function(Ue){se(Ue),pt(Ue)},G.onsuccess=pt})}function m(b){var k=b.trans,A=b.values,T=b.query,P=b.reverse,S=b.unique;return new Promise(function(B,N){B=ae(B);var F=T.index,H=T.range,X=k.objectStore(x),L=F.isPrimaryKey?X:X.index(F.name),G=P?S?"prevunique":"prev":S?"nextunique":"next",q=A||!("openKeyCursor"in L)?L.openCursor(a(H),G):L.openKeyCursor(a(H),G);q.onerror=ze(N),q.onsuccess=ae(function(ee){var W=q.result;if(!W){B(null);return}W.___id=++_o,W.done=!1;var se=W.continue.bind(W),pe=W.continuePrimaryKey;pe&&(pe=pe.bind(W));var We=W.advance.bind(W),Se=function(){throw new Error("Cursor not started")},Re=function(){throw new Error("Cursor not stopped")};W.trans=k,W.stop=W.continue=W.continuePrimaryKey=W.advance=Se,W.fail=ae(N),W.next=function(){var pt=this,Ue=1;return this.start(function(){return Ue--?pt.continue():pt.stop()}).then(function(){return pt})},W.start=function(pt){var Ue=new Promise(function(je,dr){je=ae(je),q.onerror=ze(dr),W.fail=dr,W.stop=function(us){W.stop=W.continue=W.continuePrimaryKey=W.advance=Re,je(us)}}),Tn=function(){if(q.result)try{pt()}catch(je){W.fail(je)}else W.done=!0,W.start=function(){throw new Error("Cursor behind last entry")},W.stop()};return q.onsuccess=ae(function(je){q.onsuccess=Tn,Tn()}),W.continue=se,W.continuePrimaryKey=pe,W.advance=We,Tn(),Ue},B(W)},N)})}function g(b){return function(k){return new Promise(function(A,T){A=ae(A);var P=k.trans,S=k.values,B=k.limit,N=k.query,F=B===1/0?void 0:B,H=N.index,X=N.range,L=P.objectStore(x),G=H.isPrimaryKey?L:L.index(H.name),q=a(X);if(B===0)return A({result:[]});if(b){var ee=S?G.getAll(q,F):G.getAllKeys(q,F);ee.onsuccess=function(We){return A({result:We.target.result})},ee.onerror=ze(T)}else{var W=0,se=S||!("openKeyCursor"in G)?G.openCursor(q):G.openKeyCursor(q),pe=[];se.onsuccess=function(We){var Se=se.result;if(!Se)return A({result:pe});if(pe.push(S?Se.value:Se.primaryKey),++W===B)return A({result:pe});Se.continue()},se.onerror=ze(T)}})}}return{name:x,schema:y,mutate:D,getMany:function(b){var k=b.trans,A=b.keys;return new Promise(function(T,P){T=ae(T);for(var S=k.objectStore(x),B=A.length,N=new Array(B),F=0,H=0,X,L=function(W){var se=W.target;(N[se._pos]=se.result)!=null,++H===F&&T(N)},G=ze(P),q=0;q<B;++q){var ee=A[q];ee!=null&&(X=S.get(A[q]),X._pos=q,X.onsuccess=L,X.onerror=G,++F)}F===0&&T(N)})},get:function(b){var k=b.trans,A=b.key;return new Promise(function(T,P){T=ae(T);var S=k.objectStore(x),B=S.get(A);B.onsuccess=function(N){return T(N.target.result)},B.onerror=ze(P)})},query:g(c),openCursor:m,count:function(b){var k=b.query,A=b.trans,T=k.index,P=k.range;return new Promise(function(S,B){var N=A.objectStore(x),F=T.isPrimaryKey?N:N.index(T.name),H=a(P),X=H?F.count(H):F.count();X.onsuccess=ae(function(L){return S(L.target.result)}),X.onerror=ze(B)})}}}var s=r(e,n),l=s.schema,c=s.hasGetAll,d=l.tables.map(function(y){return o(y)}),_={};return d.forEach(function(y){return _[y.name]=y}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(y){var x=_[y];if(!x)throw new Error("Table '".concat(y,"' not found"));return _[y]},MIN_KEY:-1/0,MAX_KEY:En(t),schema:l}}function wo(e,t){return t.reduce(function(n,r){var a=r.create;return v(v({},n),a(n))},e)}function bo(e,t,n,r){var a=n.IDBKeyRange;n.indexedDB;var o=wo(go(t,a,r),e.dbcore);return{dbcore:o}}function nr(e,t){var n=t.db,r=bo(e._middlewares,n,e._deps,t);e.core=r.dbcore,e.tables.forEach(function(a){var o=a.name;e.core.schema.tables.some(function(s){return s.name===o})&&(a.core=e.core.table(o),e[o]instanceof e.Table&&(e[o].core=a.core))})}function rr(e,t,n,r){n.forEach(function(a){var o=r[a];t.forEach(function(s){var l=Ce(s,a);(!l||"value"in l&&l.value===void 0)&&(s===e.Transaction.prototype||s instanceof e.Transaction?Y(s,a,{get:function(){return this.table(a)},set:function(c){z(this,a,{value:c,writable:!0,configurable:!0,enumerable:!0})}}):s[a]=new e.Table(a,o))})})}function ei(e,t){t.forEach(function(n){for(var r in n)n[r]instanceof e.Table&&delete n[r]})}function xo(e,t){return e._cfg.version-t._cfg.version}function Eo(e,t,n,r){var a=e._dbSchema;n.objectStoreNames.contains("$meta")&&!a.$meta&&(a.$meta=Jr("$meta",pa("")[0],[]),e._storeNames.push("$meta"));var o=e._createTransaction("readwrite",e._storeNames,a);o.create(n),o._completion.catch(r);var s=o._reject.bind(o),l=V.transless||V;st(function(){if(V.trans=o,V.transless=l,t===0)O(a).forEach(function(c){ni(n,c,a[c].primKey,a[c].indexes)}),nr(e,n),j.follow(function(){return e.on.populate.fire(o)}).catch(s);else return nr(e,n),So(e,o,t).then(function(c){return Ao(e,c,o,n)}).catch(s)})}function ko(e,t){va(e._dbSchema,t),t.db.version%10===0&&!t.objectStoreNames.contains("$meta")&&t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=ar(e,e.idbdb,t);ur(e,e._dbSchema,t);for(var r=ti(n,e._dbSchema),a=function(d){if(d.change.length||d.recreate)return console.warn("Unable to patch indexes of table ".concat(d.name," because it has changes on the type of index or primary key.")),{value:void 0};var _=t.objectStore(d.name);d.add.forEach(function(y){Ve&&console.debug("Dexie upgrade patch: Creating missing index ".concat(d.name,".").concat(y.src)),ir(_,y)})},o=0,s=r.change;o<s.length;o++){var l=s[o],c=a(l);if(typeof c=="object")return c.value}}function So(e,t,n){return t.storeNames.includes("$meta")?t.table("$meta").get("version").then(function(r){return r??n}):j.resolve(n)}function Ao(e,t,n,r){var a=[],o=e._versions,s=e._dbSchema=ar(e,e.idbdb,r),l=o.filter(function(d){return d._cfg.version>=t});if(l.length===0)return j.resolve();l.forEach(function(d){a.push(function(){var _=s,y=d._cfg.dbschema;ur(e,_,r),ur(e,y,r),s=e._dbSchema=y;var x=ti(_,y);x.add.forEach(function(A){ni(r,A[0],A[1].primKey,A[1].indexes)}),x.change.forEach(function(A){if(A.recreate)throw new U.Upgrade("Not yet support for changing primary key");var T=r.objectStore(A.name);A.add.forEach(function(P){return ir(T,P)}),A.change.forEach(function(P){T.deleteIndex(P.name),ir(T,P)}),A.del.forEach(function(P){return T.deleteIndex(P)})});var D=d._cfg.contentUpgrade;if(D&&d._cfg.version>t){nr(e,r),n._memoizedTables={};var m=ke(y);x.del.forEach(function(A){m[A]=_[A]}),ei(e,[e.Transaction.prototype]),rr(e,[e.Transaction.prototype],O(m),m),n.schema=m;var g=Dr(D);g&&Qt();var b,k=j.follow(function(){if(b=D(n),b&&g){var A=ft.bind(null,null);b.then(A,A)}});return b&&typeof b.then=="function"?j.resolve(b):k.then(function(){return b})}}),a.push(function(_){var y=d._cfg.dbschema;To(y,_),ei(e,[e.Transaction.prototype]),rr(e,[e.Transaction.prototype],e._storeNames,e._dbSchema),n.schema=e._dbSchema}),a.push(function(_){e.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(e.idbdb.version/10)===d._cfg.version?(e.idbdb.deleteObjectStore("$meta"),delete e._dbSchema.$meta,e._storeNames=e._storeNames.filter(function(y){return y!=="$meta"})):_.objectStore("$meta").put(d._cfg.version,"version"))})});function c(){return a.length?j.resolve(a.shift()(n.idbtrans)).then(c):j.resolve()}return c().then(function(){va(s,r)})}function ti(e,t){var n={del:[],add:[],change:[]},r;for(r in e)t[r]||n.del.push(r);for(r in t){var a=e[r],o=t[r];if(!a)n.add.push([r,o]);else{var s={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(a.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||a.primKey.auto!==o.primKey.auto)s.recreate=!0,n.change.push(s);else{var l=a.idxByName,c=o.idxByName,d=void 0;for(d in l)c[d]||s.del.push(d);for(d in c){var _=l[d],y=c[d];_?_.src!==y.src&&s.change.push(y):s.add.push(y)}(s.del.length>0||s.add.length>0||s.change.length>0)&&n.change.push(s)}}}return n}function ni(e,t,n,r){var a=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(o){return ir(a,o)}),a}function va(e,t){O(e).forEach(function(n){t.db.objectStoreNames.contains(n)||(Ve&&console.debug("Dexie: Creating missing table",n),ni(t,n,e[n].primKey,e[n].indexes))})}function To(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(n){return e[n]==null&&t.db.deleteObjectStore(n)})}function ir(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function ar(e,t,n){var r={},a=ie(t.objectStoreNames,0);return a.forEach(function(o){for(var s=n.objectStore(o),l=s.keyPath,c=Xr(ha(l),l||"",!0,!1,!!s.autoIncrement,l&&typeof l!="string",!0),d=[],_=0;_<s.indexNames.length;++_){var y=s.index(s.indexNames[_]);l=y.keyPath;var x=Xr(y.name,l,!!y.unique,!!y.multiEntry,!1,l&&typeof l!="string",!1);d.push(x)}r[o]=Jr(o,c,d)}),r}function Oo(e,t,n){e.verno=t.version/10;var r=e._dbSchema=ar(e,t,n);e._storeNames=ie(t.objectStoreNames,0),rr(e,[e._allTables],O(r),r)}function Po(e,t){var n=ar(e,e.idbdb,t),r=ti(n,e._dbSchema);return!(r.add.length||r.change.some(function(a){return a.add.length||a.change.length}))}function ur(e,t,n){for(var r=n.db.objectStoreNames,a=0;a<r.length;++a){var o=r[a],s=n.objectStore(o);e._hasGetAll="getAll"in s;for(var l=0;l<s.indexNames.length;++l){var c=s.indexNames[l],d=s.index(c).keyPath,_=typeof d=="string"?d:"["+ie(d).join("+")+"]";if(t[o]){var y=t[o].idxByName[_];y&&(y.name=c,delete t[o].idxByName[_],t[o].idxByName[c]=y)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&w.WorkerGlobalScope&&w instanceof w.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function pa(e){return e.split(",").map(function(t,n){var r,a=t.split(":"),o=(r=a[1])===null||r===void 0?void 0:r.trim();t=a[0].trim();var s=t.replace(/([&*]|\+\+)/g,""),l=/^\[/.test(s)?s.match(/^\[(.*)\]$/)[1].split("+"):s;return Xr(s,l||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),E(l),n===0,o)})}var Co=(function(){function e(){}return e.prototype._createTableSchema=function(t,n,r){return Jr(t,n,r)},e.prototype._parseIndexSyntax=function(t){return pa(t)},e.prototype._parseStoresSpec=function(t,n){var r=this;O(t).forEach(function(a){if(t[a]!==null){var o=r._parseIndexSyntax(t[a]),s=o.shift();if(!s)throw new U.Schema("Invalid schema for table "+a+": "+t[a]);if(s.unique=!0,s.multi)throw new U.Schema("Primary key cannot be multiEntry*");o.forEach(function(c){if(c.auto)throw new U.Schema("Only primary key can be marked as autoIncrement (++)");if(!c.keyPath)throw new U.Schema("Index must have a name and cannot be an empty string")});var l=r._createTableSchema(a,s,o);n[a]=l}})},e.prototype.stores=function(t){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?R(this._cfg.storesSource,t):t;var r=n._versions,a={},o={};return r.forEach(function(s){R(a,s._cfg.storesSource),o=s._cfg.dbschema={},s._parseStoresSpec(a,o)}),n._dbSchema=o,ei(n,[n._allTables,n,n.Transaction.prototype]),rr(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],O(o),o),n._storeNames=O(o),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=Rr(this._cfg.contentUpgrade||re,t),this},e})();function Do(e){return wn(Co.prototype,function(n){this.db=e,this._cfg={version:n,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function ri(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new et(Gn,{addons:[],indexedDB:e,IDBKeyRange:t}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function ii(e){return e&&typeof e.databases=="function"}function Io(e){var t=e.indexedDB,n=e.IDBKeyRange;return ii(t)?Promise.resolve(t.databases()).then(function(r){return r.map(function(a){return a.name}).filter(function(a){return a!==Gn})}):ri(t,n).toCollection().primaryKeys()}function Ko(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!ii(n)&&t!==Gn&&ri(n,r).put({name:t}).catch(re)}function Ro(e,t){var n=e.indexedDB,r=e.IDBKeyRange;!ii(n)&&t!==Gn&&ri(n,r).delete(t).catch(re)}function ai(e){return st(function(){return V.letThrough=!0,e()})}function Mo(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(n){var r=function(){return indexedDB.databases().finally(n)};t=setInterval(r,100),r()}).finally(function(){return clearInterval(t)})}var ui;function oi(e){return!("from"in e)}var ve=function(e,t){if(this)R(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var n=new ve;return e&&"d"in e&&R(n,e),n}};I(ve.prototype,(ui={add:function(e){return An(this,e),this},addKey:function(e){return Sn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(n){return Sn(t,n,n)}),this},hasKey:function(e){var t=or(this).next(e).value;return t&&Z(t.from,e)<=0&&Z(t.to,e)>=0}},ui[Cr]=function(){return or(this)},ui));function Sn(e,t,n){var r=Z(t,n);if(!isNaN(r)){if(r>0)throw RangeError();if(oi(e))return R(e,{from:t,to:n,d:1});var a=e.l,o=e.r;if(Z(n,e.from)<0)return a?Sn(a,t,n):e.l={from:t,to:n,d:1,l:null,r:null},ma(e);if(Z(t,e.to)>0)return o?Sn(o,t,n):e.r={from:t,to:n,d:1,l:null,r:null},ma(e);Z(t,e.from)<0&&(e.from=t,e.l=null,e.d=o?o.d+1:1),Z(n,e.to)>0&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1);var s=!e.r;a&&!e.l&&An(e,a),o&&s&&An(e,o)}}function An(e,t){function n(r,a){var o=a.from,s=a.to,l=a.l,c=a.r;Sn(r,o,s),l&&n(r,l),c&&n(r,c)}oi(t)||n(e,t)}function ya(e,t){var n=or(t),r=n.next();if(r.done)return!1;for(var a=r.value,o=or(e),s=o.next(a.from),l=s.value;!r.done&&!s.done;){if(Z(l.from,a.to)<=0&&Z(l.to,a.from)>=0)return!0;Z(a.from,l.from)<0?a=(r=n.next(l.from)).value:l=(s=o.next(a.from)).value}return!1}function or(e){var t=oi(e)?null:{s:0,n:e};return{next:function(n){for(var r=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,r)for(;t.n.l&&Z(n,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!r||Z(n,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function ma(e){var t,n,r=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((n=e.l)===null||n===void 0?void 0:n.d)||0),a=r>1?"r":r<-1?"l":"";if(a){var o=a==="r"?"l":"r",s=v({},e),l=e[a];e.from=l.from,e.to=l.to,e[a]=l[a],s[a]=l[o],e[o]=s,s.d=_a(s)}e.d=_a(e)}function _a(e){var t=e.r,n=e.l;return(t?n?Math.max(t.d,n.d):t.d:n?n.d:0)+1}function sr(e,t){return O(t).forEach(function(n){e[n]?An(e[n],t[n]):e[n]=Li(t[n])}),e}function si(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&ya(t[n],e[n])})}var Kt={},fi={},li=!1;function fr(e,t){sr(fi,e),li||(li=!0,setTimeout(function(){li=!1;var n=fi;fi={},ci(n,!1)},0))}function ci(e,t){t===void 0&&(t=!1);var n=new Set;if(e.all)for(var r=0,a=Object.values(Kt);r<a.length;r++){var o=a[r];ga(o,e,n,t)}else for(var s in e){var l=/^idb\:\/\/(.*)\/(.*)\//.exec(s);if(l){var c=l[1],d=l[2],o=Kt["idb://".concat(c,"/").concat(d)];o&&ga(o,e,n,t)}}n.forEach(function(_){return _()})}function ga(e,t,n,r){for(var a=[],o=0,s=Object.entries(e.queries.query);o<s.length;o++){for(var l=s[o],c=l[0],d=l[1],_=[],y=0,x=d;y<x.length;y++){var D=x[y];si(t,D.obsSet)?D.subscribers.forEach(function(k){return n.add(k)}):r&&_.push(D)}r&&a.push([c,_])}if(r)for(var m=0,g=a;m<g.length;m++){var b=g[m],c=b[0],_=b[1];e.queries.query[c]=_}}function Bo(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?fe(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,a=Math.round(e.verno*10),o=!1;function s(){if(t.openCanceller!==r)throw new U.DatabaseClosed("db.open() was cancelled")}var l=t.dbReadyResolve,c=null,d=!1,_=function(){return new j(function(y,x){if(s(),!n)throw new U.MissingAPI;var D=e.name,m=t.autoSchema||!a?n.open(D):n.open(D,a);if(!m)throw new U.MissingAPI;m.onerror=ze(x),m.onblocked=ae(e._fireOnBlocked),m.onupgradeneeded=ae(function(g){if(c=m.transaction,t.autoSchema&&!e._options.allowEmptyDB){m.onerror=bn,c.abort(),m.result.close();var b=n.deleteDatabase(D);b.onsuccess=b.onerror=ae(function(){x(new U.NoSuchDatabase("Database ".concat(D," doesnt exist")))})}else{c.onerror=ze(x);var k=g.oldVersion>Math.pow(2,62)?0:g.oldVersion;d=k<1,e.idbdb=m.result,o&&ko(e,c),Eo(e,k/10,c,x)}},x),m.onsuccess=ae(function(){c=null;var g=e.idbdb=m.result,b=ie(g.objectStoreNames);if(b.length>0)try{var k=g.transaction(yo(b),"readonly");if(t.autoSchema)Oo(e,g,k);else if(ur(e,e._dbSchema,k),!Po(e,k)&&!o)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),g.close(),a=g.version+1,o=!0,y(_());nr(e,k)}catch{}qt.push(e),g.onversionchange=ae(function(A){t.vcFired=!0,e.on("versionchange").fire(A)}),g.onclose=ae(function(){e.close({disableAutoOpen:!1})}),d&&Ko(e._deps,D),y()},x)}).catch(function(y){switch(y?.name){case"UnknownError":if(t.PR1398_maxLoop>0)return t.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),_();break;case"VersionError":if(a>0)return a=0,_();break}return j.reject(y)})};return j.race([r,(typeof navigator>"u"?j.resolve():Mo()).then(_)]).then(function(){return s(),t.onReadyBeingFired=[],j.resolve(ai(function(){return e.on.ready.fire(e.vip)})).then(function y(){if(t.onReadyBeingFired.length>0){var x=t.onReadyBeingFired.reduce(Rr,re);return t.onReadyBeingFired=[],j.resolve(ai(function(){return x(e.vip)})).then(y)}})}).finally(function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(y){t.dbOpenError=y;try{c&&c.abort()}catch{}return r===t.openCanceller&&e._close(),fe(y)}).finally(function(){t.openComplete=!0,l()}).then(function(){if(d){var y={};e.tables.forEach(function(x){x.schema.indexes.forEach(function(D){D.name&&(y["idb://".concat(e.name,"/").concat(x.name,"/").concat(D.name)]=new ve(-1/0,[[[]]]))}),y["idb://".concat(e.name,"/").concat(x.name,"/")]=y["idb://".concat(e.name,"/").concat(x.name,"/:dels")]=new ve(-1/0,[[[]]])}),ht(xn).fire(y),ci(y,!0)}return e})}function hi(e){var t=function(s){return e.next(s)},n=function(s){return e.throw(s)},r=o(t),a=o(n);function o(s){return function(l){var c=s(l),d=c.value;return c.done?d:!d||typeof d.then!="function"?E(d)?Promise.all(d).then(r,a):r(d):d.then(r,a)}}return o(t)()}function Fo(e,t,n){var r=arguments.length;if(r<2)throw new U.InvalidArgument("Too few arguments");for(var a=new Array(r-1);--r;)a[r-1]=arguments[r];n=a.pop();var o=hn(a);return[e,o,n]}function wa(e,t,n,r,a){return j.resolve().then(function(){var o=V.transless||V,s=e._createTransaction(t,n,e._dbSchema,r);s.explicit=!0;var l={trans:s,transless:o};if(r)s.idbtrans=r.idbtrans;else try{s.create(),s.idbtrans._explicit=!0,e._state.PR1398_maxLoop=3}catch(y){return y.name===Kr.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e.close({disableAutoOpen:!1}),e.open().then(function(){return wa(e,t,n,null,a)})):fe(y)}var c=Dr(a);c&&Qt();var d,_=j.follow(function(){if(d=a.call(s,s),d)if(c){var y=ft.bind(null,null);d.then(y,y)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=hi(d))},l);return(d&&typeof d.then=="function"?j.resolve(d).then(function(y){return s.active?y:fe(new U.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):_.then(function(){return d})).then(function(y){return r&&s._resolve(),s._completion.then(function(){return y})}).catch(function(y){return s._reject(y),fe(y)})})}function lr(e,t,n){for(var r=E(e)?e.slice():[e],a=0;a<n;++a)r.push(t);return r}function jo(e){return v(v({},e),{table:function(t){var n=e.table(t),r=n.schema,a={},o=[];function s(g,b,k){var A=kn(g),T=a[A]=a[A]||[],P=g==null?0:typeof g=="string"?1:g.length,S=b>0,B=v(v({},k),{name:S?"".concat(A,"(virtual-from:").concat(k.name,")"):k.name,lowLevelIndex:k,isVirtual:S,keyTail:b,keyLength:P,extractKey:Zr(g),unique:!S&&k.unique});if(T.push(B),B.isPrimaryKey||o.push(B),P>1){var N=P===2?g[0]:g.slice(0,P-1);s(N,b+1,k)}return T.sort(function(F,H){return F.keyTail-H.keyTail}),B}var l=s(r.primaryKey.keyPath,0,r.primaryKey);a[":id"]=[l];for(var c=0,d=r.indexes;c<d.length;c++){var _=d[c];s(_.keyPath,0,_)}function y(g){var b=a[kn(g)];return b&&b[0]}function x(g,b){return{type:g.type===1?2:g.type,lower:lr(g.lower,g.lowerOpen?e.MAX_KEY:e.MIN_KEY,b),lowerOpen:!0,upper:lr(g.upper,g.upperOpen?e.MIN_KEY:e.MAX_KEY,b),upperOpen:!0}}function D(g){var b=g.query.index;return b.isVirtual?v(v({},g),{query:{index:b.lowLevelIndex,range:x(g.query.range,b.keyTail)}}):g}var m=v(v({},n),{schema:v(v({},r),{primaryKey:l,indexes:o,getIndexByKeyPath:y}),count:function(g){return n.count(D(g))},query:function(g){return n.query(D(g))},openCursor:function(g){var b=g.query.index,k=b.keyTail,A=b.isVirtual,T=b.keyLength;if(!A)return n.openCursor(g);function P(S){function B(F){F!=null?S.continue(lr(F,g.reverse?e.MAX_KEY:e.MIN_KEY,k)):g.unique?S.continue(S.key.slice(0,T).concat(g.reverse?e.MIN_KEY:e.MAX_KEY,k)):S.continue()}var N=Object.create(S,{continue:{value:B},continuePrimaryKey:{value:function(F,H){S.continuePrimaryKey(lr(F,e.MAX_KEY,k),H)}},primaryKey:{get:function(){return S.primaryKey}},key:{get:function(){var F=S.key;return T===1?F[0]:F.slice(0,T)}},value:{get:function(){return S.value}}});return N}return n.openCursor(D(g)).then(function(S){return S&&P(S)})}});return m}})}var No={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:jo};function di(e,t,n,r){return n=n||{},r=r||"",O(e).forEach(function(a){if(!C(t,a))n[r+a]=void 0;else{var o=e[a],s=t[a];if(typeof o=="object"&&typeof s=="object"&&o&&s){var l=Pr(o),c=Pr(s);l!==c?n[r+a]=t[a]:l==="Object"?di(o,s,n,r+a+"."):o!==s&&(n[r+a]=t[a])}else o!==s&&(n[r+a]=t[a])}}),O(t).forEach(function(a){C(e,a)||(n[r+a]=t[a])}),n}function vi(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var Lo={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return v(v({},e),{table:function(t){var n=e.table(t),r=n.schema.primaryKey,a=v(v({},n),{mutate:function(o){var s=V.trans,l=s.table(t).hook,c=l.deleting,d=l.creating,_=l.updating;switch(o.type){case"add":if(d.fire===re)break;return s._promise("readwrite",function(){return y(o)},!0);case"put":if(d.fire===re&&_.fire===re)break;return s._promise("readwrite",function(){return y(o)},!0);case"delete":if(c.fire===re)break;return s._promise("readwrite",function(){return y(o)},!0);case"deleteRange":if(c.fire===re)break;return s._promise("readwrite",function(){return x(o)},!0)}return n.mutate(o);function y(m){var g=V.trans,b=m.keys||vi(r,m);if(!b)throw new Error("Keys missing");return m=m.type==="add"||m.type==="put"?v(v({},m),{keys:b}):v({},m),m.type!=="delete"&&(m.values=p([],m.values)),m.keys&&(m.keys=p([],m.keys)),$o(n,m,b).then(function(k){var A=b.map(function(T,P){var S=k[P],B={onerror:null,onsuccess:null};if(m.type==="delete")c.fire.call(B,T,S,g);else if(m.type==="add"||S===void 0){var N=d.fire.call(B,T,m.values[P],g);T==null&&N!=null&&(T=N,m.keys[P]=T,r.outbound||le(m.values[P],r.keyPath,T))}else{var F=di(S,m.values[P]),H=_.fire.call(B,F,T,S,g);if(H){var X=m.values[P];Object.keys(H).forEach(function(L){C(X,L)?X[L]=H[L]:le(X,L,H[L])})}}return B});return n.mutate(m).then(function(T){for(var P=T.failures,S=T.results,B=T.numFailures,N=T.lastResult,F=0;F<b.length;++F){var H=S?S[F]:b[F],X=A[F];H==null?X.onerror&&X.onerror(P[F]):X.onsuccess&&X.onsuccess(m.type==="put"&&k[F]?m.values[F]:H)}return{failures:P,results:S,numFailures:B,lastResult:N}}).catch(function(T){return A.forEach(function(P){return P.onerror&&P.onerror(T)}),Promise.reject(T)})})}function x(m){return D(m.trans,m.range,1e4)}function D(m,g,b){return n.query({trans:m,values:!1,query:{index:r,range:g},limit:b}).then(function(k){var A=k.result;return y({type:"delete",keys:A,trans:m}).then(function(T){return T.numFailures>0?Promise.reject(T.failures[0]):A.length<b?{failures:[],numFailures:0,lastResult:void 0}:D(m,v(v({},g),{lower:A[A.length-1],lowerOpen:!0}),b)})})}}});return a}})}};function $o(e,t,n){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:n,cache:"immutable"})}function ba(e,t,n){try{if(!t||t.keys.length<e.length)return null;for(var r=[],a=0,o=0;a<t.keys.length&&o<e.length;++a)Z(t.keys[a],e[o])===0&&(r.push(n?kt(t.values[a]):t.values[a]),++o);return r.length===e.length?r:null}catch{return null}}var Vo={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var n=e.table(t);return v(v({},n),{getMany:function(r){if(!r.cache)return n.getMany(r);var a=ba(r.keys,r.trans._cache,r.cache==="clone");return a?j.resolve(a):n.getMany(r).then(function(o){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?kt(o):o},o})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),n.mutate(r)}})}}}};function xa(e,t){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!t.schema.primaryKey.outbound}function Ea(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var zo={stack:"dbcore",level:0,name:"Observability",create:function(e){var t=e.schema.name,n=new ve(e.MIN_KEY,e.MAX_KEY);return v(v({},e),{transaction:function(r,a,o){if(V.subscr&&a!=="readonly")throw new U.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(V.querier));return e.transaction(r,a,o)},table:function(r){var a=e.table(r),o=a.schema,s=o.primaryKey,l=o.indexes,c=s.extractKey,d=s.outbound,_=s.autoIncrement&&l.filter(function(m){return m.compound&&m.keyPath.includes(s.keyPath)}),y=v(v({},a),{mutate:function(m){var g,b,k=m.trans,A=m.mutatedParts||(m.mutatedParts={}),T=function(q){var ee="idb://".concat(t,"/").concat(r,"/").concat(q);return A[ee]||(A[ee]=new ve)},P=T(""),S=T(":dels"),B=m.type,N=m.type==="deleteRange"?[m.range]:m.type==="delete"?[m.keys]:m.values.length<50?[vi(s,m).filter(function(q){return q}),m.values]:[],F=N[0],H=N[1],X=m.trans._cache;if(E(F)){P.addKeys(F);var L=B==="delete"||F.length===H.length?ba(F,X):null;L||S.addKeys(F),(L||H)&&Wo(T,o,L,H)}else if(F){var G={from:(g=F.lower)!==null&&g!==void 0?g:e.MIN_KEY,to:(b=F.upper)!==null&&b!==void 0?b:e.MAX_KEY};S.add(G),P.add(G)}else P.add(n),S.add(n),o.indexes.forEach(function(q){return T(q.name).add(n)});return a.mutate(m).then(function(q){return F&&(m.type==="add"||m.type==="put")&&(P.addKeys(q.results),_&&_.forEach(function(ee){for(var W=m.values.map(function(Se){return ee.extractKey(Se)}),se=ee.keyPath.findIndex(function(Se){return Se===s.keyPath}),pe=0,We=q.results.length;pe<We;++pe)W[pe][se]=q.results[pe];T(ee.name).addKeys(W)})),k.mutatedParts=sr(k.mutatedParts||{},A),q})}}),x=function(m){var g,b,k=m.query,A=k.index,T=k.range;return[A,new ve((g=T.lower)!==null&&g!==void 0?g:e.MIN_KEY,(b=T.upper)!==null&&b!==void 0?b:e.MAX_KEY)]},D={get:function(m){return[s,new ve(m.key)]},getMany:function(m){return[s,new ve().addKeys(m.keys)]},count:x,query:x,openCursor:x};return O(D).forEach(function(m){y[m]=function(g){var b=V.subscr,k=!!b,A=xa(V,a)&&Ea(m,g),T=A?g.obsSet={}:b;if(k){var P=function(L){var G="idb://".concat(t,"/").concat(r,"/").concat(L);return T[G]||(T[G]=new ve)},S=P(""),B=P(":dels"),N=D[m](g),F=N[0],H=N[1];if(m==="query"&&F.isPrimaryKey&&!g.values?B.add(H):P(F.name||"").add(H),!F.isPrimaryKey)if(m==="count")B.add(n);else{var X=m==="query"&&d&&g.values&&a.query(v(v({},g),{values:!1}));return a[m].apply(this,arguments).then(function(L){if(m==="query"){if(d&&g.values)return X.then(function(W){var se=W.result;return S.addKeys(se),L});var G=g.values?L.result.map(c):L.result;g.values?S.addKeys(G):B.addKeys(G)}else if(m==="openCursor"){var q=L,ee=g.values;return q&&Object.create(q,{key:{get:function(){return B.addKey(q.primaryKey),q.key}},primaryKey:{get:function(){var W=q.primaryKey;return B.addKey(W),W}},value:{get:function(){return ee&&S.addKey(q.primaryKey),q.value}}})}return L})}}return a[m].apply(this,arguments)}}),y}})}};function Wo(e,t,n,r){function a(o){var s=e(o.name||"");function l(d){return d!=null?o.extractKey(d):null}var c=function(d){return o.multiEntry&&E(d)?d.forEach(function(_){return s.addKey(_)}):s.addKey(d)};(n||r).forEach(function(d,_){var y=n&&l(n[_]),x=r&&l(r[_]);Z(y,x)!==0&&(y!=null&&c(y),x!=null&&c(x))})}t.indexes.forEach(a)}function ka(e,t,n){if(n.numFailures===0)return t;if(t.type==="deleteRange")return null;var r=t.keys?t.keys.length:"values"in t&&t.values?t.values.length:1;if(n.numFailures===r)return null;var a=v({},t);return E(a.keys)&&(a.keys=a.keys.filter(function(o,s){return!(s in n.failures)})),"values"in a&&E(a.values)&&(a.values=a.values.filter(function(o,s){return!(s in n.failures)})),a}function Uo(e,t){return t.lower===void 0?!0:t.lowerOpen?Z(e,t.lower)>0:Z(e,t.lower)>=0}function Yo(e,t){return t.upper===void 0?!0:t.upperOpen?Z(e,t.upper)<0:Z(e,t.upper)<=0}function pi(e,t){return Uo(e,t)&&Yo(e,t)}function Sa(e,t,n,r,a,o){if(!n||n.length===0)return e;var s=t.query.index,l=s.multiEntry,c=t.query.range,d=r.schema.primaryKey,_=d.extractKey,y=s.extractKey,x=(s.lowLevelIndex||s).extractKey,D=n.reduce(function(m,g){var b=m,k=[];if(g.type==="add"||g.type==="put")for(var A=new ve,T=g.values.length-1;T>=0;--T){var P=g.values[T],S=_(P);if(!A.hasKey(S)){var B=y(P);(l&&E(B)?B.some(function(L){return pi(L,c)}):pi(B,c))&&(A.addKey(S),k.push(P))}}switch(g.type){case"add":{var N=new ve().addKeys(t.values?m.map(function(L){return _(L)}):m);b=m.concat(t.values?k.filter(function(L){var G=_(L);return N.hasKey(G)?!1:(N.addKey(G),!0)}):k.map(function(L){return _(L)}).filter(function(L){return N.hasKey(L)?!1:(N.addKey(L),!0)}));break}case"put":{var F=new ve().addKeys(g.values.map(function(L){return _(L)}));b=m.filter(function(L){return!F.hasKey(t.values?_(L):L)}).concat(t.values?k:k.map(function(L){return _(L)}));break}case"delete":var H=new ve().addKeys(g.keys);b=m.filter(function(L){return!H.hasKey(t.values?_(L):L)});break;case"deleteRange":var X=g.range;b=m.filter(function(L){return!pi(_(L),X)});break}return b},e);return D===e?e:(D.sort(function(m,g){return Z(x(m),x(g))||Z(_(m),_(g))}),t.limit&&t.limit<1/0&&(D.length>t.limit?D.length=t.limit:e.length===t.limit&&D.length<t.limit&&(a.dirty=!0)),o?Object.freeze(D):D)}function Aa(e,t){return Z(e.lower,t.lower)===0&&Z(e.upper,t.upper)===0&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Ho(e,t,n,r){if(e===void 0)return t!==void 0?-1:0;if(t===void 0)return 1;var a=Z(e,t);if(a===0){if(n&&r)return 0;if(n)return 1;if(r)return-1}return a}function Qo(e,t,n,r){if(e===void 0)return t!==void 0?1:0;if(t===void 0)return-1;var a=Z(e,t);if(a===0){if(n&&r)return 0;if(n)return-1;if(r)return 1}return a}function qo(e,t){return Ho(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&Qo(e.upper,t.upper,e.upperOpen,t.upperOpen)>=0}function Go(e,t,n,r){var a=Kt["idb://".concat(e,"/").concat(t)];if(!a)return[];var o=a.queries[n];if(!o)return[null,!1,a,null];var s=r.query?r.query.index.name:null,l=o[s||""];if(!l)return[null,!1,a,null];switch(n){case"query":var c=l.find(function(y){return y.req.limit===r.limit&&y.req.values===r.values&&Aa(y.req.query.range,r.query.range)});if(c)return[c,!0,a,l];var d=l.find(function(y){var x="limit"in y.req?y.req.limit:1/0;return x>=r.limit&&(r.values?y.req.values:!0)&&qo(y.req.query.range,r.query.range)});return[d,!1,a,l];case"count":var _=l.find(function(y){return Aa(y.req.query.range,r.query.range)});return[_,!!_,a,l]}}function Xo(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",function(){e.subscribers.delete(n),e.subscribers.size===0&&Jo(e,t)})}function Jo(e,t){setTimeout(function(){e.subscribers.size===0&&St(t,e)},3e3)}var Zo={stack:"dbcore",level:0,name:"Cache",create:function(e){var t=e.schema.name,n=v(v({},e),{transaction:function(r,a,o){var s=e.transaction(r,a,o);if(a==="readwrite"){var l=new AbortController,c=l.signal,d=function(_){return function(){if(l.abort(),a==="readwrite"){for(var y=new Set,x=0,D=r;x<D.length;x++){var m=D[x],g=Kt["idb://".concat(t,"/").concat(m)];if(g){var b=e.table(m),k=g.optimisticOps.filter(function(ee){return ee.trans===s});if(s._explicit&&_&&s.mutatedParts)for(var A=0,T=Object.values(g.queries.query);A<T.length;A++)for(var P=T[A],S=0,B=P.slice();S<B.length;S++){var N=B[S];si(N.obsSet,s.mutatedParts)&&(St(P,N),N.subscribers.forEach(function(ee){return y.add(ee)}))}else if(k.length>0){g.optimisticOps=g.optimisticOps.filter(function(ee){return ee.trans!==s});for(var F=0,H=Object.values(g.queries.query);F<H.length;F++)for(var P=H[F],X=0,L=P.slice();X<L.length;X++){var N=L[X];if(N.res!=null&&s.mutatedParts)if(_&&!N.dirty){var G=Object.isFrozen(N.res),q=Sa(N.res,N.req,k,b,N,G);N.dirty?(St(P,N),N.subscribers.forEach(function(se){return y.add(se)})):q!==N.res&&(N.res=q,N.promise=j.resolve({result:q}))}else N.dirty&&St(P,N),N.subscribers.forEach(function(se){return y.add(se)})}}}}y.forEach(function(ee){return ee()})}}};s.addEventListener("abort",d(!1),{signal:c}),s.addEventListener("error",d(!1),{signal:c}),s.addEventListener("complete",d(!0),{signal:c})}return s},table:function(r){var a=e.table(r),o=a.schema.primaryKey,s=v(v({},a),{mutate:function(l){var c=V.trans;if(o.outbound||c.db._options.cache==="disabled"||c.explicit||c.idbtrans.mode!=="readwrite")return a.mutate(l);var d=Kt["idb://".concat(t,"/").concat(r)];if(!d)return a.mutate(l);var _=a.mutate(l);return(l.type==="add"||l.type==="put")&&(l.values.length>=50||vi(o,l).some(function(y){return y==null}))?_.then(function(y){var x=v(v({},l),{values:l.values.map(function(m,g){var b;if(y.failures[g])return m;var k=!((b=o.keyPath)===null||b===void 0)&&b.includes(".")?kt(m):v({},m);return le(k,o.keyPath,y.results[g]),k})}),D=ka(d,x,y);d.optimisticOps.push(D),queueMicrotask(function(){return l.mutatedParts&&fr(l.mutatedParts)})}):(d.optimisticOps.push(l),l.mutatedParts&&fr(l.mutatedParts),_.then(function(y){if(y.numFailures>0){St(d.optimisticOps,l);var x=ka(d,l,y);x&&d.optimisticOps.push(x),l.mutatedParts&&fr(l.mutatedParts)}}),_.catch(function(){St(d.optimisticOps,l),l.mutatedParts&&fr(l.mutatedParts)})),_},query:function(l){var c;if(!xa(V,a)||!Ea("query",l))return a.query(l);var d=((c=V.trans)===null||c===void 0?void 0:c.db._options.cache)==="immutable",_=V,y=_.requery,x=_.signal,D=Go(t,r,"query",l),m=D[0],g=D[1],b=D[2],k=D[3];if(m&&g)m.obsSet=l.obsSet;else{var A=a.query(l).then(function(T){var P=T.result;if(m&&(m.res=P),d){for(var S=0,B=P.length;S<B;++S)Object.freeze(P[S]);Object.freeze(P)}else T.result=kt(P);return T}).catch(function(T){return k&&m&&St(k,m),Promise.reject(T)});m={obsSet:l.obsSet,promise:A,subscribers:new Set,type:"query",req:l,dirty:!1},k?k.push(m):(k=[m],b||(b=Kt["idb://".concat(t,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),b.queries.query[l.query.index.name||""]=k)}return Xo(m,k,y,x),m.promise.then(function(T){return{result:Sa(T.result,l,b?.optimisticOps,a,m,d)}})}});return s}});return n}};function cr(e,t){return new Proxy(e,{get:function(n,r,a){return r==="db"?t:Reflect.get(n,r,a)}})}var et=(function(){function e(t,n){var r=this;this._middlewares={},this.verno=0;var a=e.dependencies;this._options=n=v({addons:e.addons,autoOpen:!0,indexedDB:a.indexedDB,IDBKeyRange:a.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};var o=n.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var s={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:re,dbReadyPromise:null,cancelOpen:re,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};s.dbReadyPromise=new j(function(c){s.dbReadyResolve=c}),s.openCanceller=new j(function(c,d){s.cancelOpen=d}),this._state=s,this.name=t,this.on=gn(this,"populate","blocked","versionchange","close",{ready:[Rr,re]}),this.once=function(c,d){var _=function(){for(var y=[],x=0;x<arguments.length;x++)y[x]=arguments[x];r.on(c).unsubscribe(_),d.apply(r,y)};return r.on(c,_)},this.on.ready.subscribe=Ee(this.on.ready.subscribe,function(c){return function(d,_){e.vip(function(){var y=r._state;if(y.openComplete)y.dbOpenError||j.resolve().then(d),_&&c(d);else if(y.onReadyBeingFired)y.onReadyBeingFired.push(d),_&&c(d);else{c(d);var x=r;_||c(function D(){x.on.ready.unsubscribe(d),x.on.ready.unsubscribe(D)})}})}}),this.Collection=uo(this),this.Table=ro(this),this.Transaction=po(this),this.Version=Do(this),this.WhereClause=ho(this),this.on("versionchange",function(c){c.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(r.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(r.name,"'. Closing db now to resume the delete request.")),r.close({disableAutoOpen:!1})}),this.on("blocked",function(c){!c.newVersion||c.newVersion<c.oldVersion?console.warn("Dexie.delete('".concat(r.name,"') was blocked")):console.warn("Upgrade '".concat(r.name,"' blocked by other connection holding version ").concat(c.oldVersion/10))}),this._maxKey=En(n.IDBKeyRange),this._createTransaction=function(c,d,_,y){return new r.Transaction(c,d,_,r._options.chromeTransactionDurability,y)},this._fireOnBlocked=function(c){r.on("blocked").fire(c),qt.filter(function(d){return d.name===r.name&&d!==r&&!d._state.vcFired}).map(function(d){return d.on("versionchange").fire(c)})},this.use(Vo),this.use(Zo),this.use(zo),this.use(No),this.use(Lo);var l=new Proxy(this,{get:function(c,d,_){if(d==="_vip")return!0;if(d==="table")return function(x){return cr(r.table(x),l)};var y=Reflect.get(c,d,_);return y instanceof ua?cr(y,l):d==="tables"?y.map(function(x){return cr(x,l)}):d==="_createTransaction"?function(){var x=y.apply(this,arguments);return cr(x,l)}:y}});this.vip=l,o.forEach(function(c){return c(r)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new U.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new U.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var n=this._versions,r=n.filter(function(a){return a._cfg.version===t})[0];return r||(r=new this.Version(t),n.push(r),n.sort(xo),r.stores({}),this._state.autoSchema=!1,r)},e.prototype._whenReady=function(t){var n=this;return this.idbdb&&(this._state.openComplete||V.letThrough||this._vip)?t():new j(function(r,a){if(n._state.openComplete)return a(new U.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen){a(new U.DatabaseClosed);return}n.open().catch(re)}n._state.dbReadyPromise.then(r,a)}).then(t)},e.prototype.use=function(t){var n=t.stack,r=t.create,a=t.level,o=t.name;o&&this.unuse({stack:n,name:o});var s=this._middlewares[n]||(this._middlewares[n]=[]);return s.push({stack:n,create:r,level:a??10,name:o}),s.sort(function(l,c){return l.level-c.level}),this},e.prototype.unuse=function(t){var n=t.stack,r=t.name,a=t.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(o){return a?o.create!==a:r?o.name!==r:!1})),this},e.prototype.open=function(){var t=this;return Ct(ot,function(){return Bo(t)})},e.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var t=this._state,n=qt.indexOf(this);if(n>=0&&qt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}t.isBeingOpened||(t.dbReadyPromise=new j(function(r){t.dbReadyResolve=r}),t.openCanceller=new j(function(r,a){t.cancelOpen=a}))},e.prototype.close=function(t){var n=t===void 0?{disableAutoOpen:!0}:t,r=n.disableAutoOpen,a=this._state;r?(a.isBeingOpened&&a.cancelOpen(new U.DatabaseClosed),this._close(),a.autoOpen=!1,a.dbOpenError=new U.DatabaseClosed):(this._close(),a.autoOpen=this._options.autoOpen||a.isBeingOpened,a.openComplete=!1,a.dbOpenError=null)},e.prototype.delete=function(t){var n=this;t===void 0&&(t={disableAutoOpen:!0});var r=arguments.length>0&&typeof arguments[0]!="object",a=this._state;return new j(function(o,s){var l=function(){n.close(t);var c=n._deps.indexedDB.deleteDatabase(n.name);c.onsuccess=ae(function(){Ro(n._deps,n.name),o()}),c.onerror=ze(s),c.onblocked=n._fireOnBlocked};if(r)throw new U.InvalidArgument("Invalid closeOptions argument to db.delete()");a.isBeingOpened?a.dbReadyPromise.then(l):l()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return O(this._allTables).map(function(n){return t._allTables[n]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=Fo.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,n,r){var a=this,o=V.trans;(!o||o.db!==this||t.indexOf("!")!==-1)&&(o=null);var s=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var l,c;try{if(c=n.map(function(_){var y=_ instanceof a.Table?_.name:_;if(typeof y!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return y}),t=="r"||t===Yr)l=Yr;else if(t=="rw"||t==Hr)l=Hr;else throw new U.InvalidArgument("Invalid transaction mode: "+t);if(o){if(o.mode===Yr&&l===Hr)if(s)o=null;else throw new U.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");o&&c.forEach(function(_){if(o&&o.storeNames.indexOf(_)===-1)if(s)o=null;else throw new U.SubTransaction("Table "+_+" not included in parent transaction.")}),s&&o&&!o.active&&(o=null)}}catch(_){return o?o._promise(null,function(y,x){x(_)}):fe(_)}var d=wa.bind(null,this,l,c,o,r);return o?o._promise(l,d,"lock"):V.trans?Ct(V.transless,function(){return a._whenReady(d)}):this._whenReady(d)},e.prototype.table=function(t){if(!C(this._allTables,t))throw new U.InvalidTable("Table ".concat(t," does not exist"));return this._allTables[t]},e})(),es=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",ts=(function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,n,r){return this._subscribe(!t||typeof t=="function"?{next:t,error:n,complete:r}:t)},e.prototype[es]=function(){return this},e})(),hr;try{hr={indexedDB:w.indexedDB||w.mozIndexedDB||w.webkitIndexedDB||w.msIndexedDB,IDBKeyRange:w.IDBKeyRange||w.webkitIDBKeyRange}}catch{hr={indexedDB:null,IDBKeyRange:null}}function Ta(e){var t=!1,n,r=new ts(function(a){var o=Dr(e);function s(k){var A=Yt();try{o&&Qt();var T=st(e,k);return o&&(T=T.finally(ft)),T}finally{A&&Ht()}}var l=!1,c,d={},_={},y={get closed(){return l},unsubscribe:function(){l||(l=!0,c&&c.abort(),x&&ht.storagemutated.unsubscribe(g))}};a.start&&a.start(y);var x=!1,D=function(){return zr(b)};function m(){return si(_,d)}var g=function(k){sr(d,k),m()&&D()},b=function(){if(!(l||!hr.indexedDB)){d={};var k={};c&&c.abort(),c=new AbortController;var A={subscr:k,signal:c.signal,requery:D,querier:e,trans:null},T=s(A);Promise.resolve(T).then(function(P){t=!0,n=P,!(l||A.signal.aborted)&&(d={},_=k,!Du(_)&&!x&&(ht(xn,g),x=!0),zr(function(){return!l&&a.next&&a.next(P)}))},function(P){t=!1,["DatabaseClosedError","AbortError"].includes(P?.name)||l||zr(function(){l||a.error&&a.error(P)})})}};return setTimeout(D,0),y});return r.hasValue=function(){return t},r.getValue=function(){return n},r}var Rt=et;I(Rt,v(v({},$n),{delete:function(e){var t=new Rt(e,{addons:[]});return t.delete()},exists:function(e){return new Rt(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return Io(Rt.dependencies).then(e)}catch{return fe(new U.MissingAPI)}},defineClass:function(){function e(t){R(this,t)}return e},ignoreTransaction:function(e){return V.trans?Ct(V.transless,e):e()},vip:ai,async:function(e){return function(){try{var t=hi(e.apply(this,arguments));return!t||typeof t.then!="function"?j.resolve(t):t}catch(n){return fe(n)}}},spawn:function(e,t,n){try{var r=hi(e.apply(n,t||[]));return!r||typeof r.then!="function"?j.resolve(r):r}catch(a){return fe(a)}},currentTransaction:{get:function(){return V.trans||null}},waitFor:function(e,t){var n=j.resolve(typeof e=="function"?Rt.ignoreTransaction(e):e).timeout(t||6e4);return V.trans?V.trans.waitFor(n):n},Promise:j,debug:{get:function(){return Ve},set:function(e){Wi(e)}},derive:$,extend:R,props:I,override:Ee,Events:gn,on:ht,liveQuery:Ta,extendObservabilitySet:sr,getByKeyPath:oe,setByKeyPath:le,delByKeyPath:Vt,shallowClone:ke,deepClone:kt,getObjectDiff:di,cmp:Z,asap:ge,minKey:Ur,addons:[],connections:qt,errnames:Kr,dependencies:hr,cache:Kt,semVer:Zi,version:Zi.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,n*2)})})),Rt.maxKey=En(Rt.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ht(xn,function(e){if(!dt){var t;t=new CustomEvent(Gr,{detail:e}),dt=!0,dispatchEvent(t),dt=!1}}),addEventListener(Gr,function(e){var t=e.detail;dt||yi(t)}));function yi(e){var t=dt;try{dt=!0,ht.storagemutated.fire(e),ci(e,!0)}finally{dt=t}}var dt=!1,vt,mi=function(){};typeof BroadcastChannel<"u"&&(mi=function(){vt=new BroadcastChannel(Gr),vt.onmessage=function(e){return e.data&&yi(e.data)}},mi(),typeof vt.unref=="function"&&vt.unref(),ht(xn,function(e){dt||vt.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!et.disableBfCache&&e.persisted){Ve&&console.debug("Dexie: handling persisted pagehide"),vt?.close();for(var t=0,n=qt;t<n.length;t++){var r=n[t];r.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(e){!et.disableBfCache&&e.persisted&&(Ve&&console.debug("Dexie: handling persisted pageshow"),mi(),yi({all:new ve(-1/0,[[]])}))}));function ns(e){return new _n({add:e})}function rs(e){return new _n({remove:e})}function is(e,t){return new _n({replacePrefix:[e,t]})}j.rejectionMapper=Fu,Wi(Ve);var as=Object.freeze({__proto__:null,Dexie:et,liveQuery:Ta,Entity:na,cmp:Z,PropModification:_n,replacePrefix:is,add:ns,remove:rs,default:et,RangeSet:ve,mergeRanges:An,rangesOverlap:ya});return v(et,as,{default:et}),et}))})(yr)),yr.exports}var Ff=Bf();const Oi=Rf(Ff),Va=Symbol.for("Dexie"),xr=globalThis[Va]||(globalThis[Va]=Oi);if(Oi.semVer!==xr.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Oi.semVer} and ${xr.semVer}`);const{liveQuery:qf,mergeRanges:Gf,rangesOverlap:Xf,RangeSet:Jf,cmp:Zf,Entity:el,PropModification:tl,replacePrefix:nl,add:rl,remove:il,DexieYProvider:al}=xr,rn=new xr("TaskPlannerDB");rn.version(1).stores({lists:"++id, name, order",tasks:"++id, text, listId, order",preferences:"key",calendarSyncState:"key"});async function jf(){return await rn.lists.orderBy("order").toArray()}async function Nf(i){return await rn.tasks.where("listId").equals(i).sortBy("order")}var Lf=Ar("<p>Loading...</p>"),$f=Ar("<li> </li>"),Vf=Ar("<div><h2> </h2> <ul></ul></div>"),zf=Ar('<main class="min-h-screen flex flex-col items-center justify-center bg-gray-50 print:bg-white print:min-h-0 print:gap-0 print:py-0 gap-4 py-8 svelte-1n46o8q"><div class="w-[1056px] flex justify-end print:hidden"><button class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Print</button></div> <div class="w-[1056px] h-[816px] bg-gray-400 print:bg-gray-400 border-2 border-gray-300 shadow-lg print:shadow-none print:border-0 print:mx-auto relative"><div class="absolute inset-[16px] border border-red-600" style="border-color: rgb(220, 38, 38);"><div class="w-full h-full p-4 overflow-auto"><!></div></div></div></main>');function Wf(i,u){nu(u,!0);let f=Qe(Bt([])),h=Qe(Bt({}));cf(()=>{async function z(){try{const Y=await jf();nt(f,Y,!0);const $={};for(const J of Y)$[J.id]=await Nf(J.id);nt(h,$,!0)}catch(Y){console.error("Error loading data:",Y)}}z()});function v(){window.print()}var p=zf(),w=yt(p),O=yt(w);O.__click=v;var E=Ma(w,2),R=yt(E),M=yt(R),K=yt(M);{var C=z=>{var Y=Lf();On(z,Y)},I=z=>{var Y=Af(),$=uf(Y);Ia($,17,()=>be(f),Da,(J,Ce)=>{var xe=Vf(),ie=yt(xe),Ee=yt(ie),de=Ma(ie,2);Ia(de,21,()=>be(h)[be(Ce).id]||[],Da,(ge,$e)=>{var oe=$f(),le=yt(oe);Ba(()=>La(le,be($e).text)),On(ge,oe)}),Ba(()=>La(Ee,be(Ce).name)),On(J,xe)}),On(z,Y)};Df(K,z=>{be(f).length===0?z(C):z(I,!1)})}On(i,p),ru()}kf(["click"]);const Uf=[{name:"Work",order:0},{name:"Personal",order:1},{name:"Shopping",order:2}],Yf=[{text:"Review project proposal",listId:1,order:0},{text:"Team meeting prep",listId:1,order:1},{text:"Update documentation",listId:1,order:2},{text:"Call dentist",listId:2,order:0},{text:"Exercise",listId:2,order:1},{text:"Buy groceries",listId:3,order:0},{text:"Pick up dry cleaning",listId:3,order:1}];async function Hf(){try{if(await rn.lists.count()>0)return;await rn.lists.bulkAdd(Uf),await rn.tasks.bulkAdd(Yf),console.log("Database seeded with mock data")}catch(i){throw console.error("Error seeding database:",i),i}}(async()=>(await Hf().catch(console.error),Tf(Wf,{target:document.getElementById("app")})))();
