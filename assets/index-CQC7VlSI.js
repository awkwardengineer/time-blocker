(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(l){if(l.ep)return;l.ep=!0;const f=a(l);fetch(l.href,f)}})();const mf="production",se=!mf.toLowerCase().startsWith("prod");var Gu=Array.isArray,yf=Array.prototype.indexOf,fs=Array.from,rr=Object.defineProperty,_r=Object.getOwnPropertyDescriptor,Uu=Object.getOwnPropertyDescriptors,gf=Object.prototype,_f=Array.prototype,ds=Object.getPrototypeOf,du=Object.isExtensible;const pa=()=>{};function bf(e){for(var r=0;r<e.length;r++)e[r]()}function Vu(){var e,r,a=new Promise((s,l)=>{e=s,r=l});return{promise:a,resolve:e,reject:r}}const bt=2,hs=4,vs=8,wf=1<<24,Pn=16,Ln=32,Ar=64,Ma=128,ln=512,Dt=1024,Gt=2048,Mn=4096,Yt=8192,On=16384,ps=32768,Ur=65536,ma=1<<17,Hu=1<<18,Xr=1<<19,Ef=1<<20,ir=32768,Go=1<<21,Na=1<<22,Xn=1<<23,Cn=Symbol("$state"),xf=Symbol("legacy props"),Tf=Symbol(""),Wu=Symbol("proxy path"),Fr=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Af(){if(se){const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function hu(){if(se){const e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function kf(){if(se){const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function Df(e){if(se){const r=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function If(){if(se){const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Sf(e){if(se){const r=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/effect_orphan")}function Of(){if(se){const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Cf(e){if(se){const r=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/props_invalid_value")}function Rf(e){if(se){const r=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Pf(){if(se){const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Lf(){if(se){const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Mf(){if(se){const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Nf(){if(se){const e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Yu=1,qu=2,Zu=4,Kf=8,Ff=16,Bf=1,jf=4,zf=8,Gf=16,Uf=1,Vf=2,xt=Symbol(),Hf=Symbol("filename"),Wf="http://www.w3.org/1999/xhtml";var Qu="font-weight: bold",Xu="font-weight: normal";function Ro(e){se?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,Qu,Xu):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Yf(){se?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",Qu,Xu):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function $u(e){return e===this.v}function Ju(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function el(e){return!Ju(e,this.v)}let qf=!1;function pn(e,r){return e.label=r,tl(e.v,r),e}function tl(e,r){return e?.[Wu]?.(r),e}function Zf(e){const r=new Error,a=Qf();return a.length===0?null:(a.unshift(`
`),rr(r,"stack",{value:a.join(`
`)}),rr(r,"name",{value:e}),r)}function Qf(){const e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const r=new Error().stack;if(Error.stackTraceLimit=e,!r)return[];const a=r.split(`
`),s=[];for(let l=0;l<a.length;l++){const f=a[l],h=f.replaceAll("\\","/");if(f.trim()!=="Error"){if(f.includes("validate_each_keys"))return[];h.includes("svelte/src/internal")||h.includes("node_modules/.vite")||s.push(f)}}return s}let Bt=null;function Vr(e){Bt=e}let Ei=null;function ya(e){Ei=e}let Si=null;function vu(e){Si=e}function kr(e,r=!1,a){Bt={p:Bt,i:!1,c:null,e:null,s:e,x:null,l:null},se&&(Bt.function=a,Si=a)}function Dr(e){var r=Bt,a=r.e;if(a!==null){r.e=null;for(var s of a)yl(s)}return r.i=!0,Bt=r.p,se&&(Si=Bt?.function??null),{}}function nl(){return!0}let gr=[];function rl(){var e=gr;gr=[],bf(e)}function $r(e){if(gr.length===0&&!gi){var r=gr;queueMicrotask(()=>{r===gr&&rl()})}gr.push(e)}function Xf(){for(;gr.length>0;)rl()}const Uo=new WeakMap;function il(e){var r=Ne;if(r===null)return Le.f|=Xn,e;if(se&&e instanceof Error&&!Uo.has(e)&&Uo.set(e,$f(e,r)),(r.f&ps)===0){if((r.f&Ma)===0)throw se&&!r.parent&&e instanceof Error&&al(e),e;r.b.error(e)}else Hr(e,r)}function Hr(e,r){for(;r!==null;){if((r.f&Ma)!==0)try{r.b.error(e);return}catch(a){e=a}r=r.parent}throw se&&e instanceof Error&&al(e),e}function $f(e,r){const a=_r(e,"message");if(!(a&&!a.configurable)){for(var s=gs?"  ":"	",l=`
${s}in ${r.fn?.name||"<unknown>"}`,f=r.ctx;f!==null;)l+=`
${s}in ${f.function?.[Hf].split("/").pop()}`,f=f.p;return{message:e.message+`
${l}
`,stack:e.stack?.split(`
`).filter(h=>!h.includes("svelte/src/internal")).join(`
`)}}}function al(e){const r=Uo.get(e);r&&(rr(e,"message",{value:r.message}),rr(e,"stack",{value:r.stack}))}const oa=new Set;let Fe=null,ca=null,en=null,$t=[],Ka=null,Vo=!1,gi=!1;class bn{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#u=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(r){$t=[],ca=null,this.apply();var a={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of r)this.#o(s,a);this.is_fork||this.#c(),this.is_deferred()?(this.#s(a.effects),this.#s(a.render_effects),this.#s(a.block_effects)):(ca=this,Fe=null,pu(a.render_effects),pu(a.effects),ca=null,this.#u?.resolve()),en=null}#o(r,a){r.f^=Dt;for(var s=r.first;s!==null;){var l=s.f,f=(l&(Ln|Ar))!==0,h=f&&(l&Dt)!==0,y=h||(l&Yt)!==0||this.skipped_effects.has(s);if((s.f&Ma)!==0&&s.b?.is_pending()&&(a={parent:a,effect:s,effects:[],render_effects:[],block_effects:[]}),!y&&s.fn!==null){f?s.f^=Dt:(l&hs)!==0?a.effects.push(s):Ci(s)&&((s.f&Pn)!==0&&a.block_effects.push(s),Ai(s));var g=s.first;if(g!==null){s=g;continue}}var w=s.parent;for(s=s.next;s===null&&w!==null;)w===a.effect&&(this.#s(a.effects),this.#s(a.render_effects),this.#s(a.block_effects),a=a.parent),s=w.next,w=w.parent}}#s(r){for(const a of r)((a.f&Gt)!==0?this.#a:this.#i).push(a),this.#l(a.deps),It(a,Dt)}#l(r){if(r!==null)for(const a of r)(a.f&bt)===0||(a.f&ir)===0||(a.f^=ir,this.#l(a.deps))}capture(r,a){this.previous.has(r)||this.previous.set(r,a),(r.f&Xn)===0&&(this.current.set(r,r.v),en?.set(r,r.v))}activate(){Fe=this,this.apply()}deactivate(){Fe===this&&(Fe=null,en=null)}flush(){if(this.activate(),$t.length>0){if(ol(),Fe!==null&&Fe!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const r of this.#t)r(this);this.#t.clear()}#c(){if(this.#n===0){for(const r of this.#e)r();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(oa.size>1){this.previous.clear();var r=en,a=!0,s={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const f of oa){if(f===this){a=!1;continue}const h=[];for(const[g,w]of this.current){if(f.current.has(g))if(a&&w!==f.current.get(g))f.current.set(g,w);else continue;h.push(g)}if(h.length===0)continue;const y=[...f.current.keys()].filter(g=>!this.current.has(g));if(y.length>0){var l=$t;$t=[];const g=new Set,w=new Map;for(const E of h)sl(E,y,g,w);if($t.length>0){Fe=f,f.apply();for(const E of $t)f.#o(E,s);f.deactivate()}$t=l}}Fe=null,en=r}this.committed=!0,oa.delete(this)}increment(r){this.#r+=1,r&&(this.#n+=1)}decrement(r){this.#r-=1,r&&(this.#n-=1),this.revive()}revive(){for(const r of this.#a)It(r,Gt),xr(r);for(const r of this.#i)It(r,Mn),xr(r);this.#a=[],this.#i=[],this.flush()}oncommit(r){this.#e.add(r)}ondiscard(r){this.#t.add(r)}settled(){return(this.#u??=Vu()).promise}static ensure(){if(Fe===null){const r=Fe=new bn;oa.add(Fe),gi||bn.enqueue(()=>{Fe===r&&r.flush()})}return Fe}static enqueue(r){$r(r)}apply(){}}function Jf(e){var r=gi;gi=!0;try{for(var a;;){if(Xf(),$t.length===0&&(Fe?.flush(),$t.length===0))return Ka=null,a;ol()}}finally{gi=r}}function ol(){var e=Jn;Vo=!0;var r=se?new Set:null;try{var a=0;for(ba(!0);$t.length>0;){var s=bn.ensure();if(a++>1e3){if(se){var l=new Map;for(const h of s.current.keys())for(const[y,g]of h.updated??[]){var f=l.get(y);f||(f={error:g.error,count:0},l.set(y,f)),f.count+=g.count}for(const h of l.values())h.error&&console.error(h.error)}ed()}if(s.process($t),$n.clear(),se)for(const h of s.current.keys())r.add(h)}}finally{if(Vo=!1,ba(e),Ka=null,se)for(const h of r)h.updated=null}}function ed(){try{Of()}catch(e){se&&rr(e,"stack",{value:""}),Hr(e,Ka)}}let In=null;function pu(e){var r=e.length;if(r!==0){for(var a=0;a<r;){var s=e[a++];if((s.f&(On|Yt))===0&&Ci(s)&&(In=new Set,Ai(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?wl(s):s.fn=null),In?.size>0)){$n.clear();for(const l of In){if((l.f&(On|Yt))!==0)continue;const f=[l];let h=l.parent;for(;h!==null;)In.has(h)&&(In.delete(h),f.push(h)),h=h.parent;for(let y=f.length-1;y>=0;y--){const g=f[y];(g.f&(On|Yt))===0&&Ai(g)}}In.clear()}}In=null}}function sl(e,r,a,s){if(!a.has(e)&&(a.add(e),e.reactions!==null))for(const l of e.reactions){const f=l.f;(f&bt)!==0?sl(l,r,a,s):(f&(Na|Pn))!==0&&(f&Gt)===0&&ul(l,r,s)&&(It(l,Gt),xr(l))}}function ul(e,r,a){const s=a.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const l of e.deps){if(r.includes(l))return!0;if((l.f&bt)!==0&&ul(l,r,a))return a.set(l,!0),!0}return a.set(e,!1),!1}function xr(e){for(var r=Ka=e;r.parent!==null;){r=r.parent;var a=r.f;if(Vo&&r===Ne&&(a&Pn)!==0&&(a&Hu)===0)return;if((a&(Ar|Ln))!==0){if((a&Dt)===0)return;r.f^=Dt}}$t.push(r)}function td(e){let r=0,a=Tr(0),s;return se&&pn(a,"createSubscriber version"),()=>{xi()&&(m(a),ja(()=>(r===0&&(s=Jr(()=>e(()=>_i(a)))),r+=1,()=>{$r(()=>{r-=1,r===0&&(s?.(),s=void 0,_i(a))})})))}}var nd=Ur|Xr|Ma;function rd(e,r,a){new id(e,r,a)}class id{parent;#e=!1;#t;#r=null;#n;#u;#a;#i=null;#o=null;#s=null;#l=null;#c=null;#f=0;#h=0;#v=!1;#d=null;#_=td(()=>(this.#d=Tr(this.#f),se&&pn(this.#d,"$effect.pending()"),()=>{this.#d=null}));constructor(r,a,s){this.#t=r,this.#n=a,this.#u=s,this.parent=Ne.b,this.#e=!!this.#n.pending,this.#a=bs(()=>{Ne.b=this;{var l=this.#y();try{this.#i=Jt(()=>s(l))}catch(f){this.error(f)}this.#h>0?this.#m():this.#e=!1}return()=>{this.#c?.remove()}},nd)}#b(){try{this.#i=Jt(()=>this.#u(this.#t))}catch(r){this.error(r)}this.#e=!1}#w(){const r=this.#n.pending;r&&(this.#o=Jt(()=>r(this.#t)),bn.enqueue(()=>{var a=this.#y();this.#i=this.#p(()=>(bn.ensure(),Jt(()=>this.#u(a)))),this.#h>0?this.#m():(jr(this.#o,()=>{this.#o=null}),this.#e=!1)}))}#y(){var r=this.#t;return this.#e&&(this.#c=ar(),this.#t.before(this.#c),r=this.#c),r}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(r){var a=Ne,s=Le,l=Bt;un(this.#a),Ft(this.#a),Vr(this.#a.ctx);try{return r()}catch(f){return il(f),null}finally{un(a),Ft(s),Vr(l)}}#m(){const r=this.#n.pending;this.#i!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#c),Tl(this.#i,this.#l)),this.#o===null&&(this.#o=Jt(()=>r(this.#t)))}#g(r){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(r);return}this.#h+=r,this.#h===0&&(this.#e=!1,this.#o&&jr(this.#o,()=>{this.#o=null}),this.#l&&(this.#t.before(this.#l),this.#l=null))}update_pending_count(r){this.#g(r),this.#f+=r,this.#d&&Yr(this.#d,this.#f)}get_effect_pending(){return this.#_(),m(this.#d)}error(r){var a=this.#n.onerror;let s=this.#n.failed;if(this.#v||!a&&!s)throw r;this.#i&&(jt(this.#i),this.#i=null),this.#o&&(jt(this.#o),this.#o=null),this.#s&&(jt(this.#s),this.#s=null);var l=!1,f=!1;const h=()=>{if(l){Yf();return}l=!0,f&&Nf(),bn.ensure(),this.#f=0,this.#s!==null&&jr(this.#s,()=>{this.#s=null}),this.#e=this.has_pending_snippet(),this.#i=this.#p(()=>(this.#v=!1,Jt(()=>this.#u(this.#t)))),this.#h>0?this.#m():this.#e=!1};var y=Le;try{Ft(null),f=!0,a?.(r,h),f=!1}catch(g){Hr(g,this.#a&&this.#a.parent)}finally{Ft(y)}s&&$r(()=>{this.#s=this.#p(()=>{bn.ensure(),this.#v=!0;try{return Jt(()=>{s(this.#t,()=>r,()=>h)})}catch(g){return Hr(g,this.#a.parent),null}finally{this.#v=!1}})})}}function fa(e,r){return r}function ad(e,r,a){for(var s=[],l=r.length,f=0;f<l;f++)ws(r[f].e,s,!0);El(s,()=>{var h=s.length===0&&a!==null;if(h){var y=a,g=y.parentNode;_d(g),g.append(y),e.items.clear(),mn(e,r[0].prev,r[l-1].next)}for(var w=0;w<l;w++){var E=r[w];h||(e.items.delete(E.k),mn(e,E.prev,E.next)),jt(E.e,!h)}e.first===r[0]&&(e.first=r[0].prev)})}function br(e,r,a,s,l,f=null){var h=e,y=new Map,g=null,w=(r&Zu)!==0,E=(r&Yu)!==0,I=(r&qu)!==0;if(w){var b=e;h=b.appendChild(ar())}var T=null,L=ll(()=>{var Y=a();return Gu(Y)?Y:Y==null?[]:fs(Y)}),K,F=!0;function N(){od(Q,K,h,r,s),T!==null&&(K.length===0?(T.fragment?(h.before(T.fragment),T.fragment=null):Es(T.effect),H.first=T.effect):jr(T.effect,()=>{T=null}))}var H=bs(()=>{K=m(L);for(var Y=K.length,ne=new Set,oe=Fe,me=null,pe=ml(),ce=0;ce<Y;ce+=1){var be=K[ce],ye=s(be,ce),De=F?null:y.get(ye);De?(E&&Yr(De.v,be),I?Yr(De.i,ce):De.i=ce,pe&&oe.skipped_effects.delete(De.e)):(De=sd(F?h:null,me,be,ye,ce,l,r,a),F&&(De.o=!0,me===null?g=De:me.next=De,me=De),y.set(ye,De)),ne.add(ye)}if(Y===0&&f&&!T)if(F)T={fragment:null,effect:Jt(()=>f(h))};else{var Ye=document.createDocumentFragment(),Be=ar();Ye.append(Be),T={fragment:Ye,effect:Jt(()=>f(Be))}}if(!F)if(pe){for(const[Ze,ot]of y)ne.has(Ze)||oe.skipped_effects.add(ot.e);oe.oncommit(N),oe.ondiscard(()=>{})}else N();m(L)}),Q={effect:H,items:y,first:g};F=!1}function od(e,r,a,s,l){var f=(s&Kf)!==0,h=r.length,y=e.items,g=e.first,w,E=null,I,b=[],T=[],L,K,F,N;if(f)for(N=0;N<h;N+=1)L=r[N],K=l(L,N),F=y.get(K),F.o&&(F.a?.measure(),(I??=new Set).add(F));for(N=0;N<h;N+=1){if(L=r[N],K=l(L,N),F=y.get(K),e.first??=F,!F.o){F.o=!0;var H=E?E.next:g;mn(e,E,F),mn(e,F,H),Po(F,H,a),E=F,b=[],T=[],g=E.next;continue}if((F.e.f&Yt)!==0&&(Es(F.e),f&&(F.a?.unfix(),(I??=new Set).delete(F))),F!==g){if(w!==void 0&&w.has(F)){if(b.length<T.length){var Q=T[0],Y;E=Q.prev;var ne=b[0],oe=b[b.length-1];for(Y=0;Y<b.length;Y+=1)Po(b[Y],Q,a);for(Y=0;Y<T.length;Y+=1)w.delete(T[Y]);mn(e,ne.prev,oe.next),mn(e,E,ne),mn(e,oe,Q),g=Q,E=oe,N-=1,b=[],T=[]}else w.delete(F),Po(F,g,a),mn(e,F.prev,F.next),mn(e,F,E===null?e.first:E.next),mn(e,E,F),E=F;continue}for(b=[],T=[];g!==null&&g.k!==K;)(g.e.f&Yt)===0&&(w??=new Set).add(g),T.push(g),g=g.next;if(g===null)continue;F=g}b.push(F),E=F,g=F.next}if(g!==null||w!==void 0){for(var me=w===void 0?[]:fs(w);g!==null;)(g.e.f&Yt)===0&&me.push(g),g=g.next;var pe=me.length;if(pe>0){var ce=(s&Zu)!==0&&h===0?a:null;if(f){for(N=0;N<pe;N+=1)me[N].a?.measure();for(N=0;N<pe;N+=1)me[N].a?.fix()}ad(e,me,ce)}}f&&$r(()=>{if(I!==void 0)for(F of I)F.a?.apply()})}function sd(e,r,a,s,l,f,h,y){var g=(h&Yu)!==0,w=(h&Ff)===0,E=g?w?fl(a,!1,!1):Tr(a):a,I=(h&qu)===0?l:Tr(l);se&&g&&(E.trace=()=>{var L=typeof I=="number"?l:I.v;y()[L]});var b={i:I,v:E,k:s,a:null,e:null,o:!1,prev:r,next:null};try{if(e===null){var T=document.createDocumentFragment();T.append(e=ar())}return b.e=Jt(()=>f(e,E,I,y)),r!==null&&(r.next=b),b}finally{}}function Po(e,r,a){for(var s=e.next?e.next.e.nodes_start:a,l=r?r.e.nodes_start:a,f=e.e.nodes_start;f!==null&&f!==s;){var h=Oi(f);l.before(f),f=h}}function mn(e,r,a){r===null?(e.first=a,e.effect.first=a&&a.e):(r.e===e.effect.last&&a!==null&&(e.effect.last=a.e),r.e.next&&(r.e.next.prev=null),r.next=a,r.e.next=a&&a.e),a===null?e.effect.last=r&&r.e:(a.e===e.effect.last&&r===null&&(e.effect.last=a.e.prev),a.e.prev&&(a.e.prev.next=null),a.prev=r,a.e.prev=r&&r.e)}function ud(e,r,a,s){const l=Fa;if(a.length===0&&e.length===0){s(r.map(l));return}var f=Fe,h=Ne,y=ld();function g(){Promise.all(a.map(w=>fd(w))).then(w=>{y();try{s([...r.map(l),...w])}catch(E){(h.f&On)===0&&Hr(E,h)}f?.deactivate(),ga()}).catch(w=>{Hr(w,h)})}e.length>0?Promise.all(e).then(()=>{y();try{return g()}finally{f?.deactivate(),ga()}}):g()}function ld(){var e=Ne,r=Le,a=Bt,s=Fe;if(se)var l=Ei;return function(h=!0){un(e),Ft(r),Vr(a),h&&s?.activate(),se&&ya(l)}}function ga(){un(null),Ft(null),Vr(null),se&&ya(null)}const cd=new Set;function Fa(e){var r=bt|Gt,a=Le!==null&&(Le.f&bt)!==0?Le:null;return Ne!==null&&(Ne.f|=Xr),{ctx:Bt,deps:null,effects:null,equals:$u,f:r,fn:e,reactions:null,rv:0,v:xt,wv:0,parent:a??Ne,ac:null}}function fd(e,r){let a=Ne;a===null&&Af();var s=a.b,l=void 0,f=Tr(xt),h=!Le,y=new Map;return Ad(()=>{var g=Vu();l=g.promise;try{Promise.resolve(e()).then(g.resolve,g.reject).then(()=>{w===Fe&&w.committed&&w.deactivate(),ga()})}catch(b){g.reject(b),ga()}var w=Fe;if(h){var E=!s.is_pending();s.update_pending_count(1),w.increment(E),y.get(w)?.reject(Fr),y.delete(w),y.set(w,g)}const I=(b,T=void 0)=>{if(w.activate(),T)T!==Fr&&(f.f|=Xn,Yr(f,T));else{(f.f&Xn)!==0&&(f.f^=Xn),Yr(f,b);for(const[L,K]of y){if(y.delete(L),L===w)break;K.reject(Fr)}}h&&(s.update_pending_count(-1),w.decrement(E))};g.promise.then(I,b=>I(null,b||"unknown"))}),_s(()=>{for(const g of y.values())g.reject(Fr)}),se&&(f.f|=Na),new Promise(g=>{function w(E){function I(){E===l?g(f):w(l)}E.then(I,I)}w(l)})}function At(e){const r=Fa(e);return Al(r),r}function ll(e){const r=Fa(e);return r.equals=el,r}function Ho(e){var r=e.effects;if(r!==null){e.effects=null;for(var a=0;a<r.length;a+=1)jt(r[a])}}let Lo=[];function dd(e){for(var r=e.parent;r!==null;){if((r.f&bt)===0)return(r.f&On)===0?r:null;r=r.parent}return null}function ms(e){var r,a=Ne;if(un(dd(e)),se){let s=Wr;mu(new Set);try{Lo.includes(e)&&kf(),Lo.push(e),e.f&=~ir,Ho(e),r=Wo(e)}finally{un(a),mu(s),Lo.pop()}}else try{e.f&=~ir,Ho(e),r=Wo(e)}finally{un(a)}return r}function cl(e){var r=ms(e);if(e.equals(r)||(Fe?.is_fork||(e.v=r),e.wv=Dl()),!Ir)if(en!==null)(xi()||Fe?.is_fork)&&en.set(e,r);else{var a=(e.f&ln)===0?Mn:Dt;It(e,a)}}let Wr=new Set;const $n=new Map;function mu(e){Wr=e}let ys=!1;function hd(){ys=!0}function Tr(e,r){var a={f:0,v:e,reactions:null,equals:$u,rv:0,wv:0};return a}function _e(e,r){const a=Tr(e);return Al(a),a}function fl(e,r=!1,a=!0){const s=Tr(e);return r||(s.equals=el),s}function O(e,r,a=!1){Le!==null&&(!wn||(Le.f&ma)!==0)&&nl()&&(Le.f&(bt|Pn|Na|ma))!==0&&!Rn?.includes(e)&&Mf();let s=a?Wt(r):r;return se&&tl(s,e.label),Yr(e,s)}function Yr(e,r){if(!e.equals(r)){var a=e.v;Ir?$n.set(e,r):$n.set(e,a),e.v=r;var s=bn.ensure();if(s.capture(e,a),se){if(Ne!==null){e.updated??=new Map;const l=(e.updated.get("")?.count??0)+1;if(e.updated.set("",{error:null,count:l}),l>5){const f=Zf("updated at");if(f!==null){let h=e.updated.get(f.stack);h||(h={error:f,count:0},e.updated.set(f.stack,h)),h.count++}}}Ne!==null&&(e.set_during_effect=!0)}(e.f&bt)!==0&&((e.f&Gt)!==0&&ms(e),It(e,(e.f&ln)!==0?Dt:Mn)),e.wv=Dl(),hl(e,Gt),Ne!==null&&(Ne.f&Dt)!==0&&(Ne.f&(Ln|Ar))===0&&(Qt===null?Id([e]):Qt.push(e)),!s.is_fork&&Wr.size>0&&!ys&&dl()}return r}function dl(){ys=!1;var e=Jn;ba(!0);const r=Array.from(Wr);try{for(const a of r)(a.f&Dt)!==0&&It(a,Mn),Ci(a)&&Ai(a)}finally{ba(e)}Wr.clear()}function _i(e){O(e,e.v+1)}function hl(e,r){var a=e.reactions;if(a!==null)for(var s=a.length,l=0;l<s;l++){var f=a[l],h=f.f;if(se&&(h&ma)!==0){Wr.add(f);continue}var y=(h&Gt)===0;if(y&&It(f,r),(h&bt)!==0){var g=f;en?.delete(g),(h&ir)===0&&(h&ln&&(f.f|=ir),hl(g,Mn))}else y&&((h&Pn)!==0&&In!==null&&In.add(f),xr(f))}}const vd=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function Wt(e){if(typeof e!="object"||e===null||Cn in e)return e;const r=ds(e);if(r!==gf&&r!==_f)return e;var a=new Map,s=Gu(e),l=_e(0),f=wr,h=E=>{if(wr===f)return E();var I=Le,b=wr;Ft(null),bu(f);var T=E();return Ft(I),bu(b),T};s&&(a.set("length",_e(e.length)),se&&(e=md(e)));var y="";let g=!1;function w(E){if(!g){g=!0,y=E,pn(l,`${y} version`);for(const[I,b]of a)pn(b,vr(y,I));g=!1}}return new Proxy(e,{defineProperty(E,I,b){(!("value"in b)||b.configurable===!1||b.enumerable===!1||b.writable===!1)&&Pf();var T=a.get(I);return T===void 0?T=h(()=>{var L=_e(b.value);return a.set(I,L),se&&typeof I=="string"&&pn(L,vr(y,I)),L}):O(T,b.value,!0),!0},deleteProperty(E,I){var b=a.get(I);if(b===void 0){if(I in E){const T=h(()=>_e(xt));a.set(I,T),_i(l),se&&pn(T,vr(y,I))}}else O(b,xt),_i(l);return!0},get(E,I,b){if(I===Cn)return e;if(se&&I===Wu)return w;var T=a.get(I),L=I in E;if(T===void 0&&(!L||_r(E,I)?.writable)&&(T=h(()=>{var F=Wt(L?E[I]:xt),N=_e(F);return se&&pn(N,vr(y,I)),N}),a.set(I,T)),T!==void 0){var K=m(T);return K===xt?void 0:K}return Reflect.get(E,I,b)},getOwnPropertyDescriptor(E,I){var b=Reflect.getOwnPropertyDescriptor(E,I);if(b&&"value"in b){var T=a.get(I);T&&(b.value=m(T))}else if(b===void 0){var L=a.get(I),K=L?.v;if(L!==void 0&&K!==xt)return{enumerable:!0,configurable:!0,value:K,writable:!0}}return b},has(E,I){if(I===Cn)return!0;var b=a.get(I),T=b!==void 0&&b.v!==xt||Reflect.has(E,I);if(b!==void 0||Ne!==null&&(!T||_r(E,I)?.writable)){b===void 0&&(b=h(()=>{var K=T?Wt(E[I]):xt,F=_e(K);return se&&pn(F,vr(y,I)),F}),a.set(I,b));var L=m(b);if(L===xt)return!1}return T},set(E,I,b,T){var L=a.get(I),K=I in E;if(s&&I==="length")for(var F=b;F<L.v;F+=1){var N=a.get(F+"");N!==void 0?O(N,xt):F in E&&(N=h(()=>_e(xt)),a.set(F+"",N),se&&pn(N,vr(y,F)))}if(L===void 0)(!K||_r(E,I)?.writable)&&(L=h(()=>_e(void 0)),se&&pn(L,vr(y,I)),O(L,Wt(b)),a.set(I,L));else{K=L.v!==xt;var H=h(()=>Wt(b));O(L,H)}var Q=Reflect.getOwnPropertyDescriptor(E,I);if(Q?.set&&Q.set.call(T,b),!K){if(s&&typeof I=="string"){var Y=a.get("length"),ne=Number(I);Number.isInteger(ne)&&ne>=Y.v&&O(Y,ne+1)}_i(l)}return!0},ownKeys(E){m(l);var I=Reflect.ownKeys(E).filter(L=>{var K=a.get(L);return K===void 0||K.v!==xt});for(var[b,T]of a)T.v!==xt&&!(b in E)&&I.push(b);return I},setPrototypeOf(){Lf()}})}function vr(e,r){return typeof r=="symbol"?`${e}[Symbol(${r.description??""})]`:vd.test(r)?`${e}.${r}`:/^\d+$/.test(r)?`${e}[${r}]`:`${e}['${r}']`}function Mo(e){try{if(e!==null&&typeof e=="object"&&Cn in e)return e[Cn]}catch{}return e}const pd=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function md(e){return new Proxy(e,{get(r,a,s){var l=Reflect.get(r,a,s);return pd.has(a)?function(...f){hd();var h=l.apply(this,f);return dl(),h}:l}})}function yd(){const e=Array.prototype,r=Array.__svelte_cleanup;r&&r();const{indexOf:a,lastIndexOf:s,includes:l}=e;e.indexOf=function(f,h){const y=a.call(this,f,h);if(y===-1){for(let g=h??0;g<this.length;g+=1)if(Mo(this[g])===f){Ro("array.indexOf(...)");break}}return y},e.lastIndexOf=function(f,h){const y=s.call(this,f,h??this.length-1);if(y===-1){for(let g=0;g<=(h??this.length-1);g+=1)if(Mo(this[g])===f){Ro("array.lastIndexOf(...)");break}}return y},e.includes=function(f,h){const y=l.call(this,f,h);if(!y){for(let g=0;g<this.length;g+=1)if(Mo(this[g])===f){Ro("array.includes(...)");break}}return y},Array.__svelte_cleanup=()=>{e.indexOf=a,e.lastIndexOf=s,e.includes=l}}var yu,gs,vl,pl;function gd(){if(yu===void 0){yu=window,gs=/Firefox/.test(navigator.userAgent);var e=Element.prototype,r=Node.prototype,a=Text.prototype;vl=_r(r,"firstChild").get,pl=_r(r,"nextSibling").get,du(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),du(a)&&(a.__t=void 0),se&&(e.__svelte_meta=null,yd())}}function ar(e=""){return document.createTextNode(e)}function _a(e){return vl.call(e)}function Oi(e){return pl.call(e)}function xe(e,r){return _a(e)}function _t(e,r=!1){{var a=_a(e);return a instanceof Comment&&a.data===""?Oi(a):a}}function Se(e,r=1,a=!1){let s=e;for(;r--;)s=Oi(s);return s}function _d(e){e.textContent=""}function ml(){return!1}let gu=!1;function bd(){gu||(gu=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const r of e.target.elements)r.__on_r?.()})},{capture:!0}))}function Ba(e){var r=Le,a=Ne;Ft(null),un(null);try{return e()}finally{Ft(r),un(a)}}function wd(e,r,a,s=a){e.addEventListener(r,()=>Ba(a));const l=e.__on_r;l?e.__on_r=()=>{l(),s(!0)}:e.__on_r=()=>s(!0),bd()}function Ed(e){Ne===null&&(Le===null&&Sf(e),If()),Ir&&Df(e)}function xd(e,r){var a=r.last;a===null?r.last=r.first=e:(a.next=e,e.prev=a,r.last=e)}function Nn(e,r,a){var s=Ne;if(se)for(;s!==null&&(s.f&ma)!==0;)s=s.parent;s!==null&&(s.f&Yt)!==0&&(e|=Yt);var l={ctx:Bt,deps:null,nodes_start:null,nodes_end:null,f:e|Gt|ln,first:null,fn:r,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(se&&(l.component_function=Si),a)try{Ai(l),l.f|=ps}catch(y){throw jt(l),y}else r!==null&&xr(l);var f=l;if(a&&f.deps===null&&f.teardown===null&&f.nodes_start===null&&f.first===f.last&&(f.f&Xr)===0&&(f=f.first,(e&Pn)!==0&&(e&Ur)!==0&&f!==null&&(f.f|=Ur)),f!==null&&(f.parent=s,s!==null&&xd(f,s),Le!==null&&(Le.f&bt)!==0&&(e&Ar)===0)){var h=Le;(h.effects??=[]).push(f)}return l}function xi(){return Le!==null&&!wn}function _s(e){const r=Nn(vs,null,!1);return It(r,Dt),r.teardown=e,r}function Je(e){Ed("$effect"),se&&rr(e,"name",{value:"$effect"});var r=Ne.f,a=!Le&&(r&Ln)!==0&&(r&ps)===0;if(a){var s=Bt;(s.e??=[]).push(e)}else return yl(e)}function yl(e){return Nn(hs|Ef,e,!1)}function Td(e){bn.ensure();const r=Nn(Ar|Xr,e,!0);return(a={})=>new Promise(s=>{a.outro?jr(r,()=>{jt(r),s(void 0)}):(jt(r),s(void 0))})}function gl(e){return Nn(hs,e,!1)}function Ad(e){return Nn(Na|Xr,e,!0)}function ja(e,r=0){return Nn(vs|r,e,!0)}function it(e,r=[],a=[],s=[]){ud(s,r,a,l=>{Nn(vs,()=>e(...l.map(m)),!0)})}function bs(e,r=0){var a=Nn(Pn|r,e,!0);return se&&(a.dev_stack=Ei),a}function Jt(e){return Nn(Ln|Xr,e,!0)}function _l(e){var r=e.teardown;if(r!==null){const a=Ir,s=Le;_u(!0),Ft(null);try{r.call(null)}finally{_u(a),Ft(s)}}}function bl(e,r=!1){var a=e.first;for(e.first=e.last=null;a!==null;){const l=a.ac;l!==null&&Ba(()=>{l.abort(Fr)});var s=a.next;(a.f&Ar)!==0?a.parent=null:jt(a,r),a=s}}function kd(e){for(var r=e.first;r!==null;){var a=r.next;(r.f&Ln)===0&&jt(r),r=a}}function jt(e,r=!0){var a=!1;(r||(e.f&Hu)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Dd(e.nodes_start,e.nodes_end),a=!0),bl(e,r&&!a),wa(e,0),It(e,On);var s=e.transitions;if(s!==null)for(const f of s)f.stop();_l(e);var l=e.parent;l!==null&&l.first!==null&&wl(e),se&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Dd(e,r){for(;e!==null;){var a=e===r?null:Oi(e);e.remove(),e=a}}function wl(e){var r=e.parent,a=e.prev,s=e.next;a!==null&&(a.next=s),s!==null&&(s.prev=a),r!==null&&(r.first===e&&(r.first=s),r.last===e&&(r.last=a))}function jr(e,r,a=!0){var s=[];ws(e,s,!0),El(s,()=>{a&&jt(e),r&&r()})}function El(e,r){var a=e.length;if(a>0){var s=()=>--a||r();for(var l of e)l.out(s)}else r()}function ws(e,r,a){if((e.f&Yt)===0){if(e.f^=Yt,e.transitions!==null)for(const h of e.transitions)(h.is_global||a)&&r.push(h);for(var s=e.first;s!==null;){var l=s.next,f=(s.f&Ur)!==0||(s.f&Ln)!==0&&(e.f&Pn)!==0;ws(s,r,f?a:!1),s=l}}}function Es(e){xl(e,!0)}function xl(e,r){if((e.f&Yt)!==0){e.f^=Yt,(e.f&Dt)===0&&(It(e,Gt),xr(e));for(var a=e.first;a!==null;){var s=a.next,l=(a.f&Ur)!==0||(a.f&Ln)!==0;xl(a,l?r:!1),a=s}if(e.transitions!==null)for(const f of e.transitions)(f.is_global||r)&&f.in()}}function Tl(e,r){for(var a=e.nodes_start,s=e.nodes_end;a!==null;){var l=a===s?null:Oi(a);r.append(a),a=l}}let Jn=!1;function ba(e){Jn=e}let Ir=!1;function _u(e){Ir=e}let Le=null,wn=!1;function Ft(e){Le=e}let Ne=null;function un(e){Ne=e}let Rn=null;function Al(e){Le!==null&&(Rn===null?Rn=[e]:Rn.push(e))}let Ct=null,Ht=0,Qt=null;function Id(e){Qt=e}let kl=1,Ti=0,wr=Ti;function bu(e){wr=e}function Dl(){return++kl}function Ci(e){var r=e.f;if((r&Gt)!==0)return!0;if(r&bt&&(e.f&=~ir),(r&Mn)!==0){var a=e.deps;if(a!==null)for(var s=a.length,l=0;l<s;l++){var f=a[l];if(Ci(f)&&cl(f),f.wv>e.wv)return!0}(r&ln)!==0&&en===null&&It(e,Dt)}return!1}function Il(e,r,a=!0){var s=e.reactions;if(s!==null&&!Rn?.includes(e))for(var l=0;l<s.length;l++){var f=s[l];(f.f&bt)!==0?Il(f,r,!1):r===f&&(a?It(f,Gt):(f.f&Dt)!==0&&It(f,Mn),xr(f))}}function Wo(e){var r=Ct,a=Ht,s=Qt,l=Le,f=Rn,h=Bt,y=wn,g=wr,w=e.f;Ct=null,Ht=0,Qt=null,Le=(w&(Ln|Ar))===0?e:null,Rn=null,Vr(e.ctx),wn=!1,wr=++Ti,e.ac!==null&&(Ba(()=>{e.ac.abort(Fr)}),e.ac=null);try{e.f|=Go;var E=e.fn,I=E(),b=e.deps;if(Ct!==null){var T;if(wa(e,Ht),b!==null&&Ht>0)for(b.length=Ht+Ct.length,T=0;T<Ct.length;T++)b[Ht+T]=Ct[T];else e.deps=b=Ct;if(Jn&&xi()&&(e.f&ln)!==0)for(T=Ht;T<b.length;T++)(b[T].reactions??=[]).push(e)}else b!==null&&Ht<b.length&&(wa(e,Ht),b.length=Ht);if(nl()&&Qt!==null&&!wn&&b!==null&&(e.f&(bt|Mn|Gt))===0)for(T=0;T<Qt.length;T++)Il(Qt[T],e);return l!==null&&l!==e&&(Ti++,Qt!==null&&(s===null?s=Qt:s.push(...Qt))),(e.f&Xn)!==0&&(e.f^=Xn),I}catch(L){return il(L)}finally{e.f^=Go,Ct=r,Ht=a,Qt=s,Le=l,Rn=f,Vr(h),wn=y,wr=g}}function Sd(e,r){let a=r.reactions;if(a!==null){var s=yf.call(a,e);if(s!==-1){var l=a.length-1;l===0?a=r.reactions=null:(a[s]=a[l],a.pop())}}a===null&&(r.f&bt)!==0&&(Ct===null||!Ct.includes(r))&&(It(r,Mn),(r.f&ln)!==0&&(r.f^=ln,r.f&=~ir),Ho(r),wa(r,0))}function wa(e,r){var a=e.deps;if(a!==null)for(var s=r;s<a.length;s++)Sd(e,a[s])}function Ai(e){var r=e.f;if((r&On)===0){It(e,Dt);var a=Ne,s=Jn;if(Ne=e,Jn=!0,se){var l=Si;vu(e.component_function);var f=Ei;ya(e.dev_stack??Ei)}try{(r&(Pn|wf))!==0?kd(e):bl(e),_l(e);var h=Wo(e);e.teardown=typeof h=="function"?h:null,e.wv=kl;var y;se&&qf&&(e.f&Gt)!==0&&e.deps}finally{Jn=s,Ne=a,se&&(vu(l),ya(f))}}}async function qn(){await Promise.resolve(),Jf()}function m(e){var r=e.f,a=(r&bt)!==0;if(Le!==null&&!wn){var s=Ne!==null&&(Ne.f&On)!==0;if(!s&&!Rn?.includes(e)){var l=Le.deps;if((Le.f&Go)!==0)e.rv<Ti&&(e.rv=Ti,Ct===null&&l!==null&&l[Ht]===e?Ht++:Ct===null?Ct=[e]:Ct.includes(e)||Ct.push(e));else{(Le.deps??=[]).push(e);var f=e.reactions;f===null?e.reactions=[Le]:f.includes(Le)||f.push(Le)}}}if(se&&cd.delete(e),Ir){if($n.has(e))return $n.get(e);if(a){var h=e,y=h.v;return((h.f&Dt)===0&&h.reactions!==null||Ol(h))&&(y=ms(h)),$n.set(h,y),y}}else a&&(!en?.has(e)||Fe?.is_fork&&!xi())&&(h=e,Ci(h)&&cl(h),Jn&&xi()&&(h.f&ln)===0&&Sl(h));if(en?.has(e))return en.get(e);if((e.f&Xn)!==0)throw e.v;return e.v}function Sl(e){if(e.deps!==null){e.f^=ln;for(const r of e.deps)(r.reactions??=[]).push(e),(r.f&bt)!==0&&(r.f&ln)===0&&Sl(r)}}function Ol(e){if(e.v===xt)return!0;if(e.deps===null)return!1;for(const r of e.deps)if($n.has(r)||(r.f&bt)!==0&&Ol(r))return!0;return!1}function Jr(e){var r=wn;try{return wn=!0,e()}finally{wn=r}}const Od=-7169;function It(e,r){e.f=e.f&Od|r}function Cd(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Cn in e)Yo(e);else if(!Array.isArray(e))for(let r in e){const a=e[r];typeof a=="object"&&a&&Cn in a&&Yo(a)}}}function Yo(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let s in e)try{Yo(e[s],r)}catch{}const a=ds(e);if(a!==Object.prototype&&a!==Array.prototype&&a!==Map.prototype&&a!==Set.prototype&&a!==Date.prototype){const s=Uu(a);for(let l in s){const f=s[l].get;if(f)try{f.call(e)}catch{}}}}}const Rd=["touchstart","touchmove"];function Pd(e){return Rd.includes(e)}const Cl=new Set,qo=new Set;function Ld(e,r,a,s={}){function l(f){if(s.capture||mi.call(r,f),!f.cancelBubble)return Ba(()=>a?.call(this,f))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?$r(()=>{r.addEventListener(e,l,s)}):r.addEventListener(e,l,s),l}function yr(e,r,a,s,l){var f={capture:s,passive:l},h=Ld(e,r,a,f);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&_s(()=>{r.removeEventListener(e,h,f)})}function ei(e){for(var r=0;r<e.length;r++)Cl.add(e[r]);for(var a of qo)a(e)}let wu=null;function mi(e){var r=this,a=r.ownerDocument,s=e.type,l=e.composedPath?.()||[],f=l[0]||e.target;wu=e;var h=0,y=wu===e&&e.__root;if(y){var g=l.indexOf(y);if(g!==-1&&(r===document||r===window)){e.__root=r;return}var w=l.indexOf(r);if(w===-1)return;g<=w&&(h=g)}if(f=l[h]||e.target,f!==r){rr(e,"currentTarget",{configurable:!0,get(){return f||a}});var E=Le,I=Ne;Ft(null),un(null);try{for(var b,T=[];f!==null;){var L=f.assignedSlot||f.parentNode||f.host||null;try{var K=f["__"+s];K!=null&&(!f.disabled||e.target===f)&&K.call(f,e)}catch(F){b?T.push(F):b=F}if(e.cancelBubble||L===r||L===null)break;f=L}if(b){for(let F of T)queueMicrotask(()=>{throw F});throw b}}finally{e.__root=r,delete e.currentTarget,Ft(E),un(I)}}}function Md(e){var r=document.createElement("template");return r.innerHTML=e.replaceAll("<!>","<!---->"),r.content}function Zo(e,r){var a=Ne;a.nodes_start===null&&(a.nodes_start=e,a.nodes_end=r)}function Ce(e,r){var a=(r&Uf)!==0,s=(r&Vf)!==0,l,f=!e.startsWith("<!>");return()=>{l===void 0&&(l=Md(f?e:"<!>"+e),a||(l=_a(l)));var h=s||gs?document.importNode(l,!0):l.cloneNode(!0);if(a){var y=_a(h),g=h.lastChild;Zo(y,g)}else Zo(h,h);return h}}function er(){var e=document.createDocumentFragment(),r=document.createComment(""),a=ar();return e.append(r,a),Zo(r,a),e}function we(e,r){e!==null&&e.before(r)}function Zn(e,r){var a=r==null?"":typeof r=="object"?r+"":r;a!==(e.__t??=e.nodeValue)&&(e.__t=a,e.nodeValue=a+"")}function Nd(e,r){return Kd(e,r)}const Kr=new Map;function Kd(e,{target:r,anchor:a,props:s={},events:l,context:f,intro:h=!0}){gd();var y=new Set,g=I=>{for(var b=0;b<I.length;b++){var T=I[b];if(!y.has(T)){y.add(T);var L=Pd(T);r.addEventListener(T,mi,{passive:L});var K=Kr.get(T);K===void 0?(document.addEventListener(T,mi,{passive:L}),Kr.set(T,1)):Kr.set(T,K+1)}}};g(fs(Cl)),qo.add(g);var w=void 0,E=Td(()=>{var I=a??r.appendChild(ar());return rd(I,{pending:()=>{}},b=>{if(f){kr({});var T=Bt;T.c=f}l&&(s.$$events=l),w=e(b,s)||{},f&&Dr()}),()=>{for(var b of y){r.removeEventListener(b,mi);var T=Kr.get(b);--T===0?(document.removeEventListener(b,mi),Kr.delete(b)):Kr.set(b,T)}qo.delete(g),I!==a&&I.parentNode?.removeChild(I)}});return Fd.set(w,E),w}let Fd=new WeakMap;class Bd{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#u=!0;constructor(r,a=!0){this.anchor=r,this.#u=a}#a=()=>{var r=Fe;if(this.#e.has(r)){var a=this.#e.get(r),s=this.#t.get(a);if(s)Es(s),this.#n.delete(a);else{var l=this.#r.get(a);l&&(this.#t.set(a,l.effect),this.#r.delete(a),l.fragment.lastChild.remove(),this.anchor.before(l.fragment),s=l.effect)}for(const[f,h]of this.#e){if(this.#e.delete(f),f===r)break;const y=this.#r.get(h);y&&(jt(y.effect),this.#r.delete(h))}for(const[f,h]of this.#t){if(f===a||this.#n.has(f))continue;const y=()=>{if(Array.from(this.#e.values()).includes(f)){var w=document.createDocumentFragment();Tl(h,w),w.append(ar()),this.#r.set(f,{effect:h,fragment:w})}else jt(h);this.#n.delete(f),this.#t.delete(f)};this.#u||!s?(this.#n.add(f),jr(h,y,!1)):y()}}};#i=r=>{this.#e.delete(r);const a=Array.from(this.#e.values());for(const[s,l]of this.#r)a.includes(s)||(jt(l.effect),this.#r.delete(s))};ensure(r,a){var s=Fe,l=ml();if(a&&!this.#t.has(r)&&!this.#r.has(r))if(l){var f=document.createDocumentFragment(),h=ar();f.append(h),this.#r.set(r,{effect:Jt(()=>a(h)),fragment:f})}else this.#t.set(r,Jt(()=>a(this.anchor)));if(this.#e.set(s,r),l){for(const[y,g]of this.#t)y===r?s.skipped_effects.delete(g):s.skipped_effects.add(g);for(const[y,g]of this.#r)y===r?s.skipped_effects.delete(g.effect):s.skipped_effects.add(g.effect);s.oncommit(this.#a),s.ondiscard(this.#i)}else this.#a()}}function at(e,r,a=!1){var s=new Bd(e),l=a?Ur:0;function f(h,y){s.ensure(h,y)}bs(()=>{var h=!1;r((y,g=!0)=>{h=!0,f(g,y)}),h||f(!1,null)},l)}function Qo(e,r,a){gl(()=>{var s=Jr(()=>r(e,a?.())||{});if(a&&s?.update){var l=!1,f={};ja(()=>{var h=a();Cd(h),l&&Ju(f,h)&&(f=h,s.update(h))}),l=!0}if(s?.destroy)return()=>s.destroy()})}function Rl(e){var r,a,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(r=0;r<l;r++)e[r]&&(a=Rl(e[r]))&&(s&&(s+=" "),s+=a)}else for(a in e)e[a]&&(s&&(s+=" "),s+=a);return s}function jd(){for(var e,r,a=0,s="",l=arguments.length;a<l;a++)(e=arguments[a])&&(r=Rl(e))&&(s&&(s+=" "),s+=r);return s}function Pl(e){return typeof e=="object"?jd(e):e??""}function zd(e,r,a){var s=e==null?"":""+e;return r&&(s=s?s+" "+r:r),s===""?null:s}function Gd(e,r){return e==null?null:String(e)}function bi(e,r,a,s,l,f){var h=e.__className;if(h!==a||h===void 0){var y=zd(a,s);y==null?e.removeAttribute("class"):e.className=y,e.__className=a}return f}function tr(e,r,a,s){var l=e.__style;if(l!==r){var f=Gd(r);f==null?e.removeAttribute("style"):e.style.cssText=f,e.__style=r}return s}const Ud=Symbol("is custom element"),Vd=Symbol("is html");function Hd(e,r){var a=xs(e);a.value===(a.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function Ll(e,r){var a=xs(e);a.checked!==(a.checked=r??void 0)&&(e.checked=r)}function ht(e,r,a,s){var l=xs(e);l[r]!==(l[r]=a)&&(r==="loading"&&(e[Tf]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Wd(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function xs(e){return e.__attributes??={[Ud]:e.nodeName.includes("-"),[Vd]:e.namespaceURI===Wf}}var Eu=new Map;function Wd(e){var r=e.getAttribute("is")||e.nodeName,a=Eu.get(r);if(a)return a;Eu.set(r,a=[]);for(var s,l=e,f=Element.prototype;f!==l;){s=Uu(l);for(var h in s)s[h].set&&a.push(h);l=ds(l)}return a}function Ts(e,r,a=r){var s=new WeakSet;wd(e,"input",async l=>{se&&e.type==="checkbox"&&hu();var f=l?e.defaultValue:e.value;if(f=No(e)?Ko(f):f,a(f),Fe!==null&&s.add(Fe),await qn(),f!==(f=r())){var h=e.selectionStart,y=e.selectionEnd,g=e.value.length;if(e.value=f??"",y!==null){var w=e.value.length;h===y&&y===g&&w>g?(e.selectionStart=w,e.selectionEnd=w):(e.selectionStart=h,e.selectionEnd=Math.min(y,w))}}}),Jr(r)==null&&e.value&&(a(No(e)?Ko(e.value):e.value),Fe!==null&&s.add(Fe)),ja(()=>{se&&e.type==="checkbox"&&hu();var l=r();if(e===document.activeElement){var f=ca??Fe;if(s.has(f))return}No(e)&&l===Ko(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function No(e){var r=e.type;return r==="number"||r==="range"}function Ko(e){return e===""?null:+e}function xu(e,r){return e===r||e?.[Cn]===r}function En(e={},r,a,s){return gl(()=>{var l,f;return ja(()=>{l=f,f=[],Jr(()=>{e!==a(...f)&&(r(e,...f),l&&xu(a(...l),e)&&r(null,...l))})}),()=>{$r(()=>{f&&xu(a(...f),e)&&r(null,...f)})}}),e}function Ml(e,r,a){if(e==null)return r(void 0),pa;const s=Jr(()=>e.subscribe(r,a));return s.unsubscribe?()=>s.unsubscribe():s}function Yd(e){let r;return Ml(e,a=>r=a)(),r}let sa=!1,Xo=Symbol();function Ea(e,r,a){const s=a[r]??={store:null,source:fl(void 0),unsubscribe:pa};if(se&&(s.source.label=r),s.store!==e&&!(Xo in a))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=pa;else{var l=!0;s.unsubscribe=Ml(e,f=>{l?s.source.v=f:O(s.source,f)}),l=!1}return e&&Xo in a?Yd(e):m(s.source)}function xa(e,r,a){let s=a[r];return s&&s.store!==e&&(s.unsubscribe(),s.unsubscribe=pa),e}function As(){const e={};function r(){_s(()=>{for(var a in e)e[a].unsubscribe();rr(e,Xo,{enumerable:!1,value:!0})})}return[e,r]}function qd(e){var r=sa;try{return sa=!1,[e(),sa]}finally{sa=r}}function Sn(e,r,a,s){var l=(a&zf)!==0,f=(a&Gf)!==0,h=s,y=!0,g=()=>(y&&(y=!1,h=f?Jr(s):s),h),w;if(l){var E=Cn in e||xf in e;w=_r(e,r)?.set??(E&&r in e?H=>e[r]=H:void 0)}var I,b=!1;l?[I,b]=qd(()=>e[r]):I=e[r],I===void 0&&s!==void 0&&(I=g(),w&&(Cf(r),w(I)));var T;if(T=()=>{var H=e[r];return H===void 0?g():(y=!0,H)},(a&jf)===0)return T;if(w){var L=e.$$legacy;return(function(H,Q){return arguments.length>0?((!Q||L||b)&&w(Q?T():H),H):T()})}var K=!1,F=((a&Bf)!==0?Fa:ll)(()=>(K=!1,T()));se&&(F.label=r),l&&m(F);var N=Ne;return(function(H,Q){if(arguments.length>0){const Y=Q?m(F):l?Wt(H):H;return O(F,Y),K=!0,h!==void 0&&(h=Y),H}return Ir&&K||(N.f&On)!==0?F.v:m(F)})}if(se){let e=function(r){if(!(r in globalThis)){let a;Object.defineProperty(globalThis,r,{configurable:!0,get:()=>{if(a!==void 0)return a;Rf(r)},set:s=>{a=s}})}};var Dp=e;e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}const Zd="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Zd);var Qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var da={exports:{}},$d=da.exports,Tu;function Jd(){return Tu||(Tu=1,(function(e,r){(function(a,s){e.exports=s()})($d,(function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])},a(t,n)};function s(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var l=function(){return l=Object.assign||function(n){for(var i,o=1,u=arguments.length;o<u;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n},l.apply(this,arguments)};function f(t,n,i){for(var o=0,u=n.length,c;o<u;o++)(c||!(o in n))&&(c||(c=Array.prototype.slice.call(n,0,o)),c[o]=n[o]);return t.concat(c||Array.prototype.slice.call(n))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:Qd,y=Object.keys,g=Array.isArray;typeof Promise<"u"&&!h.Promise&&(h.Promise=Promise);function w(t,n){return typeof n!="object"||y(n).forEach(function(i){t[i]=n[i]}),t}var E=Object.getPrototypeOf,I={}.hasOwnProperty;function b(t,n){return I.call(t,n)}function T(t,n){typeof n=="function"&&(n=n(E(t))),(typeof Reflect>"u"?y:Reflect.ownKeys)(n).forEach(function(i){K(t,i,n[i])})}var L=Object.defineProperty;function K(t,n,i,o){L(t,n,w(i&&b(i,"get")&&typeof i.get=="function"?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},o))}function F(t){return{from:function(n){return t.prototype=Object.create(n.prototype),K(t.prototype,"constructor",t),{extend:T.bind(null,t.prototype)}}}}var N=Object.getOwnPropertyDescriptor;function H(t,n){var i=N(t,n),o;return i||(o=E(t))&&H(o,n)}var Q=[].slice;function Y(t,n,i){return Q.call(t,n,i)}function ne(t,n){return n(t)}function oe(t){if(!t)throw new Error("Assertion Failed")}function me(t){h.setImmediate?setImmediate(t):setTimeout(t,0)}function pe(t,n){return t.reduce(function(i,o,u){var c=n(o,u);return c&&(i[c[0]]=c[1]),i},{})}function ce(t,n){if(typeof n=="string"&&b(t,n))return t[n];if(!n)return t;if(typeof n!="string"){for(var i=[],o=0,u=n.length;o<u;++o){var c=ce(t,n[o]);i.push(c)}return i}var d=n.indexOf(".");if(d!==-1){var v=t[n.substr(0,d)];return v==null?void 0:ce(v,n.substr(d+1))}}function be(t,n,i){if(!(!t||n===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof n!="string"&&"length"in n){oe(typeof i!="string"&&"length"in i);for(var o=0,u=n.length;o<u;++o)be(t,n[o],i[o])}else{var c=n.indexOf(".");if(c!==-1){var d=n.substr(0,c),v=n.substr(c+1);if(v==="")i===void 0?g(t)&&!isNaN(parseInt(d))?t.splice(d,1):delete t[d]:t[d]=i;else{var p=t[d];(!p||!b(t,d))&&(p=t[d]={}),be(p,v,i)}}else i===void 0?g(t)&&!isNaN(parseInt(n))?t.splice(n,1):delete t[n]:t[n]=i}}function ye(t,n){typeof n=="string"?be(t,n,void 0):"length"in n&&[].map.call(n,function(i){be(t,i,void 0)})}function De(t){var n={};for(var i in t)b(t,i)&&(n[i]=t[i]);return n}var Ye=[].concat;function Be(t){return Ye.apply([],t)}var Ze="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Be([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(n){return n+t+"Array"})}))).filter(function(t){return h[t]}),ot=new Set(Ze.map(function(t){return h[t]}));function Ke(t){var n={};for(var i in t)if(b(t,i)){var o=t[i];n[i]=!o||typeof o!="object"||ot.has(o.constructor)?o:Ke(o)}return n}function Pt(t){for(var n in t)if(b(t,n))return!1;return!0}var Ue=null;function qe(t){Ue=new WeakMap;var n=ft(t);return Ue=null,n}function ft(t){if(!t||typeof t!="object")return t;var n=Ue.get(t);if(n)return n;if(g(t)){n=[],Ue.set(t,n);for(var i=0,o=t.length;i<o;++i)n.push(ft(t[i]))}else if(ot.has(t.constructor))n=t;else{var u=E(t);n=u===Object.prototype?{}:Object.create(u),Ue.set(t,n);for(var c in t)b(t,c)&&(n[c]=ft(t[c]))}return n}var Ut={}.toString;function nn(t){return Ut.call(t).slice(8,-1)}var pt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",et=typeof pt=="symbol"?function(t){var n;return t!=null&&(n=t[pt])&&n.apply(t)}:function(){return null};function Ve(t,n){var i=t.indexOf(n);return i>=0&&t.splice(i,1),i>=0}var mt={};function St(t){var n,i,o,u;if(arguments.length===1){if(g(t))return t.slice();if(this===mt&&typeof t=="string")return[t];if(u=et(t)){for(i=[];o=u.next(),!o.done;)i.push(o.value);return i}if(t==null)return[t];if(n=t.length,typeof n=="number"){for(i=new Array(n);n--;)i[n]=t[n];return i}return[t]}for(n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];return i}var xn=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},sr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],tt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],st=sr.concat(tt),cn={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function q(t,n){this.name=t,this.message=n}F(q).from(Error).extend({toString:function(){return this.name+": "+this.message}});function W(t,n){return t+". Errors: "+Object.keys(n).map(function(i){return n[i].toString()}).filter(function(i,o,u){return u.indexOf(i)===o}).join(`
`)}function re(t,n,i,o){this.failures=n,this.failedKeys=o,this.successCount=i,this.message=W(t,n)}F(re).from(q);function ve(t,n){this.name="BulkError",this.failures=Object.keys(n).map(function(i){return n[i]}),this.failuresByPos=n,this.message=W(t,this.failures)}F(ve).from(q);var ge=st.reduce(function(t,n){return t[n]=n+"Error",t},{}),je=q,te=st.reduce(function(t,n){var i=n+"Error";function o(u,c){this.name=i,u?typeof u=="string"?(this.message="".concat(u).concat(c?`
 `+c:""),this.inner=c||null):typeof u=="object"&&(this.message="".concat(u.name," ").concat(u.message),this.inner=u):(this.message=cn[n]||i,this.inner=null)}return F(o).from(je),t[n]=o,t},{});te.Syntax=SyntaxError,te.Type=TypeError,te.Range=RangeError;var z=tt.reduce(function(t,n){return t[n+"Error"]=te[n],t},{});function D(t,n){if(!t||t instanceof q||t instanceof TypeError||t instanceof SyntaxError||!t.name||!z[t.name])return t;var i=new z[t.name](n||t.message,t);return"stack"in t&&K(i,"stack",{get:function(){return this.inner.stack}}),i}var C=st.reduce(function(t,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(t[n+"Error"]=te[n]),t},{});C.ModifyError=re,C.DexieError=q,C.BulkError=ve;function M(){}function X(t){return t}function Te(t,n){return t==null||t===X?n:function(i){return n(t(i))}}function fe(t,n){return function(){t.apply(this,arguments),n.apply(this,arguments)}}function Ee(t,n){return t===M?n:function(){var i=t.apply(this,arguments);i!==void 0&&(arguments[0]=i);var o=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var c=n.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?fe(o,this.onsuccess):o),u&&(this.onerror=this.onerror?fe(u,this.onerror):u),c!==void 0?c:i}}function Me(t,n){return t===M?n:function(){t.apply(this,arguments);var i=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?fe(i,this.onsuccess):i),o&&(this.onerror=this.onerror?fe(o,this.onerror):o)}}function Qe(t,n){return t===M?n:function(i){var o=t.apply(this,arguments);w(i,o);var u=this.onsuccess,c=this.onerror;this.onsuccess=null,this.onerror=null;var d=n.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?fe(u,this.onsuccess):u),c&&(this.onerror=this.onerror?fe(c,this.onerror):c),o===void 0?d===void 0?void 0:d:w(o,d)}}function ze(t,n){return t===M?n:function(){return n.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function lt(t,n){return t===M?n:function(){var i=t.apply(this,arguments);if(i&&typeof i.then=="function"){for(var o=this,u=arguments.length,c=new Array(u);u--;)c[u]=arguments[u];return i.then(function(){return n.apply(o,c)})}return n.apply(this,arguments)}}var Lt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Ge(t,n){Lt=t}var Oe={},qt=100,rn=typeof Promise>"u"?[]:(function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,E(t),t];var n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,E(n),t]})(),Sr=rn[0],Xe=rn[1],Mi=rn[2],Qa=Xe&&Xe.then,Tn=Sr&&Sr.constructor,ti=!!Mi;function fn(){queueMicrotask(nc)}var Ot=function(t,n){ri.push([t,n]),Kn&&(fn(),Kn=!1)},ni=!0,Kn=!0,An=[],Or=[],Xa=X,Fn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:M,pgp:!1,env:{},finalize:M},ue=Fn,ri=[],ur=0,Ni=[];function ee(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var n=this._PSD=ue;if(typeof t!="function"){if(t!==Oe)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Ja(this,this._value);return}this._state=null,this._value=null,++n.ref,Ps(this,t)}var $a={get:function(){var t=ue,n=ji;function i(o,u){var c=this,d=!t.global&&(t!==ue||n!==ji),v=d&&!jn(),p=new ee(function(_,k){eo(c,new Rs(Ns(o,t,d,v),Ns(u,t,d,v),_,k,t))});return this._consoleTask&&(p._consoleTask=this._consoleTask),p}return i.prototype=Oe,i},set:function(t){K(this,"then",t&&t.prototype===Oe?$a:{get:function(){return t},set:$a.set})}};T(ee.prototype,{then:$a,_then:function(t,n){eo(this,new Rs(null,null,t,n,ue))},catch:function(t){if(arguments.length===1)return this.then(null,t);var n=arguments[0],i=arguments[1];return typeof n=="function"?this.then(null,function(o){return o instanceof n?i(o):Ki(o)}):this.then(null,function(o){return o&&o.name===n?i(o):Ki(o)})},finally:function(t){return this.then(function(n){return ee.resolve(t()).then(function(){return n})},function(n){return ee.resolve(t()).then(function(){return Ki(n)})})},timeout:function(t,n){var i=this;return t<1/0?new ee(function(o,u){var c=setTimeout(function(){return u(new te.Timeout(n))},t);i.then(o,u).finally(clearTimeout.bind(null,c))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&K(ee.prototype,Symbol.toStringTag,"Dexie.Promise"),Fn.env=Ms();function Rs(t,n,i,o,u){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof n=="function"?n:null,this.resolve=i,this.reject=o,this.psd=u}T(ee,{all:function(){var t=St.apply(null,arguments).map(zi);return new ee(function(n,i){t.length===0&&n([]);var o=t.length;t.forEach(function(u,c){return ee.resolve(u).then(function(d){t[c]=d,--o||n(t)},i)})})},resolve:function(t){if(t instanceof ee)return t;if(t&&typeof t.then=="function")return new ee(function(i,o){t.then(i,o)});var n=new ee(Oe,!0,t);return n},reject:Ki,race:function(){var t=St.apply(null,arguments).map(zi);return new ee(function(n,i){t.map(function(o){return ee.resolve(o).then(n,i)})})},PSD:{get:function(){return ue},set:function(t){return ue=t}},totalEchoes:{get:function(){return ji}},newPSD:Bn,usePSD:lr,scheduler:{get:function(){return Ot},set:function(t){Ot=t}},rejectionMapper:{get:function(){return Xa},set:function(t){Xa=t}},follow:function(t,n){return new ee(function(i,o){return Bn(function(u,c){var d=ue;d.unhandleds=[],d.onunhandled=c,d.finalize=fe(function(){var v=this;rc(function(){v.unhandleds.length===0?u():c(v.unhandleds[0])})},d.finalize),t()},n,i,o)})}}),Tn&&(Tn.allSettled&&K(ee,"allSettled",function(){var t=St.apply(null,arguments).map(zi);return new ee(function(n){t.length===0&&n([]);var i=t.length,o=new Array(i);t.forEach(function(u,c){return ee.resolve(u).then(function(d){return o[c]={status:"fulfilled",value:d}},function(d){return o[c]={status:"rejected",reason:d}}).then(function(){return--i||n(o)})})})}),Tn.any&&typeof AggregateError<"u"&&K(ee,"any",function(){var t=St.apply(null,arguments).map(zi);return new ee(function(n,i){t.length===0&&i(new AggregateError([]));var o=t.length,u=new Array(o);t.forEach(function(c,d){return ee.resolve(c).then(function(v){return n(v)},function(v){u[d]=v,--o||i(new AggregateError(u))})})})}),Tn.withResolvers&&(ee.withResolvers=Tn.withResolvers));function Ps(t,n){try{n(function(i){if(t._state===null){if(i===t)throw new TypeError("A promise cannot be resolved with itself.");var o=t._lib&&Cr();i&&typeof i.then=="function"?Ps(t,function(u,c){i instanceof ee?i._then(u,c):i.then(u,c)}):(t._state=!0,t._value=i,Ls(t)),o&&Rr()}},Ja.bind(null,t))}catch(i){Ja(t,i)}}function Ja(t,n){if(Or.push(n),t._state===null){var i=t._lib&&Cr();n=Xa(n),t._state=!1,t._value=n,ic(t),Ls(t),i&&Rr()}}function Ls(t){var n=t._listeners;t._listeners=[];for(var i=0,o=n.length;i<o;++i)eo(t,n[i]);var u=t._PSD;--u.ref||u.finalize(),ur===0&&(++ur,Ot(function(){--ur===0&&to()},[]))}function eo(t,n){if(t._state===null){t._listeners.push(n);return}var i=t._state?n.onFulfilled:n.onRejected;if(i===null)return(t._state?n.resolve:n.reject)(t._value);++n.psd.ref,++ur,Ot(tc,[i,t,n])}function tc(t,n,i){try{var o,u=n._value;!n._state&&Or.length&&(Or=[]),o=Lt&&n._consoleTask?n._consoleTask.run(function(){return t(u)}):t(u),!n._state&&Or.indexOf(u)===-1&&ac(n),i.resolve(o)}catch(c){i.reject(c)}finally{--ur===0&&to(),--i.psd.ref||i.psd.finalize()}}function nc(){lr(Fn,function(){Cr()&&Rr()})}function Cr(){var t=ni;return ni=!1,Kn=!1,t}function Rr(){var t,n,i;do for(;ri.length>0;)for(t=ri,ri=[],i=t.length,n=0;n<i;++n){var o=t[n];o[0].apply(null,o[1])}while(ri.length>0);ni=!0,Kn=!0}function to(){var t=An;An=[],t.forEach(function(o){o._PSD.onunhandled.call(null,o._value,o)});for(var n=Ni.slice(0),i=n.length;i;)n[--i]()}function rc(t){function n(){t(),Ni.splice(Ni.indexOf(n),1)}Ni.push(n),++ur,Ot(function(){--ur===0&&to()},[])}function ic(t){An.some(function(n){return n._value===t._value})||An.push(t)}function ac(t){for(var n=An.length;n;)if(An[--n]._value===t._value){An.splice(n,1);return}}function Ki(t){return new ee(Oe,!1,t)}function He(t,n){var i=ue;return function(){var o=Cr(),u=ue;try{return zn(i,!0),t.apply(this,arguments)}catch(c){n&&n(c)}finally{zn(u,!1),o&&Rr()}}}var dt={awaits:0,echoes:0,id:0},oc=0,Fi=[],Bi=0,ji=0,sc=0;function Bn(t,n,i,o){var u=ue,c=Object.create(u);c.parent=u,c.ref=0,c.global=!1,c.id=++sc,Fn.env,c.env=ti?{Promise:ee,PromiseProp:{value:ee,configurable:!0,writable:!0},all:ee.all,race:ee.race,allSettled:ee.allSettled,any:ee.any,resolve:ee.resolve,reject:ee.reject}:{},n&&w(c,n),++u.ref,c.finalize=function(){--this.parent.ref||this.parent.finalize()};var d=lr(c,t,i,o);return c.ref===0&&c.finalize(),d}function Pr(){return dt.id||(dt.id=++oc),++dt.awaits,dt.echoes+=qt,dt.id}function jn(){return dt.awaits?(--dt.awaits===0&&(dt.id=0),dt.echoes=dt.awaits*qt,!0):!1}(""+Qa).indexOf("[native code]")===-1&&(Pr=jn=M);function zi(t){return dt.echoes&&t&&t.constructor===Tn?(Pr(),t.then(function(n){return jn(),n},function(n){return jn(),nt(n)})):t}function uc(t){++ji,(!dt.echoes||--dt.echoes===0)&&(dt.echoes=dt.awaits=dt.id=0),Fi.push(ue),zn(t,!0)}function lc(){var t=Fi[Fi.length-1];Fi.pop(),zn(t,!1)}function zn(t,n){var i=ue;if((n?dt.echoes&&(!Bi++||t!==ue):Bi&&(!--Bi||t!==ue))&&queueMicrotask(n?uc.bind(null,t):lc),t!==ue&&(ue=t,i===Fn&&(Fn.env=Ms()),ti)){var o=Fn.env.Promise,u=t.env;(i.global||t.global)&&(Object.defineProperty(h,"Promise",u.PromiseProp),o.all=u.all,o.race=u.race,o.resolve=u.resolve,o.reject=u.reject,u.allSettled&&(o.allSettled=u.allSettled),u.any&&(o.any=u.any))}}function Ms(){var t=h.Promise;return ti?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function lr(t,n,i,o,u){var c=ue;try{return zn(t,!0),n(i,o,u)}finally{zn(c,!1)}}function Ns(t,n,i,o){return typeof t!="function"?t:function(){var u=ue;i&&Pr(),zn(n,!0);try{return t.apply(this,arguments)}finally{zn(u,!1),o&&queueMicrotask(jn)}}}function no(t){Promise===Tn&&dt.echoes===0?Bi===0?t():enqueueNativeMicroTask(t):setTimeout(t,0)}var nt=ee.reject;function ro(t,n,i,o){if(!t.idbdb||!t._state.openComplete&&!ue.letThrough&&!t._vip){if(t._state.openComplete)return nt(new te.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return nt(new te.DatabaseClosed);t.open().catch(M)}return t._state.dbReadyPromise.then(function(){return ro(t,n,i,o)})}else{var u=t._createTransaction(n,i,t._dbSchema);try{u.create(),t._state.PR1398_maxLoop=3}catch(c){return c.name===ge.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return ro(t,n,i,o)})):nt(c)}return u._promise(n,function(c,d){return Bn(function(){return ue.trans=u,o(c,d,u)})}).then(function(c){if(n==="readwrite")try{u.idbtrans.commit()}catch{}return n==="readonly"?c:u._completion.then(function(){return c})})}}var Ks="4.2.1",cr="",io=-1/0,kn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Fs="String expected.",Lr=[],Gi="__dbnames",ao="readonly",oo="readwrite";function fr(t,n){return t?n?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:t:n}var Bs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ui(t){return typeof t=="string"&&!/\./.test(t)?function(n){return n[t]===void 0&&t in n&&(n=qe(n),delete n[t]),n}:function(n){return n}}function js(){throw te.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function Re(t,n){try{var i=zs(t),o=zs(n);if(i!==o)return i==="Array"?1:o==="Array"?-1:i==="binary"?1:o==="binary"?-1:i==="string"?1:o==="string"?-1:i==="Date"?1:o!=="Date"?NaN:-1;switch(i){case"number":case"Date":case"string":return t>n?1:t<n?-1:0;case"binary":return fc(Gs(t),Gs(n));case"Array":return cc(t,n)}}catch{}return NaN}function cc(t,n){for(var i=t.length,o=n.length,u=i<o?i:o,c=0;c<u;++c){var d=Re(t[c],n[c]);if(d!==0)return d}return i===o?0:i<o?-1:1}function fc(t,n){for(var i=t.length,o=n.length,u=i<o?i:o,c=0;c<u;++c)if(t[c]!==n[c])return t[c]<n[c]?-1:1;return i===o?0:i<o?-1:1}function zs(t){var n=typeof t;if(n!=="object")return n;if(ArrayBuffer.isView(t))return"binary";var i=nn(t);return i==="ArrayBuffer"?"binary":i}function Gs(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}function Vi(t,n,i){var o=t.schema.yProps;return o?(n&&i.numFailures>0&&(n=n.filter(function(u,c){return!i.failures[c]})),Promise.all(o.map(function(u){var c=u.updatesTable;return n?t.db.table(c).where("k").anyOf(n).delete():t.db.table(c).clear()})).then(function(){return i})):i}var ii=(function(){function t(n){this["@@propmod"]=n}return t.prototype.execute=function(n){var i,o=this["@@propmod"];if(o.add!==void 0){var u=o.add;if(g(u))return f(f([],g(n)?n:[],!0),u).sort();if(typeof u=="number")return(Number(n)||0)+u;if(typeof u=="bigint")try{return BigInt(n)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(o.remove!==void 0){var c=o.remove;if(g(c))return g(n)?n.filter(function(v){return!c.includes(v)}).sort():[];if(typeof c=="number")return Number(n)-c;if(typeof c=="bigint")try{return BigInt(n)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}var d=(i=o.replacePrefix)===null||i===void 0?void 0:i[0];return d&&typeof n=="string"&&n.startsWith(d)?o.replacePrefix[1]+n.substring(d.length):n},t})();function Us(t,n){for(var i=y(n),o=i.length,u=!1,c=0;c<o;++c){var d=i[c],v=n[d],p=ce(t,d);v instanceof ii?(be(t,d,v.execute(p)),u=!0):p!==v&&(be(t,d,v),u=!0)}return u}var Vs=(function(){function t(){}return t.prototype._trans=function(n,i,o){var u=this._tx||ue.trans,c=this.name,d=Lt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function v(k,x,P){if(!P.schema[c])throw new te.NotFound("Table "+c+" not part of transaction");return i(P.idbtrans,P)}var p=Cr();try{var _=u&&u.db._novip===this.db._novip?u===ue.trans?u._promise(n,v,o):Bn(function(){return u._promise(n,v,o)},{trans:u,transless:ue.transless||ue}):ro(this.db,n,[this.name],v);return d&&(_._consoleTask=d,_=_.catch(function(k){return console.trace(k),nt(k)})),_}finally{p&&Rr()}},t.prototype.get=function(n,i){var o=this;return n&&n.constructor===Object?this.where(n).first(i):n==null?nt(new te.Type("Invalid argument to Table.get()")):this._trans("readonly",function(u){return o.core.get({trans:u,key:n}).then(function(c){return o.hook.reading.fire(c)})}).then(i)},t.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(g(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var i=y(n);if(i.length===1)return this.where(i[0]).equals(n[i[0]]);var o=this.schema.indexes.concat(this.schema.primKey).filter(function(k){if(k.compound&&i.every(function(P){return k.keyPath.indexOf(P)>=0})){for(var x=0;x<i.length;++x)if(i.indexOf(k.keyPath[x])===-1)return!1;return!0}return!1}).sort(function(k,x){return k.keyPath.length-x.keyPath.length})[0];if(o&&this.db._maxKey!==cr){var u=o.keyPath.slice(0,i.length);return this.where(u).equals(u.map(function(k){return n[k]}))}!o&&Lt&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var c=this.schema.idxByName;function d(k,x){return Re(k,x)===0}var v=i.reduce(function(k,x){var P=k[0],Z=k[1],A=c[x],S=n[x];return[P||A,P||!A?fr(Z,A&&A.multi?function(R){var B=ce(R,x);return g(B)&&B.some(function(G){return d(S,G)})}:function(R){return d(S,ce(R,x))}):Z]},[null,null]),p=v[0],_=v[1];return p?this.where(p.name).equals(n[p.keyPath]).filter(_):o?this.filter(_):this.where(i).equals("")},t.prototype.filter=function(n){return this.toCollection().and(n)},t.prototype.count=function(n){return this.toCollection().count(n)},t.prototype.offset=function(n){return this.toCollection().offset(n)},t.prototype.limit=function(n){return this.toCollection().limit(n)},t.prototype.each=function(n){return this.toCollection().each(n)},t.prototype.toArray=function(n){return this.toCollection().toArray(n)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,g(n)?"[".concat(n.join("+"),"]"):n))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(n){var i=this,o=i.db,u=i.name;this.schema.mappedClass=n,n.prototype instanceof js&&(n=(function(p){s(_,p);function _(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(_.prototype,"db",{get:function(){return o},enumerable:!1,configurable:!0}),_.prototype.table=function(){return u},_})(n));for(var c=new Set,d=n.prototype;d;d=E(d))Object.getOwnPropertyNames(d).forEach(function(p){return c.add(p)});var v=function(p){if(!p)return p;var _=Object.create(n.prototype);for(var k in p)if(!c.has(k))try{_[k]=p[k]}catch{}return _};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=v,this.hook("reading",v),n},t.prototype.defineClass=function(){function n(i){w(this,i)}return this.mapToClass(n)},t.prototype.add=function(n,i){var o=this,u=this.schema.primKey,c=u.auto,d=u.keyPath,v=n;return d&&c&&(v=Ui(d)(n)),this._trans("readwrite",function(p){return o.core.mutate({trans:p,type:"add",keys:i!=null?[i]:null,values:[v]})}).then(function(p){return p.numFailures?ee.reject(p.failures[0]):p.lastResult}).then(function(p){if(d)try{be(n,d,p)}catch{}return p})},t.prototype.upsert=function(n,i){var o=this,u=this.schema.primKey.keyPath;return this._trans("readwrite",function(c){return o.core.get({trans:c,key:n}).then(function(d){var v=d??{};return Us(v,i),u&&be(v,u,n),o.core.mutate({trans:c,type:"put",values:[v],keys:[n],upsert:!0,updates:{keys:[n],changeSpecs:[i]}}).then(function(p){return p.numFailures?ee.reject(p.failures[0]):!!d})})})},t.prototype.update=function(n,i){if(typeof n=="object"&&!g(n)){var o=ce(n,this.schema.primKey.keyPath);return o===void 0?nt(new te.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(i)}else return this.where(":id").equals(n).modify(i)},t.prototype.put=function(n,i){var o=this,u=this.schema.primKey,c=u.auto,d=u.keyPath,v=n;return d&&c&&(v=Ui(d)(n)),this._trans("readwrite",function(p){return o.core.mutate({trans:p,type:"put",values:[v],keys:i!=null?[i]:null})}).then(function(p){return p.numFailures?ee.reject(p.failures[0]):p.lastResult}).then(function(p){if(d)try{be(n,d,p)}catch{}return p})},t.prototype.delete=function(n){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"delete",keys:[n]}).then(function(u){return Vi(i,[n],u)}).then(function(u){return u.numFailures?ee.reject(u.failures[0]):void 0})})},t.prototype.clear=function(){var n=this;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"deleteRange",range:Bs}).then(function(o){return Vi(n,null,o)})}).then(function(i){return i.numFailures?ee.reject(i.failures[0]):void 0})},t.prototype.bulkGet=function(n){var i=this;return this._trans("readonly",function(o){return i.core.getMany({keys:n,trans:o}).then(function(u){return u.map(function(c){return i.hook.reading.fire(c)})})})},t.prototype.bulkAdd=function(n,i,o){var u=this,c=Array.isArray(i)?i:void 0;o=o||(c?void 0:i);var d=o?o.allKeys:void 0;return this._trans("readwrite",function(v){var p=u.schema.primKey,_=p.auto,k=p.keyPath;if(k&&c)throw new te.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(c&&c.length!==n.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var x=n.length,P=k&&_?n.map(Ui(k)):n;return u.core.mutate({trans:v,type:"add",keys:c,values:P,wantResults:d}).then(function(Z){var A=Z.numFailures,S=Z.results,R=Z.lastResult,B=Z.failures,G=d?S:R;if(A===0)return G;throw new ve("".concat(u.name,".bulkAdd(): ").concat(A," of ").concat(x," operations failed"),B)})})},t.prototype.bulkPut=function(n,i,o){var u=this,c=Array.isArray(i)?i:void 0;o=o||(c?void 0:i);var d=o?o.allKeys:void 0;return this._trans("readwrite",function(v){var p=u.schema.primKey,_=p.auto,k=p.keyPath;if(k&&c)throw new te.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(c&&c.length!==n.length)throw new te.InvalidArgument("Arguments objects and keys must have the same length");var x=n.length,P=k&&_?n.map(Ui(k)):n;return u.core.mutate({trans:v,type:"put",keys:c,values:P,wantResults:d}).then(function(Z){var A=Z.numFailures,S=Z.results,R=Z.lastResult,B=Z.failures,G=d?S:R;if(A===0)return G;throw new ve("".concat(u.name,".bulkPut(): ").concat(A," of ").concat(x," operations failed"),B)})})},t.prototype.bulkUpdate=function(n){var i=this,o=this.core,u=n.map(function(v){return v.key}),c=n.map(function(v){return v.changes}),d=[];return this._trans("readwrite",function(v){return o.getMany({trans:v,keys:u,cache:"clone"}).then(function(p){var _=[],k=[];n.forEach(function(P,Z){var A=P.key,S=P.changes,R=p[Z];if(R){for(var B=0,G=Object.keys(S);B<G.length;B++){var U=G[B],V=S[U];if(U===i.schema.primKey.keyPath){if(Re(V,A)!==0)throw new te.Constraint("Cannot update primary key in bulkUpdate()")}else be(R,U,V)}d.push(Z),_.push(A),k.push(R)}});var x=_.length;return o.mutate({trans:v,type:"put",keys:_,values:k,updates:{keys:u,changeSpecs:c}}).then(function(P){var Z=P.numFailures,A=P.failures;if(Z===0)return x;for(var S=0,R=Object.keys(A);S<R.length;S++){var B=R[S],G=d[Number(B)];if(G!=null){var U=A[B];delete A[B],A[G]=U}}throw new ve("".concat(i.name,".bulkUpdate(): ").concat(Z," of ").concat(x," operations failed"),A)})})})},t.prototype.bulkDelete=function(n){var i=this,o=n.length;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"delete",keys:n}).then(function(c){return Vi(i,n,c)})}).then(function(u){var c=u.numFailures,d=u.lastResult,v=u.failures;if(c===0)return d;throw new ve("".concat(i.name,".bulkDelete(): ").concat(c," of ").concat(o," operations failed"),v)})},t})();function ai(t){var n={},i=function(v,p){if(p){for(var _=arguments.length,k=new Array(_-1);--_;)k[_-1]=arguments[_];return n[v].subscribe.apply(null,k),t}else if(typeof v=="string")return n[v]};i.addEventType=c;for(var o=1,u=arguments.length;o<u;++o)c(arguments[o]);return i;function c(v,p,_){if(typeof v=="object")return d(v);p||(p=ze),_||(_=M);var k={subscribers:[],fire:_,subscribe:function(x){k.subscribers.indexOf(x)===-1&&(k.subscribers.push(x),k.fire=p(k.fire,x))},unsubscribe:function(x){k.subscribers=k.subscribers.filter(function(P){return P!==x}),k.fire=k.subscribers.reduce(p,_)}};return n[v]=i[v]=k,k}function d(v){y(v).forEach(function(p){var _=v[p];if(g(_))c(p,v[p][0],v[p][1]);else if(_==="asap")var k=c(p,X,function(){for(var P=arguments.length,Z=new Array(P);P--;)Z[P]=arguments[P];k.subscribers.forEach(function(A){me(function(){A.apply(null,Z)})})});else throw new te.InvalidArgument("Invalid event config")})}}function oi(t,n){return F(n).from({prototype:t}),n}function dc(t){return oi(Vs.prototype,function(i,o,u){this.db=t,this._tx=u,this.name=i,this.schema=o,this.hook=t._allTables[i]?t._allTables[i].hook:ai(null,{creating:[Ee,M],reading:[Te,X],updating:[Qe,M],deleting:[Me,M]})})}function Mr(t,n){return!(t.filter||t.algorithm||t.or)&&(n?t.justLimit:!t.replayFilter)}function so(t,n){t.filter=fr(t.filter,n)}function uo(t,n,i){var o=t.replayFilter;t.replayFilter=o?function(){return fr(o(),n())}:n,t.justLimit=i&&!o}function hc(t,n){t.isMatch=fr(t.isMatch,n)}function Hi(t,n){if(t.isPrimKey)return n.primaryKey;var i=n.getIndexByKeyPath(t.index);if(!i)throw new te.Schema("KeyPath "+t.index+" on object store "+n.name+" is not indexed");return i}function Hs(t,n,i){var o=Hi(t,n.schema);return n.openCursor({trans:i,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:o,range:t.range}})}function Wi(t,n,i,o){var u=t.replayFilter?fr(t.filter,t.replayFilter()):t.filter;if(t.or){var c={},d=function(v,p,_){if(!u||u(p,_,function(P){return p.stop(P)},function(P){return p.fail(P)})){var k=p.primaryKey,x=""+k;x==="[object ArrayBuffer]"&&(x=""+new Uint8Array(k)),b(c,x)||(c[x]=!0,n(v,p,_))}};return Promise.all([t.or._iterate(d,i),Ws(Hs(t,o,i),t.algorithm,d,!t.keysOnly&&t.valueMapper)])}else return Ws(Hs(t,o,i),fr(t.algorithm,u),n,!t.keysOnly&&t.valueMapper)}function Ws(t,n,i,o){var u=o?function(d,v,p){return i(o(d),v,p)}:i,c=He(u);return t.then(function(d){if(d)return d.start(function(){var v=function(){return d.continue()};(!n||n(d,function(p){return v=p},function(p){d.stop(p),v=M},function(p){d.fail(p),v=M}))&&c(d.value,d,function(p){return v=p}),v()})})}var vc=(function(){function t(){}return t.prototype._read=function(n,i){var o=this._ctx;return o.error?o.table._trans(null,nt.bind(null,o.error)):o.table._trans("readonly",n).then(i)},t.prototype._write=function(n){var i=this._ctx;return i.error?i.table._trans(null,nt.bind(null,i.error)):i.table._trans("readwrite",n,"locked")},t.prototype._addAlgorithm=function(n){var i=this._ctx;i.algorithm=fr(i.algorithm,n)},t.prototype._iterate=function(n,i){return Wi(this._ctx,n,i,this._ctx.table.core)},t.prototype.clone=function(n){var i=Object.create(this.constructor.prototype),o=Object.create(this._ctx);return n&&w(o,n),i._ctx=o,i},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(n){var i=this._ctx;return this._read(function(o){return Wi(i,n,o,i.table.core)})},t.prototype.count=function(n){var i=this;return this._read(function(o){var u=i._ctx,c=u.table.core;if(Mr(u,!0))return c.count({trans:o,query:{index:Hi(u,c.schema),range:u.range}}).then(function(v){return Math.min(v,u.limit)});var d=0;return Wi(u,function(){return++d,!1},o,c).then(function(){return d})}).then(n)},t.prototype.sortBy=function(n,i){var o=n.split(".").reverse(),u=o[0],c=o.length-1;function d(_,k){return k?d(_[o[k]],k-1):_[u]}var v=this._ctx.dir==="next"?1:-1;function p(_,k){var x=d(_,c),P=d(k,c);return Re(x,P)*v}return this.toArray(function(_){return _.sort(p)}).then(i)},t.prototype.toArray=function(n){var i=this;return this._read(function(o){var u=i._ctx;if(u.dir==="next"&&Mr(u,!0)&&u.limit>0){var c=u.valueMapper,d=Hi(u,u.table.core.schema);return u.table.core.query({trans:o,limit:u.limit,values:!0,query:{index:d,range:u.range}}).then(function(p){var _=p.result;return c?_.map(c):_})}else{var v=[];return Wi(u,function(p){return v.push(p)},o,u.table.core).then(function(){return v})}},n)},t.prototype.offset=function(n){var i=this._ctx;return n<=0?this:(i.offset+=n,Mr(i)?uo(i,function(){var o=n;return function(u,c){return o===0?!0:o===1?(--o,!1):(c(function(){u.advance(o),o=0}),!1)}}):uo(i,function(){var o=n;return function(){return--o<0}}),this)},t.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),uo(this._ctx,function(){var i=n;return function(o,u,c){return--i<=0&&u(c),i>=0}},!0),this},t.prototype.until=function(n,i){return so(this._ctx,function(o,u,c){return n(o.value)?(u(c),i):!0}),this},t.prototype.first=function(n){return this.limit(1).toArray(function(i){return i[0]}).then(n)},t.prototype.last=function(n){return this.reverse().first(n)},t.prototype.filter=function(n){return so(this._ctx,function(i){return n(i.value)}),hc(this._ctx,n),this},t.prototype.and=function(n){return this.filter(n)},t.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(n){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,u){n(u.key,u)})},t.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},t.prototype.eachPrimaryKey=function(n){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,u){n(u.primaryKey,u)})},t.prototype.keys=function(n){var i=this._ctx;i.keysOnly=!i.isMatch;var o=[];return this.each(function(u,c){o.push(c.key)}).then(function(){return o}).then(n)},t.prototype.primaryKeys=function(n){var i=this._ctx;if(i.dir==="next"&&Mr(i,!0)&&i.limit>0)return this._read(function(u){var c=Hi(i,i.table.core.schema);return i.table.core.query({trans:u,values:!1,limit:i.limit,query:{index:c,range:i.range}})}).then(function(u){var c=u.result;return c}).then(n);i.keysOnly=!i.isMatch;var o=[];return this.each(function(u,c){o.push(c.primaryKey)}).then(function(){return o}).then(n)},t.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},t.prototype.firstKey=function(n){return this.limit(1).keys(function(i){return i[0]}).then(n)},t.prototype.lastKey=function(n){return this.reverse().firstKey(n)},t.prototype.distinct=function(){var n=this._ctx,i=n.index&&n.table.schema.idxByName[n.index];if(!i||!i.multi)return this;var o={};return so(this._ctx,function(u){var c=u.primaryKey.toString(),d=b(o,c);return o[c]=!0,!d}),this},t.prototype.modify=function(n){var i=this,o=this._ctx;return this._write(function(u){var c;typeof n=="function"?c=n:c=function(B){return Us(B,n)};var d=o.table.core,v=d.schema.primaryKey,p=v.outbound,_=v.extractKey,k=200,x=i.db._options.modifyChunkSize;x&&(typeof x=="object"?k=x[d.name]||x["*"]||200:k=x);var P=[],Z=0,A=[],S=function(B,G){var U=G.failures,V=G.numFailures;Z+=B-V;for(var j=0,$=y(U);j<$.length;j++){var ie=$[j];P.push(U[ie])}},R=n===Ys;return i.clone().primaryKeys().then(function(B){var G=Mr(o)&&o.limit===1/0&&(typeof n!="function"||R)&&{index:o.index,range:o.range},U=function(V){var j=Math.min(k,B.length-V),$=B.slice(V,V+j);return(R?Promise.resolve([]):d.getMany({trans:u,keys:$,cache:"immutable"})).then(function(ie){var J=[],de=[],Ie=p?[]:null,ae=R?$:[];if(!R)for(var Ae=0;Ae<j;++Ae){var he=ie[Ae],Pe={value:qe(he),primKey:B[V+Ae]};c.call(Pe,Pe.value,Pe)!==!1&&(Pe.value==null?ae.push(B[V+Ae]):!p&&Re(_(he),_(Pe.value))!==0?(ae.push(B[V+Ae]),J.push(Pe.value)):(de.push(Pe.value),p&&Ie.push(B[V+Ae])))}return Promise.resolve(J.length>0&&d.mutate({trans:u,type:"add",values:J}).then(function(le){for(var $e in le.failures)ae.splice(parseInt($e),1);S(J.length,le)})).then(function(){return(de.length>0||G&&typeof n=="object")&&d.mutate({trans:u,type:"put",keys:Ie,values:de,criteria:G,changeSpec:typeof n!="function"&&n,isAdditionalChunk:V>0}).then(function(le){return S(de.length,le)})}).then(function(){return(ae.length>0||G&&R)&&d.mutate({trans:u,type:"delete",keys:ae,criteria:G,isAdditionalChunk:V>0}).then(function(le){return Vi(o.table,ae,le)}).then(function(le){return S(ae.length,le)})}).then(function(){return B.length>V+j&&U(V+k)})})};return U(0).then(function(){if(P.length>0)throw new re("Error modifying one or more objects",P,Z,A);return B.length})})})},t.prototype.delete=function(){var n=this._ctx,i=n.range;return Mr(n)&&!n.table.schema.yProps&&(n.isPrimKey||i.type===3)?this._write(function(o){var u=n.table.core.schema.primaryKey,c=i;return n.table.core.count({trans:o,query:{index:u,range:c}}).then(function(d){return n.table.core.mutate({trans:o,type:"deleteRange",range:c}).then(function(v){var p=v.failures,_=v.numFailures;if(_)throw new re("Could not delete some values",Object.keys(p).map(function(k){return p[k]}),d-_);return d-_})})}):this.modify(Ys)},t})(),Ys=function(t,n){return n.value=null};function pc(t){return oi(vc.prototype,function(i,o){this.db=t;var u=Bs,c=null;if(o)try{u=o()}catch(_){c=_}var d=i._ctx,v=d.table,p=v.hook.reading.fire;this._ctx={table:v,index:d.index,isPrimKey:!d.index||v.schema.primKey.keyPath&&d.index===v.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:d.or,valueMapper:p!==X?p:null}})}function mc(t,n){return t<n?-1:t===n?0:1}function yc(t,n){return t>n?-1:t===n?0:1}function Vt(t,n,i){var o=t instanceof Zs?new t.Collection(t):t;return o._ctx.error=i?new i(n):new TypeError(n),o}function Nr(t){return new t.Collection(t,function(){return qs("")}).limit(0)}function gc(t){return t==="next"?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}function _c(t){return t==="next"?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}function bc(t,n,i,o,u,c){for(var d=Math.min(t.length,o.length),v=-1,p=0;p<d;++p){var _=n[p];if(_!==o[p])return u(t[p],i[p])<0?t.substr(0,p)+i[p]+i.substr(p+1):u(t[p],o[p])<0?t.substr(0,p)+o[p]+i.substr(p+1):v>=0?t.substr(0,v)+n[v]+i.substr(v+1):null;u(t[p],_)<0&&(v=p)}return d<o.length&&c==="next"?t+i.substr(t.length):d<t.length&&c==="prev"?t.substr(0,i.length):v<0?null:t.substr(0,v)+o[v]+i.substr(v+1)}function Yi(t,n,i,o){var u,c,d,v,p,_,k,x=i.length;if(!i.every(function(S){return typeof S=="string"}))return Vt(t,Fs);function P(S){u=gc(S),c=_c(S),d=S==="next"?mc:yc;var R=i.map(function(B){return{lower:c(B),upper:u(B)}}).sort(function(B,G){return d(B.lower,G.lower)});v=R.map(function(B){return B.upper}),p=R.map(function(B){return B.lower}),_=S,k=S==="next"?"":o}P("next");var Z=new t.Collection(t,function(){return Gn(v[0],p[x-1]+o)});Z._ondirectionchange=function(S){P(S)};var A=0;return Z._addAlgorithm(function(S,R,B){var G=S.key;if(typeof G!="string")return!1;var U=c(G);if(n(U,p,A))return!0;for(var V=null,j=A;j<x;++j){var $=bc(G,U,v[j],p[j],d,_);$===null&&V===null?A=j+1:(V===null||d(V,$)>0)&&(V=$)}return R(V!==null?function(){S.continue(V+k)}:B),!1}),Z}function Gn(t,n,i,o){return{type:2,lower:t,upper:n,lowerOpen:i,upperOpen:o}}function qs(t){return{type:1,lower:t,upper:t}}var Zs=(function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(n,i,o,u){o=o!==!1,u=u===!0;try{return this._cmp(n,i)>0||this._cmp(n,i)===0&&(o||u)&&!(o&&u)?Nr(this):new this.Collection(this,function(){return Gn(n,i,!o,!u)})}catch{return Vt(this,kn)}},t.prototype.equals=function(n){return n==null?Vt(this,kn):new this.Collection(this,function(){return qs(n)})},t.prototype.above=function(n){return n==null?Vt(this,kn):new this.Collection(this,function(){return Gn(n,void 0,!0)})},t.prototype.aboveOrEqual=function(n){return n==null?Vt(this,kn):new this.Collection(this,function(){return Gn(n,void 0,!1)})},t.prototype.below=function(n){return n==null?Vt(this,kn):new this.Collection(this,function(){return Gn(void 0,n,!1,!0)})},t.prototype.belowOrEqual=function(n){return n==null?Vt(this,kn):new this.Collection(this,function(){return Gn(void 0,n)})},t.prototype.startsWith=function(n){return typeof n!="string"?Vt(this,Fs):this.between(n,n+cr,!0,!0)},t.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):Yi(this,function(i,o){return i.indexOf(o[0])===0},[n],cr)},t.prototype.equalsIgnoreCase=function(n){return Yi(this,function(i,o){return i===o[0]},[n],"")},t.prototype.anyOfIgnoreCase=function(){var n=St.apply(mt,arguments);return n.length===0?Nr(this):Yi(this,function(i,o){return o.indexOf(i)!==-1},n,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var n=St.apply(mt,arguments);return n.length===0?Nr(this):Yi(this,function(i,o){return o.some(function(u){return i.indexOf(u)===0})},n,cr)},t.prototype.anyOf=function(){var n=this,i=St.apply(mt,arguments),o=this._cmp;try{i.sort(o)}catch{return Vt(this,kn)}if(i.length===0)return Nr(this);var u=new this.Collection(this,function(){return Gn(i[0],i[i.length-1])});u._ondirectionchange=function(d){o=d==="next"?n._ascending:n._descending,i.sort(o)};var c=0;return u._addAlgorithm(function(d,v,p){for(var _=d.key;o(_,i[c])>0;)if(++c,c===i.length)return v(p),!1;return o(_,i[c])===0?!0:(v(function(){d.continue(i[c])}),!1)}),u},t.prototype.notEqual=function(n){return this.inAnyRange([[io,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var n=St.apply(mt,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return Vt(this,kn)}var i=n.reduce(function(o,u){return o?o.concat([[o[o.length-1][1],u]]):[[io,u]]},null);return i.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(n,i){var o=this,u=this._cmp,c=this._ascending,d=this._descending,v=this._min,p=this._max;if(n.length===0)return Nr(this);if(!n.every(function(j){return j[0]!==void 0&&j[1]!==void 0&&c(j[0],j[1])<=0}))return Vt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",te.InvalidArgument);var _=!i||i.includeLowers!==!1,k=i&&i.includeUppers===!0;function x(j,$){for(var ie=0,J=j.length;ie<J;++ie){var de=j[ie];if(u($[0],de[1])<0&&u($[1],de[0])>0){de[0]=v(de[0],$[0]),de[1]=p(de[1],$[1]);break}}return ie===J&&j.push($),j}var P=c;function Z(j,$){return P(j[0],$[0])}var A;try{A=n.reduce(x,[]),A.sort(Z)}catch{return Vt(this,kn)}var S=0,R=k?function(j){return c(j,A[S][1])>0}:function(j){return c(j,A[S][1])>=0},B=_?function(j){return d(j,A[S][0])>0}:function(j){return d(j,A[S][0])>=0};function G(j){return!R(j)&&!B(j)}var U=R,V=new this.Collection(this,function(){return Gn(A[0][0],A[A.length-1][1],!_,!k)});return V._ondirectionchange=function(j){j==="next"?(U=R,P=c):(U=B,P=d),A.sort(Z)},V._addAlgorithm(function(j,$,ie){for(var J=j.key;U(J);)if(++S,S===A.length)return $(ie),!1;return G(J)?!0:(o._cmp(J,A[S][1])===0||o._cmp(J,A[S][0])===0||$(function(){P===c?j.continue(A[S][0]):j.continue(A[S][1])}),!1)}),V},t.prototype.startsWithAnyOf=function(){var n=St.apply(mt,arguments);return n.every(function(i){return typeof i=="string"})?n.length===0?Nr(this):this.inAnyRange(n.map(function(i){return[i,i+cr]})):Vt(this,"startsWithAnyOf() only works with strings")},t})();function wc(t){return oi(Zs.prototype,function(i,o,u){if(this.db=t,this._ctx={table:i,index:o===":id"?null:o,or:u},this._cmp=this._ascending=Re,this._descending=function(c,d){return Re(d,c)},this._max=function(c,d){return Re(c,d)>0?c:d},this._min=function(c,d){return Re(c,d)<0?c:d},this._IDBKeyRange=t._deps.IDBKeyRange,!this._IDBKeyRange)throw new te.MissingAPI})}function dn(t){return He(function(n){return si(n),t(n.target.error),!1})}function si(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var ui="storagemutated",lo="x-storagemutated-1",Un=ai(null,ui),Ec=(function(){function t(){}return t.prototype._lock=function(){return oe(!ue.global),++this._reculock,this._reculock===1&&!ue.global&&(ue.lockOwnerFor=this),this},t.prototype._unlock=function(){if(oe(!ue.global),--this._reculock===0)for(ue.global||(ue.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{lr(n[1],n[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&ue.lockOwnerFor!==this},t.prototype.create=function(n){var i=this;if(!this.mode)return this;var o=this.db.idbdb,u=this.db._state.dbOpenError;if(oe(!this.idbtrans),!n&&!o)switch(u&&u.name){case"DatabaseClosedError":throw new te.DatabaseClosed(u);case"MissingAPIError":throw new te.MissingAPI(u.message,u);default:throw new te.OpenFailed(u)}if(!this.active)throw new te.TransactionInactive;return oe(this._completion._state===null),n=this.idbtrans=n||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):o.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),n.onerror=He(function(c){si(c),i._reject(n.error)}),n.onabort=He(function(c){si(c),i.active&&i._reject(new te.Abort(n.error)),i.active=!1,i.on("abort").fire(c)}),n.oncomplete=He(function(){i.active=!1,i._resolve(),"mutatedParts"in n&&Un.storagemutated.fire(n.mutatedParts)}),this},t.prototype._promise=function(n,i,o){var u=this;if(n==="readwrite"&&this.mode!=="readwrite")return nt(new te.ReadOnly("Transaction is readonly"));if(!this.active)return nt(new te.TransactionInactive);if(this._locked())return new ee(function(d,v){u._blockedFuncs.push([function(){u._promise(n,i,o).then(d,v)},ue])});if(o)return Bn(function(){var d=new ee(function(v,p){u._lock();var _=i(v,p,u);_&&_.then&&_.then(v,p)});return d.finally(function(){return u._unlock()}),d._lib=!0,d});var c=new ee(function(d,v){var p=i(d,v,u);p&&p.then&&p.then(d,v)});return c._lib=!0,c},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(n){var i=this._root(),o=ee.resolve(n);if(i._waitingFor)i._waitingFor=i._waitingFor.then(function(){return o});else{i._waitingFor=o,i._waitingQueue=[];var u=i.idbtrans.objectStore(i.storeNames[0]);(function d(){for(++i._spinCount;i._waitingQueue.length;)i._waitingQueue.shift()();i._waitingFor&&(u.get(-1/0).onsuccess=d)})()}var c=i._waitingFor;return new ee(function(d,v){o.then(function(p){return i._waitingQueue.push(He(d.bind(null,p)))},function(p){return i._waitingQueue.push(He(v.bind(null,p)))}).finally(function(){i._waitingFor===c&&(i._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new te.Abort))},t.prototype.table=function(n){var i=this._memoizedTables||(this._memoizedTables={});if(b(i,n))return i[n];var o=this.schema[n];if(!o)throw new te.NotFound("Table "+n+" not part of transaction");var u=new this.db.Table(n,o,this);return u.core=this.db.core.table(n),i[n]=u,u},t})();function xc(t){return oi(Ec.prototype,function(i,o,u,c,d){var v=this;i!=="readonly"&&o.forEach(function(p){var _,k=(_=u[p])===null||_===void 0?void 0:_.yProps;k&&(o=o.concat(k.map(function(x){return x.updatesTable})))}),this.db=t,this.mode=i,this.storeNames=o,this.schema=u,this.chromeTransactionDurability=c,this.idbtrans=null,this.on=ai(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ee(function(p,_){v._resolve=p,v._reject=_}),this._completion.then(function(){v.active=!1,v.on.complete.fire()},function(p){var _=v.active;return v.active=!1,v.on.error.fire(p),v.parent?v.parent._reject(p):_&&v.idbtrans&&v.idbtrans.abort(),nt(p)})})}function co(t,n,i,o,u,c,d,v){return{name:t,keyPath:n,unique:i,multi:o,auto:u,compound:c,src:(i&&!d?"&":"")+(o?"*":"")+(u?"++":"")+Qs(n),type:v}}function Qs(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function fo(t,n,i){return{name:t,primKey:n,indexes:i,mappedClass:null,idxByName:pe(i,function(o){return[o.name,o]})}}function Tc(t){return t.length===1?t[0]:t}var li=function(t){try{return t.only([[]]),li=function(){return[[]]},[[]]}catch{return li=function(){return cr},cr}};function ho(t){return t==null?function(){}:typeof t=="string"?Ac(t):function(n){return ce(n,t)}}function Ac(t){var n=t.split(".");return n.length===1?function(i){return i[t]}:function(i){return ce(i,t)}}function Xs(t){return[].slice.call(t)}var kc=0;function ci(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function Dc(t,n,i){function o(x,P){var Z=Xs(x.objectStoreNames);return{schema:{name:x.name,tables:Z.map(function(A){return P.objectStore(A)}).map(function(A){var S=A.keyPath,R=A.autoIncrement,B=g(S),G=S==null,U={},V={name:A.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:G,compound:B,keyPath:S,autoIncrement:R,unique:!0,extractKey:ho(S)},indexes:Xs(A.indexNames).map(function(j){return A.index(j)}).map(function(j){var $=j.name,ie=j.unique,J=j.multiEntry,de=j.keyPath,Ie=g(de),ae={name:$,compound:Ie,keyPath:de,unique:ie,multiEntry:J,extractKey:ho(de)};return U[ci(de)]=ae,ae}),getIndexByKeyPath:function(j){return U[ci(j)]}};return U[":id"]=V.primaryKey,S!=null&&(U[ci(S)]=V.primaryKey),V})},hasGetAll:Z.length>0&&"getAll"in P.objectStore(Z[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function u(x){if(x.type===3)return null;if(x.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var P=x.lower,Z=x.upper,A=x.lowerOpen,S=x.upperOpen,R=P===void 0?Z===void 0?null:n.upperBound(Z,!!S):Z===void 0?n.lowerBound(P,!!A):n.bound(P,Z,!!A,!!S);return R}function c(x){var P=x.name;function Z(R){var B=R.trans,G=R.type,U=R.keys,V=R.values,j=R.range;return new Promise(function($,ie){$=He($);var J=B.objectStore(P),de=J.keyPath==null,Ie=G==="put"||G==="add";if(!Ie&&G!=="delete"&&G!=="deleteRange")throw new Error("Invalid operation type: "+G);var ae=(U||V||{length:1}).length;if(U&&V&&U.length!==V.length)throw new Error("Given keys array must have same length as given values array.");if(ae===0)return $({numFailures:0,failures:{},results:[],lastResult:void 0});var Ae,he=[],Pe=[],le=0,$e=function(vn){++le,si(vn)};if(G==="deleteRange"){if(j.type===4)return $({numFailures:le,failures:Pe,results:[],lastResult:void 0});j.type===3?he.push(Ae=J.clear()):he.push(Ae=J.delete(u(j)))}else{var Et=Ie?de?[V,U]:[V,null]:[U,null],hn=Et[0],Mt=Et[1];if(Ie)for(var Zt=0;Zt<ae;++Zt)he.push(Ae=Mt&&Mt[Zt]!==void 0?J[G](hn[Zt],Mt[Zt]):J[G](hn[Zt])),Ae.onerror=$e;else for(var Zt=0;Zt<ae;++Zt)he.push(Ae=J[G](hn[Zt])),Ae.onerror=$e}var Wn=function(vn){var hi=vn.target.result;he.forEach(function(an,aa){return an.error!=null&&(Pe[aa]=an.error)}),$({numFailures:le,failures:Pe,results:G==="delete"?U:he.map(function(an){return an.result}),lastResult:hi})};Ae.onerror=function(vn){$e(vn),Wn(vn)},Ae.onsuccess=Wn})}function A(R){var B=R.trans,G=R.values,U=R.query,V=R.reverse,j=R.unique;return new Promise(function($,ie){$=He($);var J=U.index,de=U.range,Ie=B.objectStore(P),ae=J.isPrimaryKey?Ie:Ie.index(J.name),Ae=V?j?"prevunique":"prev":j?"nextunique":"next",he=G||!("openKeyCursor"in ae)?ae.openCursor(u(de),Ae):ae.openKeyCursor(u(de),Ae);he.onerror=dn(ie),he.onsuccess=He(function(Pe){var le=he.result;if(!le){$(null);return}le.___id=++kc,le.done=!1;var $e=le.continue.bind(le),Et=le.continuePrimaryKey;Et&&(Et=Et.bind(le));var hn=le.advance.bind(le),Mt=function(){throw new Error("Cursor not started")},Zt=function(){throw new Error("Cursor not stopped")};le.trans=B,le.stop=le.continue=le.continuePrimaryKey=le.advance=Mt,le.fail=He(ie),le.next=function(){var Wn=this,vn=1;return this.start(function(){return vn--?Wn.continue():Wn.stop()}).then(function(){return Wn})},le.start=function(Wn){var vn=new Promise(function(an,aa){an=He(an),he.onerror=dn(aa),le.fail=aa,le.stop=function(pf){le.stop=le.continue=le.continuePrimaryKey=le.advance=Zt,an(pf)}}),hi=function(){if(he.result)try{Wn()}catch(an){le.fail(an)}else le.done=!0,le.start=function(){throw new Error("Cursor behind last entry")},le.stop()};return he.onsuccess=He(function(an){he.onsuccess=hi,hi()}),le.continue=$e,le.continuePrimaryKey=Et,le.advance=hn,hi(),vn},$(le)},ie)})}function S(R){return function(B){return new Promise(function(G,U){G=He(G);var V=B.trans,j=B.values,$=B.limit,ie=B.query,J=$===1/0?void 0:$,de=ie.index,Ie=ie.range,ae=V.objectStore(P),Ae=de.isPrimaryKey?ae:ae.index(de.name),he=u(Ie);if($===0)return G({result:[]});if(R){var Pe=j?Ae.getAll(he,J):Ae.getAllKeys(he,J);Pe.onsuccess=function(hn){return G({result:hn.target.result})},Pe.onerror=dn(U)}else{var le=0,$e=j||!("openKeyCursor"in Ae)?Ae.openCursor(he):Ae.openKeyCursor(he),Et=[];$e.onsuccess=function(hn){var Mt=$e.result;if(!Mt)return G({result:Et});if(Et.push(j?Mt.value:Mt.primaryKey),++le===$)return G({result:Et});Mt.continue()},$e.onerror=dn(U)}})}}return{name:P,schema:x,mutate:Z,getMany:function(R){var B=R.trans,G=R.keys;return new Promise(function(U,V){U=He(U);for(var j=B.objectStore(P),$=G.length,ie=new Array($),J=0,de=0,Ie,ae=function(le){var $e=le.target;(ie[$e._pos]=$e.result)!=null,++de===J&&U(ie)},Ae=dn(V),he=0;he<$;++he){var Pe=G[he];Pe!=null&&(Ie=j.get(G[he]),Ie._pos=he,Ie.onsuccess=ae,Ie.onerror=Ae,++J)}J===0&&U(ie)})},get:function(R){var B=R.trans,G=R.key;return new Promise(function(U,V){U=He(U);var j=B.objectStore(P),$=j.get(G);$.onsuccess=function(ie){return U(ie.target.result)},$.onerror=dn(V)})},query:S(p),openCursor:A,count:function(R){var B=R.query,G=R.trans,U=B.index,V=B.range;return new Promise(function(j,$){var ie=G.objectStore(P),J=U.isPrimaryKey?ie:ie.index(U.name),de=u(V),Ie=de?J.count(de):J.count();Ie.onsuccess=He(function(ae){return j(ae.target.result)}),Ie.onerror=dn($)})}}}var d=o(t,i),v=d.schema,p=d.hasGetAll,_=v.tables.map(function(x){return c(x)}),k={};return _.forEach(function(x){return k[x.name]=x}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(x){var P=k[x];if(!P)throw new Error("Table '".concat(x,"' not found"));return k[x]},MIN_KEY:-1/0,MAX_KEY:li(n),schema:v}}function Ic(t,n){return n.reduce(function(i,o){var u=o.create;return l(l({},i),u(i))},t)}function Sc(t,n,i,o){var u=i.IDBKeyRange;i.indexedDB;var c=Ic(Dc(n,u,o),t.dbcore);return{dbcore:c}}function qi(t,n){var i=n.db,o=Sc(t._middlewares,i,t._deps,n);t.core=o.dbcore,t.tables.forEach(function(u){var c=u.name;t.core.schema.tables.some(function(d){return d.name===c})&&(u.core=t.core.table(c),t[c]instanceof t.Table&&(t[c].core=u.core))})}function Zi(t,n,i,o){i.forEach(function(u){var c=o[u];n.forEach(function(d){var v=H(d,u);(!v||"value"in v&&v.value===void 0)&&(d===t.Transaction.prototype||d instanceof t.Transaction?K(d,u,{get:function(){return this.table(u)},set:function(p){L(this,u,{value:p,writable:!0,configurable:!0,enumerable:!0})}}):d[u]=new t.Table(u,c))})})}function vo(t,n){n.forEach(function(i){for(var o in i)i[o]instanceof t.Table&&delete i[o]})}function Oc(t,n){return t._cfg.version-n._cfg.version}function Cc(t,n,i,o){var u=t._dbSchema;i.objectStoreNames.contains("$meta")&&!u.$meta&&(u.$meta=fo("$meta",Js("")[0],[]),t._storeNames.push("$meta"));var c=t._createTransaction("readwrite",t._storeNames,u);c.create(i),c._completion.catch(o);var d=c._reject.bind(c),v=ue.transless||ue;Bn(function(){if(ue.trans=c,ue.transless=v,n===0)y(u).forEach(function(p){mo(i,p,u[p].primKey,u[p].indexes)}),qi(t,i),ee.follow(function(){return t.on.populate.fire(c)}).catch(d);else return qi(t,i),Pc(t,c,n).then(function(p){return Lc(t,p,c,i)}).catch(d)})}function Rc(t,n){$s(t._dbSchema,n),n.db.version%10===0&&!n.objectStoreNames.contains("$meta")&&n.db.createObjectStore("$meta").add(Math.ceil(n.db.version/10-1),"version");var i=Xi(t,t.idbdb,n);$i(t,t._dbSchema,n);for(var o=po(i,t._dbSchema),u=function(_){if(_.change.length||_.recreate)return console.warn("Unable to patch indexes of table ".concat(_.name," because it has changes on the type of index or primary key.")),{value:void 0};var k=n.objectStore(_.name);_.add.forEach(function(x){Lt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(_.name,".").concat(x.src)),Qi(k,x)})},c=0,d=o.change;c<d.length;c++){var v=d[c],p=u(v);if(typeof p=="object")return p.value}}function Pc(t,n,i){return n.storeNames.includes("$meta")?n.table("$meta").get("version").then(function(o){return o??i}):ee.resolve(i)}function Lc(t,n,i,o){var u=[],c=t._versions,d=t._dbSchema=Xi(t,t.idbdb,o),v=c.filter(function(_){return _._cfg.version>=n});if(v.length===0)return ee.resolve();v.forEach(function(_){u.push(function(){var k=d,x=_._cfg.dbschema;$i(t,k,o),$i(t,x,o),d=t._dbSchema=x;var P=po(k,x);P.add.forEach(function(G){mo(o,G[0],G[1].primKey,G[1].indexes)}),P.change.forEach(function(G){if(G.recreate)throw new te.Upgrade("Not yet support for changing primary key");var U=o.objectStore(G.name);G.add.forEach(function(V){return Qi(U,V)}),G.change.forEach(function(V){U.deleteIndex(V.name),Qi(U,V)}),G.del.forEach(function(V){return U.deleteIndex(V)})});var Z=_._cfg.contentUpgrade;if(Z&&_._cfg.version>n){qi(t,o),i._memoizedTables={};var A=De(x);P.del.forEach(function(G){A[G]=k[G]}),vo(t,[t.Transaction.prototype]),Zi(t,[t.Transaction.prototype],y(A),A),i.schema=A;var S=xn(Z);S&&Pr();var R,B=ee.follow(function(){if(R=Z(i),R&&S){var G=jn.bind(null,null);R.then(G,G)}});return R&&typeof R.then=="function"?ee.resolve(R):B.then(function(){return R})}}),u.push(function(k){var x=_._cfg.dbschema;Mc(x,k),vo(t,[t.Transaction.prototype]),Zi(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),i.schema=t._dbSchema}),u.push(function(k){t.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(t.idbdb.version/10)===_._cfg.version?(t.idbdb.deleteObjectStore("$meta"),delete t._dbSchema.$meta,t._storeNames=t._storeNames.filter(function(x){return x!=="$meta"})):k.objectStore("$meta").put(_._cfg.version,"version"))})});function p(){return u.length?ee.resolve(u.shift()(i.idbtrans)).then(p):ee.resolve()}return p().then(function(){$s(d,o)})}function po(t,n){var i={del:[],add:[],change:[]},o;for(o in t)n[o]||i.del.push(o);for(o in n){var u=t[o],c=n[o];if(!u)i.add.push([o,c]);else{var d={name:o,def:c,recreate:!1,del:[],add:[],change:[]};if(""+(u.primKey.keyPath||"")!=""+(c.primKey.keyPath||"")||u.primKey.auto!==c.primKey.auto)d.recreate=!0,i.change.push(d);else{var v=u.idxByName,p=c.idxByName,_=void 0;for(_ in v)p[_]||d.del.push(_);for(_ in p){var k=v[_],x=p[_];k?k.src!==x.src&&d.change.push(x):d.add.push(x)}(d.del.length>0||d.add.length>0||d.change.length>0)&&i.change.push(d)}}}return i}function mo(t,n,i,o){var u=t.db.createObjectStore(n,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});return o.forEach(function(c){return Qi(u,c)}),u}function $s(t,n){y(t).forEach(function(i){n.db.objectStoreNames.contains(i)||(Lt&&console.debug("Dexie: Creating missing table",i),mo(n,i,t[i].primKey,t[i].indexes))})}function Mc(t,n){[].slice.call(n.db.objectStoreNames).forEach(function(i){return t[i]==null&&n.db.deleteObjectStore(i)})}function Qi(t,n){t.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function Xi(t,n,i){var o={},u=Y(n.objectStoreNames,0);return u.forEach(function(c){for(var d=i.objectStore(c),v=d.keyPath,p=co(Qs(v),v||"",!0,!1,!!d.autoIncrement,v&&typeof v!="string",!0),_=[],k=0;k<d.indexNames.length;++k){var x=d.index(d.indexNames[k]);v=x.keyPath;var P=co(x.name,v,!!x.unique,!!x.multiEntry,!1,v&&typeof v!="string",!1);_.push(P)}o[c]=fo(c,p,_)}),o}function Nc(t,n,i){t.verno=n.version/10;var o=t._dbSchema=Xi(t,n,i);t._storeNames=Y(n.objectStoreNames,0),Zi(t,[t._allTables],y(o),o)}function Kc(t,n){var i=Xi(t,t.idbdb,n),o=po(i,t._dbSchema);return!(o.add.length||o.change.some(function(u){return u.add.length||u.change.length}))}function $i(t,n,i){for(var o=i.db.objectStoreNames,u=0;u<o.length;++u){var c=o[u],d=i.objectStore(c);t._hasGetAll="getAll"in d;for(var v=0;v<d.indexNames.length;++v){var p=d.indexNames[v],_=d.index(p).keyPath,k=typeof _=="string"?_:"["+Y(_).join("+")+"]";if(n[c]){var x=n[c].idxByName[k];x&&(x.name=p,delete n[c].idxByName[k],n[c].idxByName[p]=x)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function Js(t){return t.split(",").map(function(n,i){var o,u=n.split(":"),c=(o=u[1])===null||o===void 0?void 0:o.trim();n=u[0].trim();var d=n.replace(/([&*]|\+\+)/g,""),v=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return co(d,v||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),g(v),i===0,c)})}var Fc=(function(){function t(){}return t.prototype._createTableSchema=function(n,i,o){return fo(n,i,o)},t.prototype._parseIndexSyntax=function(n){return Js(n)},t.prototype._parseStoresSpec=function(n,i){var o=this;y(n).forEach(function(u){if(n[u]!==null){var c=o._parseIndexSyntax(n[u]),d=c.shift();if(!d)throw new te.Schema("Invalid schema for table "+u+": "+n[u]);if(d.unique=!0,d.multi)throw new te.Schema("Primary key cannot be multiEntry*");c.forEach(function(p){if(p.auto)throw new te.Schema("Only primary key can be marked as autoIncrement (++)");if(!p.keyPath)throw new te.Schema("Index must have a name and cannot be an empty string")});var v=o._createTableSchema(u,d,c);i[u]=v}})},t.prototype.stores=function(n){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?w(this._cfg.storesSource,n):n;var o=i._versions,u={},c={};return o.forEach(function(d){w(u,d._cfg.storesSource),c=d._cfg.dbschema={},d._parseStoresSpec(u,c)}),i._dbSchema=c,vo(i,[i._allTables,i,i.Transaction.prototype]),Zi(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],y(c),c),i._storeNames=y(c),this},t.prototype.upgrade=function(n){return this._cfg.contentUpgrade=lt(this._cfg.contentUpgrade||M,n),this},t})();function Bc(t){return oi(Fc.prototype,function(i){this.db=t,this._cfg={version:i,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function yo(t,n){var i=t._dbNamesDB;return i||(i=t._dbNamesDB=new Dn(Gi,{addons:[],indexedDB:t,IDBKeyRange:n}),i.version(1).stores({dbnames:"name"})),i.table("dbnames")}function go(t){return t&&typeof t.databases=="function"}function jc(t){var n=t.indexedDB,i=t.IDBKeyRange;return go(n)?Promise.resolve(n.databases()).then(function(o){return o.map(function(u){return u.name}).filter(function(u){return u!==Gi})}):yo(n,i).toCollection().primaryKeys()}function zc(t,n){var i=t.indexedDB,o=t.IDBKeyRange;!go(i)&&n!==Gi&&yo(i,o).put({name:n}).catch(M)}function Gc(t,n){var i=t.indexedDB,o=t.IDBKeyRange;!go(i)&&n!==Gi&&yo(i,o).delete(n).catch(M)}function _o(t){return Bn(function(){return ue.letThrough=!0,t()})}function Uc(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var n;return new Promise(function(i){var o=function(){return indexedDB.databases().finally(i)};n=setInterval(o,100),o()}).finally(function(){return clearInterval(n)})}var bo;function wo(t){return!("from"in t)}var wt=function(t,n){if(this)w(this,arguments.length?{d:1,from:t,to:arguments.length>1?n:t}:{d:0});else{var i=new wt;return t&&"d"in t&&w(i,t),i}};T(wt.prototype,(bo={add:function(t){return di(this,t),this},addKey:function(t){return fi(this,t,t),this},addKeys:function(t){var n=this;return t.forEach(function(i){return fi(n,i,i)}),this},hasKey:function(t){var n=Ji(this).next(t).value;return n&&Re(n.from,t)<=0&&Re(n.to,t)>=0}},bo[pt]=function(){return Ji(this)},bo));function fi(t,n,i){var o=Re(n,i);if(!isNaN(o)){if(o>0)throw RangeError();if(wo(t))return w(t,{from:n,to:i,d:1});var u=t.l,c=t.r;if(Re(i,t.from)<0)return u?fi(u,n,i):t.l={from:n,to:i,d:1,l:null,r:null},tu(t);if(Re(n,t.to)>0)return c?fi(c,n,i):t.r={from:n,to:i,d:1,l:null,r:null},tu(t);Re(n,t.from)<0&&(t.from=n,t.l=null,t.d=c?c.d+1:1),Re(i,t.to)>0&&(t.to=i,t.r=null,t.d=t.l?t.l.d+1:1);var d=!t.r;u&&!t.l&&di(t,u),c&&d&&di(t,c)}}function di(t,n){function i(o,u){var c=u.from,d=u.to,v=u.l,p=u.r;fi(o,c,d),v&&i(o,v),p&&i(o,p)}wo(n)||i(t,n)}function eu(t,n){var i=Ji(n),o=i.next();if(o.done)return!1;for(var u=o.value,c=Ji(t),d=c.next(u.from),v=d.value;!o.done&&!d.done;){if(Re(v.from,u.to)<=0&&Re(v.to,u.from)>=0)return!0;Re(u.from,v.from)<0?u=(o=i.next(v.from)).value:v=(d=c.next(u.from)).value}return!1}function Ji(t){var n=wo(t)?null:{s:0,n:t};return{next:function(i){for(var o=arguments.length>0;n;)switch(n.s){case 0:if(n.s=1,o)for(;n.n.l&&Re(i,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!o||Re(i,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function tu(t){var n,i,o=(((n=t.r)===null||n===void 0?void 0:n.d)||0)-(((i=t.l)===null||i===void 0?void 0:i.d)||0),u=o>1?"r":o<-1?"l":"";if(u){var c=u==="r"?"l":"r",d=l({},t),v=t[u];t.from=v.from,t.to=v.to,t[u]=v[u],d[u]=v[c],t[c]=d,d.d=nu(d)}t.d=nu(t)}function nu(t){var n=t.r,i=t.l;return(n?i?Math.max(n.d,i.d):n.d:i?i.d:0)+1}function ea(t,n){return y(n).forEach(function(i){t[i]?di(t[i],n[i]):t[i]=Ke(n[i])}),t}function Eo(t,n){return t.all||n.all||Object.keys(t).some(function(i){return n[i]&&eu(n[i],t[i])})}var dr={},xo={},To=!1;function ta(t,n){ea(xo,t),To||(To=!0,setTimeout(function(){To=!1;var i=xo;xo={},Ao(i,!1)},0))}function Ao(t,n){n===void 0&&(n=!1);var i=new Set;if(t.all)for(var o=0,u=Object.values(dr);o<u.length;o++){var c=u[o];ru(c,t,i,n)}else for(var d in t){var v=/^idb\:\/\/(.*)\/(.*)\//.exec(d);if(v){var p=v[1],_=v[2],c=dr["idb://".concat(p,"/").concat(_)];c&&ru(c,t,i,n)}}i.forEach(function(k){return k()})}function ru(t,n,i,o){for(var u=[],c=0,d=Object.entries(t.queries.query);c<d.length;c++){for(var v=d[c],p=v[0],_=v[1],k=[],x=0,P=_;x<P.length;x++){var Z=P[x];Eo(n,Z.obsSet)?Z.subscribers.forEach(function(B){return i.add(B)}):o&&k.push(Z)}o&&u.push([p,k])}if(o)for(var A=0,S=u;A<S.length;A++){var R=S[A],p=R[0],k=R[1];t.queries.query[p]=k}}function Vc(t){var n=t._state,i=t._deps.indexedDB;if(n.isBeingOpened||t.idbdb)return n.dbReadyPromise.then(function(){return n.dbOpenError?nt(n.dbOpenError):t});n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var o=n.openCanceller,u=Math.round(t.verno*10),c=!1;function d(){if(n.openCanceller!==o)throw new te.DatabaseClosed("db.open() was cancelled")}var v=n.dbReadyResolve,p=null,_=!1,k=function(){return new ee(function(x,P){if(d(),!i)throw new te.MissingAPI;var Z=t.name,A=n.autoSchema||!u?i.open(Z):i.open(Z,u);if(!A)throw new te.MissingAPI;A.onerror=dn(P),A.onblocked=He(t._fireOnBlocked),A.onupgradeneeded=He(function(S){if(p=A.transaction,n.autoSchema&&!t._options.allowEmptyDB){A.onerror=si,p.abort(),A.result.close();var R=i.deleteDatabase(Z);R.onsuccess=R.onerror=He(function(){P(new te.NoSuchDatabase("Database ".concat(Z," doesnt exist")))})}else{p.onerror=dn(P);var B=S.oldVersion>Math.pow(2,62)?0:S.oldVersion;_=B<1,t.idbdb=A.result,c&&Rc(t,p),Cc(t,B/10,p,P)}},P),A.onsuccess=He(function(){p=null;var S=t.idbdb=A.result,R=Y(S.objectStoreNames);if(R.length>0)try{var B=S.transaction(Tc(R),"readonly");if(n.autoSchema)Nc(t,S,B);else if($i(t,t._dbSchema,B),!Kc(t,B)&&!c)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),S.close(),u=S.version+1,c=!0,x(k());qi(t,B)}catch{}Lr.push(t),S.onversionchange=He(function(G){n.vcFired=!0,t.on("versionchange").fire(G)}),S.onclose=He(function(){t.close({disableAutoOpen:!1})}),_&&zc(t._deps,Z),x()},P)}).catch(function(x){switch(x?.name){case"UnknownError":if(n.PR1398_maxLoop>0)return n.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),k();break;case"VersionError":if(u>0)return u=0,k();break}return ee.reject(x)})};return ee.race([o,(typeof navigator>"u"?ee.resolve():Uc()).then(k)]).then(function(){return d(),n.onReadyBeingFired=[],ee.resolve(_o(function(){return t.on.ready.fire(t.vip)})).then(function x(){if(n.onReadyBeingFired.length>0){var P=n.onReadyBeingFired.reduce(lt,M);return n.onReadyBeingFired=[],ee.resolve(_o(function(){return P(t.vip)})).then(x)}})}).finally(function(){n.openCanceller===o&&(n.onReadyBeingFired=null,n.isBeingOpened=!1)}).catch(function(x){n.dbOpenError=x;try{p&&p.abort()}catch{}return o===n.openCanceller&&t._close(),nt(x)}).finally(function(){n.openComplete=!0,v()}).then(function(){if(_){var x={};t.tables.forEach(function(P){P.schema.indexes.forEach(function(Z){Z.name&&(x["idb://".concat(t.name,"/").concat(P.name,"/").concat(Z.name)]=new wt(-1/0,[[[]]]))}),x["idb://".concat(t.name,"/").concat(P.name,"/")]=x["idb://".concat(t.name,"/").concat(P.name,"/:dels")]=new wt(-1/0,[[[]]])}),Un(ui).fire(x),Ao(x,!0)}return t})}function ko(t){var n=function(d){return t.next(d)},i=function(d){return t.throw(d)},o=c(n),u=c(i);function c(d){return function(v){var p=d(v),_=p.value;return p.done?_:!_||typeof _.then!="function"?g(_)?Promise.all(_).then(o,u):o(_):_.then(o,u)}}return c(n)()}function Hc(t,n,i){var o=arguments.length;if(o<2)throw new te.InvalidArgument("Too few arguments");for(var u=new Array(o-1);--o;)u[o-1]=arguments[o];i=u.pop();var c=Be(u);return[t,c,i]}function iu(t,n,i,o,u){return ee.resolve().then(function(){var c=ue.transless||ue,d=t._createTransaction(n,i,t._dbSchema,o);d.explicit=!0;var v={trans:d,transless:c};if(o)d.idbtrans=o.idbtrans;else try{d.create(),d.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(x){return x.name===ge.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return iu(t,n,i,null,u)})):nt(x)}var p=xn(u);p&&Pr();var _,k=ee.follow(function(){if(_=u.call(d,d),_)if(p){var x=jn.bind(null,null);_.then(x,x)}else typeof _.next=="function"&&typeof _.throw=="function"&&(_=ko(_))},v);return(_&&typeof _.then=="function"?ee.resolve(_).then(function(x){return d.active?x:nt(new te.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):k.then(function(){return _})).then(function(x){return o&&d._resolve(),d._completion.then(function(){return x})}).catch(function(x){return d._reject(x),nt(x)})})}function na(t,n,i){for(var o=g(t)?t.slice():[t],u=0;u<i;++u)o.push(n);return o}function Wc(t){return l(l({},t),{table:function(n){var i=t.table(n),o=i.schema,u={},c=[];function d(S,R,B){var G=ci(S),U=u[G]=u[G]||[],V=S==null?0:typeof S=="string"?1:S.length,j=R>0,$=l(l({},B),{name:j?"".concat(G,"(virtual-from:").concat(B.name,")"):B.name,lowLevelIndex:B,isVirtual:j,keyTail:R,keyLength:V,extractKey:ho(S),unique:!j&&B.unique});if(U.push($),$.isPrimaryKey||c.push($),V>1){var ie=V===2?S[0]:S.slice(0,V-1);d(ie,R+1,B)}return U.sort(function(J,de){return J.keyTail-de.keyTail}),$}var v=d(o.primaryKey.keyPath,0,o.primaryKey);u[":id"]=[v];for(var p=0,_=o.indexes;p<_.length;p++){var k=_[p];d(k.keyPath,0,k)}function x(S){var R=u[ci(S)];return R&&R[0]}function P(S,R){return{type:S.type===1?2:S.type,lower:na(S.lower,S.lowerOpen?t.MAX_KEY:t.MIN_KEY,R),lowerOpen:!0,upper:na(S.upper,S.upperOpen?t.MIN_KEY:t.MAX_KEY,R),upperOpen:!0}}function Z(S){var R=S.query.index;return R.isVirtual?l(l({},S),{query:{index:R.lowLevelIndex,range:P(S.query.range,R.keyTail)}}):S}var A=l(l({},i),{schema:l(l({},o),{primaryKey:v,indexes:c,getIndexByKeyPath:x}),count:function(S){return i.count(Z(S))},query:function(S){return i.query(Z(S))},openCursor:function(S){var R=S.query.index,B=R.keyTail,G=R.isVirtual,U=R.keyLength;if(!G)return i.openCursor(S);function V(j){function $(J){J!=null?j.continue(na(J,S.reverse?t.MAX_KEY:t.MIN_KEY,B)):S.unique?j.continue(j.key.slice(0,U).concat(S.reverse?t.MIN_KEY:t.MAX_KEY,B)):j.continue()}var ie=Object.create(j,{continue:{value:$},continuePrimaryKey:{value:function(J,de){j.continuePrimaryKey(na(J,t.MAX_KEY,B),de)}},primaryKey:{get:function(){return j.primaryKey}},key:{get:function(){var J=j.key;return U===1?J[0]:J.slice(0,U)}},value:{get:function(){return j.value}}});return ie}return i.openCursor(Z(S)).then(function(j){return j&&V(j)})}});return A}})}var Yc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:Wc};function Do(t,n,i,o){return i=i||{},o=o||"",y(t).forEach(function(u){if(!b(n,u))i[o+u]=void 0;else{var c=t[u],d=n[u];if(typeof c=="object"&&typeof d=="object"&&c&&d){var v=nn(c),p=nn(d);v!==p?i[o+u]=n[u]:v==="Object"?Do(c,d,i,o+u+"."):c!==d&&(i[o+u]=n[u])}else c!==d&&(i[o+u]=n[u])}}),y(n).forEach(function(u){b(t,u)||(i[o+u]=n[u])}),i}function Io(t,n){return n.type==="delete"?n.keys:n.keys||n.values.map(t.extractKey)}var qc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return l(l({},t),{table:function(n){var i=t.table(n),o=i.schema.primaryKey,u=l(l({},i),{mutate:function(c){var d=ue.trans,v=d.table(n).hook,p=v.deleting,_=v.creating,k=v.updating;switch(c.type){case"add":if(_.fire===M)break;return d._promise("readwrite",function(){return x(c)},!0);case"put":if(_.fire===M&&k.fire===M)break;return d._promise("readwrite",function(){return x(c)},!0);case"delete":if(p.fire===M)break;return d._promise("readwrite",function(){return x(c)},!0);case"deleteRange":if(p.fire===M)break;return d._promise("readwrite",function(){return P(c)},!0)}return i.mutate(c);function x(A){var S=ue.trans,R=A.keys||Io(o,A);if(!R)throw new Error("Keys missing");return A=A.type==="add"||A.type==="put"?l(l({},A),{keys:R}):l({},A),A.type!=="delete"&&(A.values=f([],A.values)),A.keys&&(A.keys=f([],A.keys)),Zc(i,A,R).then(function(B){var G=R.map(function(U,V){var j=B[V],$={onerror:null,onsuccess:null};if(A.type==="delete")p.fire.call($,U,j,S);else if(A.type==="add"||j===void 0){var ie=_.fire.call($,U,A.values[V],S);U==null&&ie!=null&&(U=ie,A.keys[V]=U,o.outbound||be(A.values[V],o.keyPath,U))}else{var J=Do(j,A.values[V]),de=k.fire.call($,J,U,j,S);if(de){var Ie=A.values[V];Object.keys(de).forEach(function(ae){b(Ie,ae)?Ie[ae]=de[ae]:be(Ie,ae,de[ae])})}}return $});return i.mutate(A).then(function(U){for(var V=U.failures,j=U.results,$=U.numFailures,ie=U.lastResult,J=0;J<R.length;++J){var de=j?j[J]:R[J],Ie=G[J];de==null?Ie.onerror&&Ie.onerror(V[J]):Ie.onsuccess&&Ie.onsuccess(A.type==="put"&&B[J]?A.values[J]:de)}return{failures:V,results:j,numFailures:$,lastResult:ie}}).catch(function(U){return G.forEach(function(V){return V.onerror&&V.onerror(U)}),Promise.reject(U)})})}function P(A){return Z(A.trans,A.range,1e4)}function Z(A,S,R){return i.query({trans:A,values:!1,query:{index:o,range:S},limit:R}).then(function(B){var G=B.result;return x({type:"delete",keys:G,trans:A}).then(function(U){return U.numFailures>0?Promise.reject(U.failures[0]):G.length<R?{failures:[],numFailures:0,lastResult:void 0}:Z(A,l(l({},S),{lower:G[G.length-1],lowerOpen:!0}),R)})})}}});return u}})}};function Zc(t,n,i){return n.type==="add"?Promise.resolve([]):t.getMany({trans:n.trans,keys:i,cache:"immutable"})}function au(t,n,i){try{if(!n||n.keys.length<t.length)return null;for(var o=[],u=0,c=0;u<n.keys.length&&c<t.length;++u)Re(n.keys[u],t[c])===0&&(o.push(i?qe(n.values[u]):n.values[u]),++c);return o.length===t.length?o:null}catch{return null}}var Qc={stack:"dbcore",level:-1,create:function(t){return{table:function(n){var i=t.table(n);return l(l({},i),{getMany:function(o){if(!o.cache)return i.getMany(o);var u=au(o.keys,o.trans._cache,o.cache==="clone");return u?ee.resolve(u):i.getMany(o).then(function(c){return o.trans._cache={keys:o.keys,values:o.cache==="clone"?qe(c):c},c})},mutate:function(o){return o.type!=="add"&&(o.trans._cache=null),i.mutate(o)}})}}}};function ou(t,n){return t.trans.mode==="readonly"&&!!t.subscr&&!t.trans.explicit&&t.trans.db._options.cache!=="disabled"&&!n.schema.primaryKey.outbound}function su(t,n){switch(t){case"query":return n.values&&!n.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Xc={stack:"dbcore",level:0,name:"Observability",create:function(t){var n=t.schema.name,i=new wt(t.MIN_KEY,t.MAX_KEY);return l(l({},t),{transaction:function(o,u,c){if(ue.subscr&&u!=="readonly")throw new te.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ue.querier));return t.transaction(o,u,c)},table:function(o){var u=t.table(o),c=u.schema,d=c.primaryKey,v=c.indexes,p=d.extractKey,_=d.outbound,k=d.autoIncrement&&v.filter(function(A){return A.compound&&A.keyPath.includes(d.keyPath)}),x=l(l({},u),{mutate:function(A){var S,R,B=A.trans,G=A.mutatedParts||(A.mutatedParts={}),U=function(he){var Pe="idb://".concat(n,"/").concat(o,"/").concat(he);return G[Pe]||(G[Pe]=new wt)},V=U(""),j=U(":dels"),$=A.type,ie=A.type==="deleteRange"?[A.range]:A.type==="delete"?[A.keys]:A.values.length<50?[Io(d,A).filter(function(he){return he}),A.values]:[],J=ie[0],de=ie[1],Ie=A.trans._cache;if(g(J)){V.addKeys(J);var ae=$==="delete"||J.length===de.length?au(J,Ie):null;ae||j.addKeys(J),(ae||de)&&$c(U,c,ae,de)}else if(J){var Ae={from:(S=J.lower)!==null&&S!==void 0?S:t.MIN_KEY,to:(R=J.upper)!==null&&R!==void 0?R:t.MAX_KEY};j.add(Ae),V.add(Ae)}else V.add(i),j.add(i),c.indexes.forEach(function(he){return U(he.name).add(i)});return u.mutate(A).then(function(he){return J&&(A.type==="add"||A.type==="put")&&(V.addKeys(he.results),k&&k.forEach(function(Pe){for(var le=A.values.map(function(Mt){return Pe.extractKey(Mt)}),$e=Pe.keyPath.findIndex(function(Mt){return Mt===d.keyPath}),Et=0,hn=he.results.length;Et<hn;++Et)le[Et][$e]=he.results[Et];U(Pe.name).addKeys(le)})),B.mutatedParts=ea(B.mutatedParts||{},G),he})}}),P=function(A){var S,R,B=A.query,G=B.index,U=B.range;return[G,new wt((S=U.lower)!==null&&S!==void 0?S:t.MIN_KEY,(R=U.upper)!==null&&R!==void 0?R:t.MAX_KEY)]},Z={get:function(A){return[d,new wt(A.key)]},getMany:function(A){return[d,new wt().addKeys(A.keys)]},count:P,query:P,openCursor:P};return y(Z).forEach(function(A){x[A]=function(S){var R=ue.subscr,B=!!R,G=ou(ue,u)&&su(A,S),U=G?S.obsSet={}:R;if(B){var V=function(ae){var Ae="idb://".concat(n,"/").concat(o,"/").concat(ae);return U[Ae]||(U[Ae]=new wt)},j=V(""),$=V(":dels"),ie=Z[A](S),J=ie[0],de=ie[1];if(A==="query"&&J.isPrimaryKey&&!S.values?$.add(de):V(J.name||"").add(de),!J.isPrimaryKey)if(A==="count")$.add(i);else{var Ie=A==="query"&&_&&S.values&&u.query(l(l({},S),{values:!1}));return u[A].apply(this,arguments).then(function(ae){if(A==="query"){if(_&&S.values)return Ie.then(function(le){var $e=le.result;return j.addKeys($e),ae});var Ae=S.values?ae.result.map(p):ae.result;S.values?j.addKeys(Ae):$.addKeys(Ae)}else if(A==="openCursor"){var he=ae,Pe=S.values;return he&&Object.create(he,{key:{get:function(){return $.addKey(he.primaryKey),he.key}},primaryKey:{get:function(){var le=he.primaryKey;return $.addKey(le),le}},value:{get:function(){return Pe&&j.addKey(he.primaryKey),he.value}}})}return ae})}}return u[A].apply(this,arguments)}}),x}})}};function $c(t,n,i,o){function u(c){var d=t(c.name||"");function v(_){return _!=null?c.extractKey(_):null}var p=function(_){return c.multiEntry&&g(_)?_.forEach(function(k){return d.addKey(k)}):d.addKey(_)};(i||o).forEach(function(_,k){var x=i&&v(i[k]),P=o&&v(o[k]);Re(x,P)!==0&&(x!=null&&p(x),P!=null&&p(P))})}n.indexes.forEach(u)}function uu(t,n,i){if(i.numFailures===0)return n;if(n.type==="deleteRange")return null;var o=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;if(i.numFailures===o)return null;var u=l({},n);return g(u.keys)&&(u.keys=u.keys.filter(function(c,d){return!(d in i.failures)})),"values"in u&&g(u.values)&&(u.values=u.values.filter(function(c,d){return!(d in i.failures)})),u}function Jc(t,n){return n.lower===void 0?!0:n.lowerOpen?Re(t,n.lower)>0:Re(t,n.lower)>=0}function ef(t,n){return n.upper===void 0?!0:n.upperOpen?Re(t,n.upper)<0:Re(t,n.upper)<=0}function So(t,n){return Jc(t,n)&&ef(t,n)}function lu(t,n,i,o,u,c){if(!i||i.length===0)return t;var d=n.query.index,v=d.multiEntry,p=n.query.range,_=o.schema.primaryKey,k=_.extractKey,x=d.extractKey,P=(d.lowLevelIndex||d).extractKey,Z=i.reduce(function(A,S){var R=A,B=[];if(S.type==="add"||S.type==="put")for(var G=new wt,U=S.values.length-1;U>=0;--U){var V=S.values[U],j=k(V);if(!G.hasKey(j)){var $=x(V);(v&&g($)?$.some(function(ae){return So(ae,p)}):So($,p))&&(G.addKey(j),B.push(V))}}switch(S.type){case"add":{var ie=new wt().addKeys(n.values?A.map(function(ae){return k(ae)}):A);R=A.concat(n.values?B.filter(function(ae){var Ae=k(ae);return ie.hasKey(Ae)?!1:(ie.addKey(Ae),!0)}):B.map(function(ae){return k(ae)}).filter(function(ae){return ie.hasKey(ae)?!1:(ie.addKey(ae),!0)}));break}case"put":{var J=new wt().addKeys(S.values.map(function(ae){return k(ae)}));R=A.filter(function(ae){return!J.hasKey(n.values?k(ae):ae)}).concat(n.values?B:B.map(function(ae){return k(ae)}));break}case"delete":var de=new wt().addKeys(S.keys);R=A.filter(function(ae){return!de.hasKey(n.values?k(ae):ae)});break;case"deleteRange":var Ie=S.range;R=A.filter(function(ae){return!So(k(ae),Ie)});break}return R},t);return Z===t?t:(Z.sort(function(A,S){return Re(P(A),P(S))||Re(k(A),k(S))}),n.limit&&n.limit<1/0&&(Z.length>n.limit?Z.length=n.limit:t.length===n.limit&&Z.length<n.limit&&(u.dirty=!0)),c?Object.freeze(Z):Z)}function cu(t,n){return Re(t.lower,n.lower)===0&&Re(t.upper,n.upper)===0&&!!t.lowerOpen==!!n.lowerOpen&&!!t.upperOpen==!!n.upperOpen}function tf(t,n,i,o){if(t===void 0)return n!==void 0?-1:0;if(n===void 0)return 1;var u=Re(t,n);if(u===0){if(i&&o)return 0;if(i)return 1;if(o)return-1}return u}function nf(t,n,i,o){if(t===void 0)return n!==void 0?1:0;if(n===void 0)return-1;var u=Re(t,n);if(u===0){if(i&&o)return 0;if(i)return-1;if(o)return 1}return u}function rf(t,n){return tf(t.lower,n.lower,t.lowerOpen,n.lowerOpen)<=0&&nf(t.upper,n.upper,t.upperOpen,n.upperOpen)>=0}function af(t,n,i,o){var u=dr["idb://".concat(t,"/").concat(n)];if(!u)return[];var c=u.queries[i];if(!c)return[null,!1,u,null];var d=o.query?o.query.index.name:null,v=c[d||""];if(!v)return[null,!1,u,null];switch(i){case"query":var p=v.find(function(x){return x.req.limit===o.limit&&x.req.values===o.values&&cu(x.req.query.range,o.query.range)});if(p)return[p,!0,u,v];var _=v.find(function(x){var P="limit"in x.req?x.req.limit:1/0;return P>=o.limit&&(o.values?x.req.values:!0)&&rf(x.req.query.range,o.query.range)});return[_,!1,u,v];case"count":var k=v.find(function(x){return cu(x.req.query.range,o.query.range)});return[k,!!k,u,v]}}function of(t,n,i,o){t.subscribers.add(i),o.addEventListener("abort",function(){t.subscribers.delete(i),t.subscribers.size===0&&sf(t,n)})}function sf(t,n){setTimeout(function(){t.subscribers.size===0&&Ve(n,t)},3e3)}var uf={stack:"dbcore",level:0,name:"Cache",create:function(t){var n=t.schema.name,i=l(l({},t),{transaction:function(o,u,c){var d=t.transaction(o,u,c);if(u==="readwrite"){var v=new AbortController,p=v.signal,_=function(k){return function(){if(v.abort(),u==="readwrite"){for(var x=new Set,P=0,Z=o;P<Z.length;P++){var A=Z[P],S=dr["idb://".concat(n,"/").concat(A)];if(S){var R=t.table(A),B=S.optimisticOps.filter(function(Pe){return Pe.trans===d});if(d._explicit&&k&&d.mutatedParts)for(var G=0,U=Object.values(S.queries.query);G<U.length;G++)for(var V=U[G],j=0,$=V.slice();j<$.length;j++){var ie=$[j];Eo(ie.obsSet,d.mutatedParts)&&(Ve(V,ie),ie.subscribers.forEach(function(Pe){return x.add(Pe)}))}else if(B.length>0){S.optimisticOps=S.optimisticOps.filter(function(Pe){return Pe.trans!==d});for(var J=0,de=Object.values(S.queries.query);J<de.length;J++)for(var V=de[J],Ie=0,ae=V.slice();Ie<ae.length;Ie++){var ie=ae[Ie];if(ie.res!=null&&d.mutatedParts)if(k&&!ie.dirty){var Ae=Object.isFrozen(ie.res),he=lu(ie.res,ie.req,B,R,ie,Ae);ie.dirty?(Ve(V,ie),ie.subscribers.forEach(function($e){return x.add($e)})):he!==ie.res&&(ie.res=he,ie.promise=ee.resolve({result:he}))}else ie.dirty&&Ve(V,ie),ie.subscribers.forEach(function($e){return x.add($e)})}}}}x.forEach(function(Pe){return Pe()})}}};d.addEventListener("abort",_(!1),{signal:p}),d.addEventListener("error",_(!1),{signal:p}),d.addEventListener("complete",_(!0),{signal:p})}return d},table:function(o){var u=t.table(o),c=u.schema.primaryKey,d=l(l({},u),{mutate:function(v){var p=ue.trans;if(c.outbound||p.db._options.cache==="disabled"||p.explicit||p.idbtrans.mode!=="readwrite")return u.mutate(v);var _=dr["idb://".concat(n,"/").concat(o)];if(!_)return u.mutate(v);var k=u.mutate(v);return(v.type==="add"||v.type==="put")&&(v.values.length>=50||Io(c,v).some(function(x){return x==null}))?k.then(function(x){var P=l(l({},v),{values:v.values.map(function(A,S){var R;if(x.failures[S])return A;var B=!((R=c.keyPath)===null||R===void 0)&&R.includes(".")?qe(A):l({},A);return be(B,c.keyPath,x.results[S]),B})}),Z=uu(_,P,x);_.optimisticOps.push(Z),queueMicrotask(function(){return v.mutatedParts&&ta(v.mutatedParts)})}):(_.optimisticOps.push(v),v.mutatedParts&&ta(v.mutatedParts),k.then(function(x){if(x.numFailures>0){Ve(_.optimisticOps,v);var P=uu(_,v,x);P&&_.optimisticOps.push(P),v.mutatedParts&&ta(v.mutatedParts)}}),k.catch(function(){Ve(_.optimisticOps,v),v.mutatedParts&&ta(v.mutatedParts)})),k},query:function(v){var p;if(!ou(ue,u)||!su("query",v))return u.query(v);var _=((p=ue.trans)===null||p===void 0?void 0:p.db._options.cache)==="immutable",k=ue,x=k.requery,P=k.signal,Z=af(n,o,"query",v),A=Z[0],S=Z[1],R=Z[2],B=Z[3];if(A&&S)A.obsSet=v.obsSet;else{var G=u.query(v).then(function(U){var V=U.result;if(A&&(A.res=V),_){for(var j=0,$=V.length;j<$;++j)Object.freeze(V[j]);Object.freeze(V)}else U.result=qe(V);return U}).catch(function(U){return B&&A&&Ve(B,A),Promise.reject(U)});A={obsSet:v.obsSet,promise:G,subscribers:new Set,type:"query",req:v,dirty:!1},B?B.push(A):(B=[A],R||(R=dr["idb://".concat(n,"/").concat(o)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),R.queries.query[v.query.index.name||""]=B)}return of(A,B,x,P),A.promise.then(function(U){return{result:lu(U.result,v,R?.optimisticOps,u,A,_)}})}});return d}});return i}};function ra(t,n){return new Proxy(t,{get:function(i,o,u){return o==="db"?n:Reflect.get(i,o,u)}})}var Dn=(function(){function t(n,i){var o=this;this._middlewares={},this.verno=0;var u=t.dependencies;this._options=i=l({addons:t.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange};var c=i.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:M,dbReadyPromise:null,cancelOpen:M,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};d.dbReadyPromise=new ee(function(p){d.dbReadyResolve=p}),d.openCanceller=new ee(function(p,_){d.cancelOpen=_}),this._state=d,this.name=n,this.on=ai(this,"populate","blocked","versionchange","close",{ready:[lt,M]}),this.once=function(p,_){var k=function(){for(var x=[],P=0;P<arguments.length;P++)x[P]=arguments[P];o.on(p).unsubscribe(k),_.apply(o,x)};return o.on(p,k)},this.on.ready.subscribe=ne(this.on.ready.subscribe,function(p){return function(_,k){t.vip(function(){var x=o._state;if(x.openComplete)x.dbOpenError||ee.resolve().then(_),k&&p(_);else if(x.onReadyBeingFired)x.onReadyBeingFired.push(_),k&&p(_);else{p(_);var P=o;k||p(function Z(){P.on.ready.unsubscribe(_),P.on.ready.unsubscribe(Z)})}})}}),this.Collection=pc(this),this.Table=dc(this),this.Transaction=xc(this),this.Version=Bc(this),this.WhereClause=wc(this),this.on("versionchange",function(p){p.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(o.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(o.name,"'. Closing db now to resume the delete request.")),o.close({disableAutoOpen:!1})}),this.on("blocked",function(p){!p.newVersion||p.newVersion<p.oldVersion?console.warn("Dexie.delete('".concat(o.name,"') was blocked")):console.warn("Upgrade '".concat(o.name,"' blocked by other connection holding version ").concat(p.oldVersion/10))}),this._maxKey=li(i.IDBKeyRange),this._createTransaction=function(p,_,k,x){return new o.Transaction(p,_,k,o._options.chromeTransactionDurability,x)},this._fireOnBlocked=function(p){o.on("blocked").fire(p),Lr.filter(function(_){return _.name===o.name&&_!==o&&!_._state.vcFired}).map(function(_){return _.on("versionchange").fire(p)})},this.use(Qc),this.use(uf),this.use(Xc),this.use(Yc),this.use(qc);var v=new Proxy(this,{get:function(p,_,k){if(_==="_vip")return!0;if(_==="table")return function(P){return ra(o.table(P),v)};var x=Reflect.get(p,_,k);return x instanceof Vs?ra(x,v):_==="tables"?x.map(function(P){return ra(P,v)}):_==="_createTransaction"?function(){var P=x.apply(this,arguments);return ra(P,v)}:x}});this.vip=v,c.forEach(function(p){return p(o)})}return t.prototype.version=function(n){if(isNaN(n)||n<.1)throw new te.Type("Given version is not a positive number");if(n=Math.round(n*10)/10,this.idbdb||this._state.isBeingOpened)throw new te.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var i=this._versions,o=i.filter(function(u){return u._cfg.version===n})[0];return o||(o=new this.Version(n),i.push(o),i.sort(Oc),o.stores({}),this._state.autoSchema=!1,o)},t.prototype._whenReady=function(n){var i=this;return this.idbdb&&(this._state.openComplete||ue.letThrough||this._vip)?n():new ee(function(o,u){if(i._state.openComplete)return u(new te.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen){u(new te.DatabaseClosed);return}i.open().catch(M)}i._state.dbReadyPromise.then(o,u)}).then(n)},t.prototype.use=function(n){var i=n.stack,o=n.create,u=n.level,c=n.name;c&&this.unuse({stack:i,name:c});var d=this._middlewares[i]||(this._middlewares[i]=[]);return d.push({stack:i,create:o,level:u??10,name:c}),d.sort(function(v,p){return v.level-p.level}),this},t.prototype.unuse=function(n){var i=n.stack,o=n.name,u=n.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(c){return u?c.create!==u:o?c.name!==o:!1})),this},t.prototype.open=function(){var n=this;return lr(Fn,function(){return Vc(n)})},t.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var n=this._state,i=Lr.indexOf(this);if(i>=0&&Lr.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new ee(function(o){n.dbReadyResolve=o}),n.openCanceller=new ee(function(o,u){n.cancelOpen=u}))},t.prototype.close=function(n){var i=n===void 0?{disableAutoOpen:!0}:n,o=i.disableAutoOpen,u=this._state;o?(u.isBeingOpened&&u.cancelOpen(new te.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new te.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},t.prototype.delete=function(n){var i=this;n===void 0&&(n={disableAutoOpen:!0});var o=arguments.length>0&&typeof arguments[0]!="object",u=this._state;return new ee(function(c,d){var v=function(){i.close(n);var p=i._deps.indexedDB.deleteDatabase(i.name);p.onsuccess=He(function(){Gc(i._deps,i.name),c()}),p.onerror=dn(d),p.onblocked=i._fireOnBlocked};if(o)throw new te.InvalidArgument("Invalid closeOptions argument to db.delete()");u.isBeingOpened?u.dbReadyPromise.then(v):v()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var n=this;return y(this._allTables).map(function(i){return n._allTables[i]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var n=Hc.apply(this,arguments);return this._transaction.apply(this,n)},t.prototype._transaction=function(n,i,o){var u=this,c=ue.trans;(!c||c.db!==this||n.indexOf("!")!==-1)&&(c=null);var d=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");var v,p;try{if(p=i.map(function(k){var x=k instanceof u.Table?k.name:k;if(typeof x!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return x}),n=="r"||n===ao)v=ao;else if(n=="rw"||n==oo)v=oo;else throw new te.InvalidArgument("Invalid transaction mode: "+n);if(c){if(c.mode===ao&&v===oo)if(d)c=null;else throw new te.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");c&&p.forEach(function(k){if(c&&c.storeNames.indexOf(k)===-1)if(d)c=null;else throw new te.SubTransaction("Table "+k+" not included in parent transaction.")}),d&&c&&!c.active&&(c=null)}}catch(k){return c?c._promise(null,function(x,P){P(k)}):nt(k)}var _=iu.bind(null,this,v,p,c,o);return c?c._promise(v,_,"lock"):ue.trans?lr(ue.transless,function(){return u._whenReady(_)}):this._whenReady(_)},t.prototype.table=function(n){if(!b(this._allTables,n))throw new te.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},t})(),lf=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",cf=(function(){function t(n){this._subscribe=n}return t.prototype.subscribe=function(n,i,o){return this._subscribe(!n||typeof n=="function"?{next:n,error:i,complete:o}:n)},t.prototype[lf]=function(){return this},t})(),ia;try{ia={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{ia={indexedDB:null,IDBKeyRange:null}}function fu(t){var n=!1,i,o=new cf(function(u){var c=xn(t);function d(B){var G=Cr();try{c&&Pr();var U=Bn(t,B);return c&&(U=U.finally(jn)),U}finally{G&&Rr()}}var v=!1,p,_={},k={},x={get closed(){return v},unsubscribe:function(){v||(v=!0,p&&p.abort(),P&&Un.storagemutated.unsubscribe(S))}};u.start&&u.start(x);var P=!1,Z=function(){return no(R)};function A(){return Eo(k,_)}var S=function(B){ea(_,B),A()&&Z()},R=function(){if(!(v||!ia.indexedDB)){_={};var B={};p&&p.abort(),p=new AbortController;var G={subscr:B,signal:p.signal,requery:Z,querier:t,trans:null},U=d(G);Promise.resolve(U).then(function(V){n=!0,i=V,!(v||G.signal.aborted)&&(_={},k=B,!Pt(k)&&!P&&(Un(ui,S),P=!0),no(function(){return!v&&u.next&&u.next(V)}))},function(V){n=!1,["DatabaseClosedError","AbortError"].includes(V?.name)||v||no(function(){v||u.error&&u.error(V)})})}};return setTimeout(Z,0),x});return o.hasValue=function(){return n},o.getValue=function(){return i},o}var hr=Dn;T(hr,l(l({},C),{delete:function(t){var n=new hr(t,{addons:[]});return n.delete()},exists:function(t){return new hr(t,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return jc(hr.dependencies).then(t)}catch{return nt(new te.MissingAPI)}},defineClass:function(){function t(n){w(this,n)}return t},ignoreTransaction:function(t){return ue.trans?lr(ue.transless,t):t()},vip:_o,async:function(t){return function(){try{var n=ko(t.apply(this,arguments));return!n||typeof n.then!="function"?ee.resolve(n):n}catch(i){return nt(i)}}},spawn:function(t,n,i){try{var o=ko(t.apply(i,n||[]));return!o||typeof o.then!="function"?ee.resolve(o):o}catch(u){return nt(u)}},currentTransaction:{get:function(){return ue.trans||null}},waitFor:function(t,n){var i=ee.resolve(typeof t=="function"?hr.ignoreTransaction(t):t).timeout(n||6e4);return ue.trans?ue.trans.waitFor(i):i},Promise:ee,debug:{get:function(){return Lt},set:function(t){Ge(t)}},derive:F,extend:w,props:T,override:ne,Events:ai,on:Un,liveQuery:fu,extendObservabilitySet:ea,getByKeyPath:ce,setByKeyPath:be,delByKeyPath:ye,shallowClone:De,deepClone:qe,getObjectDiff:Do,cmp:Re,asap:me,minKey:io,addons:[],connections:Lr,errnames:ge,dependencies:ia,cache:dr,semVer:Ks,version:Ks.split(".").map(function(t){return parseInt(t)}).reduce(function(t,n,i){return t+n/Math.pow(10,i*2)})})),hr.maxKey=li(hr.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Un(ui,function(t){if(!Vn){var n;n=new CustomEvent(lo,{detail:t}),Vn=!0,dispatchEvent(n),Vn=!1}}),addEventListener(lo,function(t){var n=t.detail;Vn||Oo(n)}));function Oo(t){var n=Vn;try{Vn=!0,Un.storagemutated.fire(t),Ao(t,!0)}finally{Vn=n}}var Vn=!1,Hn,Co=function(){};typeof BroadcastChannel<"u"&&(Co=function(){Hn=new BroadcastChannel(lo),Hn.onmessage=function(t){return t.data&&Oo(t.data)}},Co(),typeof Hn.unref=="function"&&Hn.unref(),Un(ui,function(t){Vn||Hn.postMessage(t)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(t){if(!Dn.disableBfCache&&t.persisted){Lt&&console.debug("Dexie: handling persisted pagehide"),Hn?.close();for(var n=0,i=Lr;n<i.length;n++){var o=i[n];o.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(t){!Dn.disableBfCache&&t.persisted&&(Lt&&console.debug("Dexie: handling persisted pageshow"),Co(),Oo({all:new wt(-1/0,[[]])}))}));function ff(t){return new ii({add:t})}function df(t){return new ii({remove:t})}function hf(t,n){return new ii({replacePrefix:[t,n]})}ee.rejectionMapper=D,Ge(Lt);var vf=Object.freeze({__proto__:null,Dexie:Dn,liveQuery:fu,Entity:js,cmp:Re,PropModification:ii,replacePrefix:hf,add:ff,remove:df,default:Dn,RangeSet:wt,mergeRanges:di,rangesOverlap:eu});return l(Dn,vf,{default:Dn}),Dn}))})(da)),da.exports}var eh=Jd();const $o=Xd(eh),Au=Symbol.for("Dexie"),Ta=globalThis[Au]||(globalThis[Au]=$o);if($o.semVer!==Ta.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${$o.semVer} and ${Ta.semVer}`);const{liveQuery:Aa,mergeRanges:yp,rangesOverlap:gp,RangeSet:_p,cmp:bp,Entity:wp,PropModification:Ep,replacePrefix:xp,add:Tp,remove:Ap,DexieYProvider:kp}=Ta;function ku(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function ka(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?ku(Object(a),!0).forEach(function(s){qr(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ku(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function Br(e){"@babel/helpers - typeof";return Br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Br(e)}function qr(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function th(e,r){if(e==null)return{};var a={},s=Object.keys(e),l,f;for(f=0;f<s.length;f++)l=s[f],!(r.indexOf(l)>=0)&&(a[l]=e[l]);return a}function nh(e,r){if(e==null)return{};var a=th(e,r),s,l;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(l=0;l<f.length;l++)s=f[l],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function rh(e,r){return ah(e)||sh(e,r)||ks(e,r)||lh()}function tn(e){return ih(e)||oh(e)||ks(e)||uh()}function ih(e){if(Array.isArray(e))return Jo(e)}function ah(e){if(Array.isArray(e))return e}function oh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sh(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var s=[],l=!0,f=!1,h,y;try{for(a=a.call(e);!(l=(h=a.next()).done)&&(s.push(h.value),!(r&&s.length===r));l=!0);}catch(g){f=!0,y=g}finally{try{!l&&a.return!=null&&a.return()}finally{if(f)throw y}}return s}}function ks(e,r){if(e){if(typeof e=="string")return Jo(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Jo(e,r)}}function Jo(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,s=new Array(r);a<r;a++)s[a]=e[a];return s}function uh(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ri(e,r){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=ks(e))||r){a&&(e=a);var s=0,l=function(){};return{s:l,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,h=!1,y;return{s:function(){a=a.call(e)},n:function(){var g=a.next();return f=g.done,g},e:function(g){h=!0,y=g},f:function(){try{!f&&a.return!=null&&a.return()}finally{if(h)throw y}}}}var ch="finalize",fh="consider";function Zr(e,r,a){e.dispatchEvent(new CustomEvent(ch,{detail:{items:r,info:a}}))}function or(e,r,a){e.dispatchEvent(new CustomEvent(fh,{detail:{items:r,info:a}}))}var za="draggedEntered",Pi="draggedLeft",Ga="draggedOverIndex",Ds="draggedLeftDocument",Da={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function dh(e,r,a){e.dispatchEvent(new CustomEvent(za,{detail:{indexObj:r,draggedEl:a}}))}function hh(e,r,a){e.dispatchEvent(new CustomEvent(Pi,{detail:{draggedEl:r,type:Da.LEFT_FOR_ANOTHER,theOtherDz:a}}))}function vh(e,r){e.dispatchEvent(new CustomEvent(Pi,{detail:{draggedEl:r,type:Da.OUTSIDE_OF_ANY}}))}function ph(e,r,a){e.dispatchEvent(new CustomEvent(Ga,{detail:{indexObj:r,draggedEl:a}}))}function mh(e){window.dispatchEvent(new CustomEvent(Ds,{detail:{draggedEl:e}}))}var Rt={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:za,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:Ga,DRAGGED_LEFT:Pi,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},zt={POINTER:"pointer",KEYBOARD:"keyboard"},Ua="isDndShadowItem",Va="data-is-dnd-shadow-item-internal",yh="data-is-dnd-shadow-item-hint",Nl="id:dnd-shadow-placeholder-0000",gh="dnd-action-dragged-el",ct="id",es=0;function Kl(){es++}function Fl(){if(es===0)throw new Error("Bug! trying to decrement when there are no dropzones");es--}var Is=typeof window>"u";function ts(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a,s=r?wh(e):e.getBoundingClientRect(),l=getComputedStyle(e),f=l.transform;if(f){var h,y,g,w;if(f.startsWith("matrix3d("))a=f.slice(9,-1).split(/, /),h=+a[0],y=+a[5],g=+a[12],w=+a[13];else if(f.startsWith("matrix("))a=f.slice(7,-1).split(/, /),h=+a[0],y=+a[3],g=+a[4],w=+a[5];else return s;var E=l.transformOrigin,I=s.x-g-(1-h)*parseFloat(E),b=s.y-w-(1-y)*parseFloat(E.slice(E.indexOf(" ")+1)),T=h?s.width/h:e.offsetWidth,L=y?s.height/y:e.offsetHeight;return{x:I,y:b,width:T,height:L,top:b,right:I+T,bottom:b+L,left:I}}else return s}function Bl(e){var r=ts(e);return{top:r.top+window.scrollY,bottom:r.bottom+window.scrollY,left:r.left+window.scrollX,right:r.right+window.scrollX}}function jl(e){var r=e.getBoundingClientRect();return{top:r.top+window.scrollY,bottom:r.bottom+window.scrollY,left:r.left+window.scrollX,right:r.right+window.scrollX}}function zl(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function _h(e,r){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function Ha(e,r){return e.y<=r.bottom&&e.y>=r.top&&e.x>=r.left&&e.x<=r.right}function ki(e){return zl(jl(e))}function Du(e,r){var a=ki(e),s=Bl(r);return Ha(a,s)}function Iu(e,r){var a=ki(e),s=ki(r);return _h(a,s)}function bh(e){var r=jl(e);return r.right<0||r.left>document.documentElement.scrollWidth||r.bottom<0||r.top>document.documentElement.scrollHeight}function wh(e){for(var r=e.getBoundingClientRect(),a={top:r.top,bottom:r.bottom,left:r.left,right:r.right},s=!1,l=!1,f=e.parentElement;f&&f!==document.body;){var h=window.getComputedStyle(f),y=h.overflowY,g=h.overflowX,w=y==="scroll"||y==="auto",E=g==="scroll"||g==="auto";if(w||E){var I=f.getBoundingClientRect();if(w){var b=Math.max(a.top,I.top),T=Math.min(a.bottom,I.bottom);(b!==a.top||T!==a.bottom)&&(s=!0),a.top=b,a.bottom=T}if(E){var L=Math.max(a.left,I.left),K=Math.min(a.right,I.right);(L!==a.left||K!==a.right)&&(l=!0),a.left=L,a.right=K}}f=f.parentElement}return s||l?{top:a.top,bottom:a.bottom,left:a.left,right:a.right,width:Math.max(0,a.right-a.left),height:Math.max(0,a.bottom-a.top)}:{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var zr;function Ss(){zr=new Map}Ss();function Eh(e){var r=Array.from(e.children).findIndex(function(a){return a.getAttribute(Va)});if(r>=0)return zr.has(e)||zr.set(e,new Map),zr.get(e).set(r,Bl(e.children[r])),r}function xh(e,r){if(!Du(e,r))return null;var a=r.children;if(a.length===0)return{index:0,isProximityBased:!0};for(var s=Eh(r),l=0;l<a.length;l++)if(Du(e,a[l])){var f=zr.has(r)&&zr.get(r).get(l);return f&&!Ha(ki(e),f)?{index:s,isProximityBased:!1}:{index:l,isProximityBased:!1}}for(var h=Number.MAX_VALUE,y=void 0,g=0;g<a.length;g++){var w=Iu(e,a[g]);w<h&&(h=w,y=g)}if(a.length>0){var E=a.length,I=a[E-1],b=I.cloneNode(!1);b.style.visibility="hidden",b.style.pointerEvents="none",r.appendChild(b);var T=Iu(e,b);T<h&&(y=E),r.removeChild(b)}return{index:y,isProximityBased:!0}}function vi(e){return JSON.stringify(e,null,2)}function Ia(e){if(!e)throw new Error("cannot get depth of a falsy node");return Gl(e,0)}function Gl(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Gl(e.parentElement,r+1):r-1}function Th(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(var a in e)if(!{}.hasOwnProperty.call(r,a)||r[a]!==e[a])return!1;return!0}function Ah(e,r){if(e.length!==r.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==r[a])return!1;return!0}var kh=200,Su=10,ns;function Dh(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kh,s=arguments.length>3?arguments[3]:void 0,l,f,h=!1,y,g=Array.from(r).sort(function(E,I){return Ia(I)-Ia(E)});function w(){var E=ki(e),I=s.multiScrollIfNeeded();if(!I&&y&&Math.abs(y.x-E.x)<Su&&Math.abs(y.y-E.y)<Su){ns=window.setTimeout(w,a);return}if(bh(e)){mh(e);return}y=E;var b=!1,T=Ri(g),L;try{for(T.s();!(L=T.n()).done;){var K=L.value;I&&Ss();var F=xh(e,K);if(F!==null){var N=F.index;b=!0,K!==l?(l&&hh(l,e,K),dh(K,F,e),l=K):N!==f&&(ph(K,F,e),f=N);break}}}catch(H){T.e(H)}finally{T.f()}!b&&h&&l?(vh(l,e),l=void 0,f=void 0,h=!1):h=!0,ns=window.setTimeout(w,a)}w()}function Ih(){clearTimeout(ns),Ss()}var pi=30;function Sh(){var e;function r(){e={directionObj:void 0,stepPx:0}}r();function a(f){var h=e,y=h.directionObj,g=h.stepPx;y&&(f.scrollBy(y.x*g,y.y*g),window.requestAnimationFrame(function(){return a(f)}))}function s(f){return pi-f}function l(f,h){if(!h)return!1;var y=Oh(f,h),g=!!e.directionObj;if(y===null)return g&&r(),!1;var w=!1,E=!1;return h.scrollHeight>h.clientHeight&&(y.bottom<pi?(w=!0,e.directionObj={x:0,y:1},e.stepPx=s(y.bottom)):y.top<pi&&(w=!0,e.directionObj={x:0,y:-1},e.stepPx=s(y.top)),!g&&w)||h.scrollWidth>h.clientWidth&&(y.right<pi?(E=!0,e.directionObj={x:1,y:0},e.stepPx=s(y.right)):y.left<pi&&(E=!0,e.directionObj={x:-1,y:0},e.stepPx=s(y.left)),!g&&E)?(a(h),!0):(r(),!1)}return{scrollIfNeeded:l,resetScrolling:r}}function Oh(e,r){var a=r===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:r.getBoundingClientRect();return Ha(e,a)?{top:e.y-a.top,bottom:a.bottom-e.y,left:e.x-a.left,right:a.right-e.x}:null}function Ch(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,a=Ph(e),s=Array.from(a).sort(function(g,w){return Ia(w)-Ia(g)}),l=Sh(),f=l.scrollIfNeeded,h=l.resetScrolling;function y(){var g=r();if(!g||!s)return!1;for(var w=s.filter(function(b){return Ha(g,b.getBoundingClientRect())||b===document.scrollingElement}),E=0;E<w.length;E++){var I=f(g,w[E]);if(I)return!0}return!1}return{multiScrollIfNeeded:a.size>0?y:function(){return!1},destroy:function(){return h()}}}function Rh(e){if(!e)return[];for(var r=[],a=e;a;){var s=window.getComputedStyle(a),l=s.overflow;l.split(" ").some(function(f){return f.includes("auto")||f.includes("scroll")})&&r.push(a),a=a.parentElement}return r}function Ph(e){var r=new Set,a=Ri(e),s;try{for(a.s();!(s=a.n()).done;){var l=s.value;Rh(l).forEach(function(f){return r.add(f)})}}catch(f){a.e(f)}finally{a.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&r.add(document.scrollingElement),r}function Lh(e){var r=e.cloneNode(!0),a=[],s=e.tagName==="SELECT",l=s?[e]:tn(e.querySelectorAll("select")),f=Ri(l),h;try{for(f.s();!(h=f.n()).done;){var y=h.value;a.push(y.value)}}catch(Q){f.e(Q)}finally{f.f()}if(l.length>0)for(var g=s?[r]:tn(r.querySelectorAll("select")),w=0;w<g.length;w++){var E=g[w],I=a[w],b=E.querySelector('option[value="'.concat(I,'"'));b&&b.setAttribute("selected",!0)}var T=e.tagName==="CANVAS",L=T?[e]:tn(e.querySelectorAll("canvas"));if(L.length>0)for(var K=T?[r]:tn(r.querySelectorAll("canvas")),F=0;F<K.length;F++){var N=L[F],H=K[F];H.width=N.width,H.height=N.height,N.width>0&&N.height>0&&H.getContext("2d").drawImage(N,0,0)}return r}var Di=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Mh=qr({},Di.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Ul(e){if(!Di[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(Di)));return Mh[e]}var Nh=.2;function pr(e){return"".concat(e," ").concat(Nh,"s ease")}function Kh(e,r){var a=e.getBoundingClientRect(),s=Lh(e);Vl(e,s),s.id=gh,s.style.position="fixed";var l=a.top,f=a.left;if(s.style.top="".concat(l,"px"),s.style.left="".concat(f,"px"),r){var h=zl(a);l-=h.y-r.y,f-=h.x-r.x,window.setTimeout(function(){s.style.top="".concat(l,"px"),s.style.left="".concat(f,"px")},0)}return s.style.margin="0",s.style.boxSizing="border-box",s.style.height="".concat(a.height,"px"),s.style.width="".concat(a.width,"px"),s.style.transition="".concat(pr("top"),", ").concat(pr("left"),", ").concat(pr("background-color"),", ").concat(pr("opacity"),", ").concat(pr("color")," "),window.setTimeout(function(){return s.style.transition+=", ".concat(pr("width"),", ").concat(pr("height"))},0),s.style.zIndex="9999",s.style.cursor="grabbing",s}function Fh(e){e.style.cursor="grab"}function Bh(e,r,a,s){Vl(r,e);var l=r.getBoundingClientRect(),f=e.getBoundingClientRect(),h=l.width-f.width,y=l.height-f.height;if(h||y){var g={left:(a-f.left)/f.width,top:(s-f.top)/f.height};Ul(Di.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(l.height,"px"),e.style.width="".concat(l.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-g.left*h,"px"),e.style.top="".concat(parseFloat(e.style.top)-g.top*y,"px")}}function Vl(e,r){var a=window.getComputedStyle(e);Array.from(a).filter(function(s){return s.startsWith("background")||s.startsWith("padding")||s.startsWith("font")||s.startsWith("text")||s.startsWith("align")||s.startsWith("justify")||s.startsWith("display")||s.startsWith("flex")||s.startsWith("border")||s==="opacity"||s==="color"||s==="list-style-type"||Ul(Di.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(s==="width"||s==="height")}).forEach(function(s){return r.style.setProperty(s,a.getPropertyValue(s),a.getPropertyPriority(s))})}function jh(e,r){e.draggable=!1,e.ondragstart=function(){return!1},r?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Hl(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function zh(e){e.style.visibility="hidden",e.setAttribute(Va,"true")}function Gh(e){e.style.visibility="",e.removeAttribute(Va)}function ha(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(s){var l=r(s);Object.keys(l).forEach(function(f){s.style[f]=l[f]}),a(s).forEach(function(f){return s.classList.add(f)})})}function Sa(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(s){var l=r(s);Object.keys(l).forEach(function(f){s.style[f]=""}),a(s).forEach(function(f){return s.classList.contains(f)&&s.classList.remove(f)})})}function Uh(e){var r=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var a=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=r,e.style.minWidth=a}}var Vh="--any--",Hh=100,Wh=20,ua=3,Yh=80,Ou={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Cu="data-is-dnd-original-dragged-item",Nt,vt,Kt,Wa,We,Ya,nr,gt,yn,Tt,Yn=!1,Os=!1,Cs,Li=!1,va=[],wi,gn,yi=!1,sn=new Map,rt=new Map,Fo=new WeakMap;function qh(e,r){sn.has(r)||sn.set(r,new Set),sn.get(r).has(e)||(sn.get(r).add(e),Kl())}function Ru(e,r){sn.get(r).delete(e),Fl(),sn.get(r).size===0&&sn.delete(r)}function Zh(){var e=sn.get(Wa),r=Ri(e),a;try{for(r.s();!(a=r.n()).done;){var s=a.value;s.addEventListener(za,Wl),s.addEventListener(Pi,Yl),s.addEventListener(Ga,ql)}}catch(h){r.e(h)}finally{r.f()}window.addEventListener(Ds,Qr);var l=Math.max.apply(Math,tn(Array.from(e.keys()).map(function(h){return rt.get(h).dropAnimationDurationMs}))),f=l===0?Wh:Math.max(l,Hh);wi=Ch(e,function(){return Tt}),Dh(vt,e,f*1.07,wi)}function Qh(){var e=sn.get(Wa),r=Ri(e),a;try{for(r.s();!(a=r.n()).done;){var s=a.value;s.removeEventListener(za,Wl),s.removeEventListener(Pi,Yl),s.removeEventListener(Ga,ql)}}catch(l){r.e(l)}finally{r.f()}window.removeEventListener(Ds,Qr),wi&&(wi.destroy(),wi=void 0),Ih()}function qa(e){return e.findIndex(function(r){return!!r[Ua]})}function Xh(e){var r;return ka(ka({},e),{},(r={},qr(r,Ua,!0),qr(r,ct,Nl),r))}function Wl(e){var r=rt.get(e.currentTarget),a=r.items,s=r.dropFromOthersDisabled;if(!(s&&e.currentTarget!==We)){if(Li=!1,a=a.filter(function(y){return y[ct]!==nr[ct]&&y[ct]!==Nl}),We!==e.currentTarget){var l=rt.get(We).items,f=l.filter(function(y){return!y[Ua]});or(We,f,{trigger:Rt.DRAGGED_ENTERED_ANOTHER,id:Kt[ct],source:zt.POINTER})}var h=e.detail.indexObj.index;gt=e.currentTarget,a.splice(h,0,nr),or(e.currentTarget,a,{trigger:Rt.DRAGGED_ENTERED,id:Kt[ct],source:zt.POINTER})}}function Yl(e){if(Yn){var r=rt.get(e.currentTarget),a=r.items,s=r.dropFromOthersDisabled;if(!(s&&e.currentTarget!==We&&e.currentTarget!==gt)){var l=tn(a),f=qa(l);f!==-1&&l.splice(f,1);var h=gt;gt=void 0;var y=e.detail,g=y.type,w=y.theOtherDz;if(g===Da.OUTSIDE_OF_ANY||g===Da.LEFT_FOR_ANOTHER&&w!==We&&rt.get(w).dropFromOthersDisabled){Li=!0,gt=We;var E=h===We?l:tn(rt.get(We).items);E.splice(Ya,0,nr),or(We,E,{trigger:Rt.DRAGGED_LEFT_ALL,id:Kt[ct],source:zt.POINTER})}or(e.currentTarget,l,{trigger:Rt.DRAGGED_LEFT,id:Kt[ct],source:zt.POINTER})}}}function ql(e){var r=rt.get(e.currentTarget),a=r.items,s=r.dropFromOthersDisabled;if(!(s&&e.currentTarget!==We)){var l=tn(a);Li=!1;var f=e.detail.indexObj.index,h=qa(l);h!==-1&&l.splice(h,1),l.splice(f,0,nr),or(e.currentTarget,l,{trigger:Rt.DRAGGED_OVER_INDEX,id:Kt[ct],source:zt.POINTER})}}function Oa(e){e.preventDefault();var r=e.touches?e.touches[0]:e;Tt={x:r.clientX,y:r.clientY},vt.style.transform="translate3d(".concat(Tt.x-yn.x,"px, ").concat(Tt.y-yn.y,"px, 0)")}function Qr(){Os=!0,window.removeEventListener("mousemove",Oa),window.removeEventListener("touchmove",Oa),window.removeEventListener("mouseup",Qr),window.removeEventListener("touchend",Qr),Qh(),Fh(vt),gt||(gt=We);var e=rt.get(gt),r=e.items,a=e.type;Sa(sn.get(a),function(f){return rt.get(f).dropTargetStyle},function(f){return rt.get(f).dropTargetClasses});var s=qa(r);s===-1&&gt===We&&(s=Ya),r=r.map(function(f){return f[Ua]?Kt:f});function l(){Cs(),Zr(gt,r,{trigger:Li?Rt.DROPPED_OUTSIDE_OF_ANY:Rt.DROPPED_INTO_ZONE,id:Kt[ct],source:zt.POINTER}),gt!==We&&Zr(We,rt.get(We).items,{trigger:Rt.DROPPED_INTO_ANOTHER,id:Kt[ct],source:zt.POINTER});var f=Array.from(gt.children).find(function(h){return h.getAttribute(Va)});f&&Gh(f),ev()}rt.get(gt).dropAnimationDisabled?l():$h(s,l)}function $h(e,r){var a=e>-1?ts(gt.children[e],!1):ts(gt,!1),s={x:a.left-parseFloat(vt.style.left),y:a.top-parseFloat(vt.style.top)},l=rt.get(gt),f=l.dropAnimationDurationMs,h="transform ".concat(f,"ms ease");vt.style.transition=vt.style.transition?vt.style.transition+","+h:h,vt.style.transform="translate3d(".concat(s.x,"px, ").concat(s.y,"px, 0)"),window.setTimeout(r,f)}function Jh(e,r){va.push({dz:e,destroy:r}),window.requestAnimationFrame(function(){Hl(e),document.body.appendChild(e)})}function ev(){vt&&vt.remove&&vt.remove(),Nt&&Nt.remove&&Nt.remove(),vt=void 0,Nt=void 0,Kt=void 0,Wa=void 0,We=void 0,Ya=void 0,nr=void 0,gt=void 0,yn=void 0,Tt=void 0,Yn=!1,Os=!1,Cs=void 0,Li=!1,gn&&clearTimeout(gn),gn=void 0,yi=!1,va.length&&(va.forEach(function(e){var r=e.dz,a=e.destroy;a(),r.remove()}),va=[])}function tv(e,r){var a=!1,s={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:Ou,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},l=new Map;function f(){window.addEventListener("mousemove",g,{passive:!1}),window.addEventListener("touchmove",g,{passive:!1,capture:!1}),window.addEventListener("mouseup",y,{passive:!1}),window.addEventListener("touchend",y,{passive:!1})}function h(){window.removeEventListener("mousemove",g),window.removeEventListener("touchmove",g),window.removeEventListener("mouseup",y),window.removeEventListener("touchend",y),gn&&(clearTimeout(gn),gn=void 0,yi=!1)}function y(b){if(h(),Nt=void 0,yn=void 0,Tt=void 0,b.type==="touchend"){var T=new Event("click",{bubbles:!0,cancelable:!0});b.target.dispatchEvent(T)}}function g(b){var T=!!b.touches,L=T?b.touches[0]:b;if(T&&s.delayTouchStartMs>0&&!yi){Tt={x:L.clientX,y:L.clientY},(Math.abs(Tt.x-yn.x)>=ua||Math.abs(Tt.y-yn.y)>=ua)&&(gn&&(clearTimeout(gn),gn=void 0),y(b));return}b.preventDefault(),Tt={x:L.clientX,y:L.clientY},(Math.abs(Tt.x-yn.x)>=ua||Math.abs(Tt.y-yn.y)>=ua)&&(h(),E())}function w(b){if(!(b.target!==b.currentTarget&&(b.target.value!==void 0||b.target.isContentEditable))&&!b.button&&!Yn){var T=!!b.touches,L=T&&s.delayTouchStartMs>0;L||b.preventDefault(),b.stopPropagation();var K=T?b.touches[0]:b;yn={x:K.clientX,y:K.clientY},Tt=ka({},yn),Nt=b.currentTarget,L&&(yi=!1,gn=window.setTimeout(function(){Nt&&(yi=!0,h(),E())},s.delayTouchStartMs)),f()}}function E(){Yn=!0;var b=l.get(Nt);Ya=b,We=Nt.parentElement;var T=We.closest("dialog")||We.closest("[popover]")||We.getRootNode(),L=T.body||T,K=s.items,F=s.type,N=s.centreDraggedOnCursor,H=tn(K);Kt=H[b],Wa=F,nr=Xh(Kt),vt=Kh(Nt,N&&Tt),L.appendChild(vt);function Q(){Nt.parentElement?window.requestAnimationFrame(Q):(Nt.setAttribute(Cu,!0),L.appendChild(Nt),Zh(),Hl(Nt),nr[ct]=Kt[ct],vt.focus())}window.requestAnimationFrame(Q),ha(Array.from(sn.get(s.type)).filter(function(Y){return Y===We||!rt.get(Y).dropFromOthersDisabled}),function(Y){return rt.get(Y).dropTargetStyle},function(Y){return rt.get(Y).dropTargetClasses}),H.splice(b,1,nr),Cs=Uh(We),or(We,H,{trigger:Rt.DRAG_STARTED,id:Kt[ct],source:zt.POINTER}),window.addEventListener("mousemove",Oa,{passive:!1}),window.addEventListener("touchmove",Oa,{passive:!1,capture:!1}),window.addEventListener("mouseup",Qr,{passive:!1}),window.addEventListener("touchend",Qr,{passive:!1})}function I(b){var T=b.items,L=T===void 0?void 0:T,K=b.flipDurationMs,F=K===void 0?0:K,N=b.type,H=N===void 0?Vh:N,Q=b.dragDisabled,Y=Q===void 0?!1:Q,ne=b.morphDisabled,oe=ne===void 0?!1:ne,me=b.dropFromOthersDisabled,pe=me===void 0?!1:me,ce=b.dropTargetStyle,be=ce===void 0?Ou:ce,ye=b.dropTargetClasses,De=ye===void 0?[]:ye,Ye=b.transformDraggedElement,Be=Ye===void 0?function(){}:Ye,Ze=b.centreDraggedOnCursor,ot=Ze===void 0?!1:Ze,Ke=b.dropAnimationDisabled,Pt=Ke===void 0?!1:Ke,Ue=b.delayTouchStart,qe=Ue===void 0?!1:Ue;s.dropAnimationDurationMs=F;var ft=0;qe===!0?ft=Yh:typeof qe=="number"&&isFinite(qe)&&qe>=0&&(ft=qe),s.delayTouchStartMs=ft,s.type&&H!==s.type&&Ru(e,s.type),s.type=H,s.items=tn(L),s.dragDisabled=Y,s.morphDisabled=oe,s.transformDraggedElement=Be,s.centreDraggedOnCursor=ot,s.dropAnimationDisabled=Pt,a&&Yn&&!Os&&(!Th(be,s.dropTargetStyle)||!Ah(De,s.dropTargetClasses))&&(Sa([e],function(){return s.dropTargetStyle},function(){return De}),ha([e],function(){return be},function(){return De})),s.dropTargetStyle=be,s.dropTargetClasses=tn(De);function Ut(Ve,mt){return rt.get(Ve)?rt.get(Ve)[mt]:s[mt]}a&&Yn&&s.dropFromOthersDisabled!==pe&&(pe?Sa([e],function(Ve){return Ut(Ve,"dropTargetStyle")},function(Ve){return Ut(Ve,"dropTargetClasses")}):ha([e],function(Ve){return Ut(Ve,"dropTargetStyle")},function(Ve){return Ut(Ve,"dropTargetClasses")})),s.dropFromOthersDisabled=pe,rt.set(e,s),qh(e,H);for(var nn=Yn?qa(s.items):-1,pt=0;pt<e.children.length;pt++){var et=e.children[pt];if(jh(et,Y),pt===nn){oe||Bh(vt,et,Tt.x,Tt.y),s.transformDraggedElement(vt,Kt,pt),zh(et);continue}et.removeEventListener("mousedown",Fo.get(et)),et.removeEventListener("touchstart",Fo.get(et)),Y||(et.addEventListener("mousedown",w),et.addEventListener("touchstart",w),Fo.set(et,w)),l.set(et,pt),a||(a=!0)}}return I(r),{update:function(T){I(T)},destroy:function(){function T(){Ru(e,rt.get(e).type),rt.delete(e)}Yn&&!e.closest("[".concat(Cu,"]"))?Jh(e,T):T()}}}var la,rs={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Zl=(la={},qr(la,rs.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),qr(la,rs.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),la),nv="dnd-action-aria-alert",ut;function is(){ut||(ut=document.createElement("div"),(function(){ut.id=nv,ut.style.position="fixed",ut.style.bottom="0",ut.style.left="0",ut.style.zIndex="-5",ut.style.opacity="0",ut.style.height="0",ut.style.width="0",ut.setAttribute("role","alert")})(),document.body.prepend(ut),Object.entries(Zl).forEach(function(e){var r=rh(e,2),a=r[0],s=r[1];return document.body.prepend(av(a,s))}))}function rv(){return Is?null:(document.readyState==="complete"?is():window.addEventListener("DOMContentLoaded",is),ka({},rs))}function iv(){Is||!ut||(Object.keys(Zl).forEach(function(e){var r;return(r=document.getElementById(e))===null||r===void 0?void 0:r.remove()}),ut.remove(),ut=void 0)}function av(e,r){var a=document.createElement("div");return a.id=e,a.innerHTML="<p>".concat(r,"</p>"),a.style.display="none",a.style.position="fixed",a.style.zIndex="-5",a}function Gr(e){if(!Is){ut||is(),ut.innerHTML="";var r=document.createTextNode(e);ut.appendChild(r),ut.style.display="none",ut.style.display="inline"}}var ov="--any--",Pu={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Xt=!1,as,kt,Er="",mr,_n,Qn="",Ca=new WeakSet,Lu=new WeakMap,Mu=new WeakMap,os=new Map,yt=new Map,on=new Map,Ra;function sv(e,r){on.size===0&&(Ra=rv(),window.addEventListener("keydown",Ql),window.addEventListener("click",Xl)),on.has(r)||on.set(r,new Set),on.get(r).has(e)||(on.get(r).add(e),Kl())}function Nu(e,r){kt===e&&Ii(),on.get(r).delete(e),Fl(),on.get(r).size===0&&on.delete(r),on.size===0&&(window.removeEventListener("keydown",Ql),window.removeEventListener("click",Xl),Ra=void 0,iv())}function Ql(e){if(Xt)switch(e.key){case"Escape":{Ii();break}}}function Xl(){Xt&&(Ca.has(document.activeElement)||Ii())}function uv(e){if(Xt){var r=e.currentTarget;if(r!==kt){Er=r.getAttribute("aria-label")||"";var a=yt.get(kt),s=a.items,l=s.find(function(I){return I[ct]===_n}),f=s.indexOf(l),h=s.splice(f,1)[0],y=yt.get(r),g=y.items,w=y.autoAriaDisabled;r.getBoundingClientRect().top<kt.getBoundingClientRect().top||r.getBoundingClientRect().left<kt.getBoundingClientRect().left?(g.push(h),w||Gr("Moved item ".concat(Qn," to the end of the list ").concat(Er))):(g.unshift(h),w||Gr("Moved item ".concat(Qn," to the beginning of the list ").concat(Er)));var E=kt;Zr(E,s,{trigger:Rt.DROPPED_INTO_ANOTHER,id:_n,source:zt.KEYBOARD}),Zr(r,g,{trigger:Rt.DROPPED_INTO_ZONE,id:_n,source:zt.KEYBOARD}),kt=r}}}function $l(){os.forEach(function(e,r){var a=e.update;return a(yt.get(r))})}function Ii(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;yt.get(kt).autoAriaDisabled||Gr("Stopped dragging item ".concat(Qn)),Ca.has(document.activeElement)&&document.activeElement.blur(),e&&or(kt,yt.get(kt).items,{trigger:Rt.DRAG_STOPPED,id:_n,source:zt.KEYBOARD}),Sa(on.get(as),function(r){return yt.get(r).dropTargetStyle},function(r){return yt.get(r).dropTargetClasses}),mr=null,_n=null,Qn="",as=null,kt=null,Er="",Xt=!1,$l()}function lv(e,r){var a={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Pu,dropTargetClasses:[],autoAriaDisabled:!1};function s(E,I,b){E.length<=1||E.splice(b,1,E.splice(I,1,E[b])[0])}function l(E){switch(E.key){case"Enter":case" ":{if((E.target.disabled!==void 0||E.target.href||E.target.isContentEditable)&&!Ca.has(E.target))return;E.preventDefault(),E.stopPropagation(),Xt?Ii():f(E);break}case"ArrowDown":case"ArrowRight":{if(!Xt)return;E.preventDefault(),E.stopPropagation();var I=yt.get(e),b=I.items,T=Array.from(e.children),L=T.indexOf(E.currentTarget);L<T.length-1&&(a.autoAriaDisabled||Gr("Moved item ".concat(Qn," to position ").concat(L+2," in the list ").concat(Er)),s(b,L,L+1),Zr(e,b,{trigger:Rt.DROPPED_INTO_ZONE,id:_n,source:zt.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Xt)return;E.preventDefault(),E.stopPropagation();var K=yt.get(e),F=K.items,N=Array.from(e.children),H=N.indexOf(E.currentTarget);H>0&&(a.autoAriaDisabled||Gr("Moved item ".concat(Qn," to position ").concat(H," in the list ").concat(Er)),s(F,H,H-1),Zr(e,F,{trigger:Rt.DROPPED_INTO_ZONE,id:_n,source:zt.KEYBOARD}));break}}}function f(E){y(E.currentTarget),kt=e,as=a.type,Xt=!0;var I=Array.from(on.get(a.type)).filter(function(T){return T===kt||!yt.get(T).dropFromOthersDisabled});if(ha(I,function(T){return yt.get(T).dropTargetStyle},function(T){return yt.get(T).dropTargetClasses}),!a.autoAriaDisabled){var b="Started dragging item ".concat(Qn,". Use the arrow keys to move it within its list ").concat(Er);I.length>1&&(b+=", or tab to another list in order to move the item into it"),Gr(b)}or(e,yt.get(e).items,{trigger:Rt.DRAG_STARTED,id:_n,source:zt.KEYBOARD}),$l()}function h(E){Xt&&E.currentTarget!==mr&&(E.stopPropagation(),Ii(!1),f(E))}function y(E){var I=yt.get(e),b=I.items,T=Array.from(e.children),L=T.indexOf(E);mr=E,mr.tabIndex=a.zoneItemTabIndex,_n=b[L][ct],Qn=T[L].getAttribute("aria-label")||""}function g(E){var I=E.items,b=I===void 0?[]:I,T=E.type,L=T===void 0?ov:T,K=E.dragDisabled,F=K===void 0?!1:K,N=E.zoneTabIndex,H=N===void 0?0:N,Q=E.zoneItemTabIndex,Y=Q===void 0?0:Q,ne=E.dropFromOthersDisabled,oe=ne===void 0?!1:ne,me=E.dropTargetStyle,pe=me===void 0?Pu:me,ce=E.dropTargetClasses,be=ce===void 0?[]:ce,ye=E.autoAriaDisabled,De=ye===void 0?!1:ye;a.items=tn(b),a.dragDisabled=F,a.dropFromOthersDisabled=oe,a.zoneTabIndex=H,a.zoneItemTabIndex=Y,a.dropTargetStyle=pe,a.dropTargetClasses=be,a.autoAriaDisabled=De,a.type&&L!==a.type&&Nu(e,a.type),a.type=L,sv(e,L),De||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",F?Ra.DND_ZONE_DRAG_DISABLED:Ra.DND_ZONE_ACTIVE)),yt.set(e,a),Xt?e.tabIndex=e===kt||mr.contains(e)||a.dropFromOthersDisabled||kt&&a.type!==yt.get(kt).type?-1:0:e.tabIndex=a.zoneTabIndex,e.addEventListener("focus",uv);for(var Ye=function(ot){var Ke=e.children[ot];Ca.add(Ke),Ke.tabIndex=Xt?-1:a.zoneItemTabIndex,De||Ke.setAttribute("role","listitem"),Ke.removeEventListener("keydown",Lu.get(Ke)),Ke.removeEventListener("click",Mu.get(Ke)),F||(Ke.addEventListener("keydown",l),Lu.set(Ke,l),Ke.addEventListener("click",h),Mu.set(Ke,h)),Xt&&a.items[ot][ct]===_n&&(mr=Ke,mr.tabIndex=a.zoneItemTabIndex,Ke.focus())},Be=0;Be<e.children.length;Be++)Ye(Be)}g(r);var w={update:function(I){g(I)},destroy:function(){Nu(e,a.type),yt.delete(e),os.delete(e)}};return os.set(e,w),w}var cv=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function ss(e,r){if(fv(e))return{update:function(){},destroy:function(){}};Ku(r);var a=tv(e,r),s=lv(e,r);return{update:function(f){Ku(f),a.update(f),s.update(f)},destroy:function(){a.destroy(),s.destroy()}}}function fv(e){return!!e.closest("[".concat(yh,'="true"]'))}function Ku(e){var r=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var a=e.zoneTabIndex,s=e.zoneItemTabIndex;e.dropTargetStyle;var l=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var f=e.delayTouchStart;e.dropAnimationDisabled;var h=nh(e,cv);if(Object.keys(h).length>0&&console.warn("dndzone will ignore unknown options",h),!r)throw new Error("no 'items' key provided to dndzone");var y=r.find(function(E){return!{}.hasOwnProperty.call(E,ct)});if(y)throw new Error("missing '".concat(ct,"' property for item ").concat(vi(y)));if(l&&!Array.isArray(l))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(Br(l),", ").concat(vi(l)));if(a&&!Fu(a))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(Br(a),", ").concat(vi(a)));if(s&&!Fu(s))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(Br(s),", ").concat(vi(s)));if(f!==void 0&&f!==!1){var g=f===!0,w=typeof f=="number"&&isFinite(f)&&f>=0;if(!g&&!w)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(Br(f),", ").concat(vi(f)))}}function Fu(e){return!isNaN(e)&&(function(r){return(r|0)===r})(parseFloat(e))}const ke=new Ta("TaskPlannerDB");ke.version(1).stores({lists:"++id, name, order",tasks:"++id, text, listId, order",preferences:"key",calendarSyncState:"key"});ke.version(2).stores({lists:"++id, name, order",tasks:"++id, text, listId, order, status",preferences:"key",calendarSyncState:"key"}).upgrade(e=>e.tasks.toCollection().modify(r=>{r.status="unchecked"}));ke.version(3).stores({lists:"++id, name, order",tasks:"++id, text, listId, order, status, archivedAt",preferences:"key",calendarSyncState:"key"}).upgrade(e=>e.tasks.where("status").equals("archived").modify(r=>{r.archivedAt=Date.now()}));ke.version(4).stores({lists:"++id, name, order, archivedAt",tasks:"++id, text, listId, order, status, archivedAt",preferences:"key",calendarSyncState:"key"}).upgrade(e=>e.lists.toCollection().modify(r=>{r.archivedAt===void 0&&(r.archivedAt=null)}));ke.version(5).stores({lists:"++id, name, order, archivedAt, columnIndex",tasks:"++id, text, listId, order, status, archivedAt",preferences:"key",calendarSyncState:"key"}).upgrade(e=>e.lists.toCollection().modify((r,a)=>{r.columnIndex===void 0&&(r.columnIndex=r.order%5)}));function Za(e){return e.length===0?0:Math.max(...e.map(a=>a.order))+1}async function dv(){return(await ke.lists.orderBy("order").toArray()).filter(r=>r.archivedAt==null)}async function hv(){return await ke.lists.orderBy("order").toArray()}async function Bu(e,r=null){const a=e.trim();if(a==="")throw new Error("List name cannot be empty or whitespace-only");const s=await ke.lists.orderBy("order").toArray(),l=Za(s),f=5;let h;return r!==null&&r>=0&&r<f?h=r:h=l%f,await ke.lists.add({name:a,order:l,archivedAt:null,columnIndex:h})}async function vv(e=null){const r=await ke.lists.orderBy("order").toArray(),a=Za(r),s=5;let l;return e!==null&&e>=0&&e<s?l=e:l=a%s,await ke.lists.add({name:null,order:a,archivedAt:null,columnIndex:l})}async function pv(e,r){const a=r.trim();if(a==="")throw new Error("List name cannot be empty");return await ke.lists.update(e,{name:a})}async function Bo(e){return await ke.tasks.where("listId").equals(e).filter(r=>r.status!=="archived").sortBy("order")}async function mv(){return(await ke.tasks.where("status").equals("archived").toArray()).sort((r,a)=>{const s=r.archivedAt||0,l=a.archivedAt||0;return l!==s?l-s:(a.order||0)-(r.order||0)})}async function yv(e,r,a=null){let s=e;e===null&&(s=await vv(a));const l=await ke.tasks.where("listId").equals(s).filter(g=>g.status!=="archived").sortBy("order"),f=Za(l),h=r===""?"":r.trim();return await ke.tasks.add({text:h,listId:s,order:f,status:"unchecked"})}async function gv(e,r){const a=r===""?"":r.trim();return await ke.tasks.update(e,{text:a})}async function ju(e,r){if(!["unchecked","checked","archived"].includes(r))throw new Error(`Invalid status: ${r}`);const a={status:r};return r==="archived"?a.archivedAt=Date.now():r!=="archived"&&(a.archivedAt=null),await ke.tasks.update(e,a)}async function _v(e){const r=await ke.tasks.get(e);if(!r)throw new Error(`Task ${e} not found`);const a=await ke.lists.get(r.listId);if(!a)throw new Error(`Task's list ${r.listId} not found`);let s=!1;a.archivedAt!=null&&(await wv(r.listId),s=!0);const l=await ke.tasks.where("listId").equals(r.listId).filter(y=>y.status!=="archived"&&y.id!==e).sortBy("order"),f=Za(l);return{taskUpdated:await ke.tasks.update(e,{status:"checked",order:f}),listRestored:s}}async function jo(e,r){if(!r||r.length===0)return;const a=r.map(y=>y.id),l=(await ke.tasks.bulkGet(a)).filter(y=>y!==void 0);if(l.length===0)return;const f=l.filter(y=>y.listId!==e),h=new Set(f.map(y=>y.listId));await ke.transaction("rw",ke.tasks,async()=>{for(let y=0;y<r.length;y++){const g=r[y].id,w=l.find(I=>I.id===g);if(!w)continue;const E={order:y};w.listId!==e&&(E.listId=e),await ke.tasks.update(g,E)}for(const y of h){const g=await ke.tasks.where("listId").equals(y).filter(w=>w.status!=="archived").sortBy("order");for(let w=0;w<g.length;w++)await ke.tasks.update(g[w].id,{order:w})}})}async function bv(e){const r=Date.now();return await ke.lists.update(e,{archivedAt:r})}async function wv(e){return await ke.lists.update(e,{archivedAt:null})}async function Ev(e){const r=Date.now(),a=await ke.tasks.where("listId").equals(e).filter(l=>l.status==="unchecked"||l.status==="checked").toArray(),s=a.map(l=>ke.tasks.update(l.id,{status:"archived",archivedAt:r}));return await Promise.all(s),a.length}async function zu(e,r){if(!r||r.length===0)return;if(e<0||e>=5)throw new Error(`Invalid column index: ${e}`);const a=r.map(y=>y.id),s=await ke.lists.bulkGet(a);if(s.filter(y=>!y).length>0)throw new Error("Cannot update order: some lists do not exist");const f=s.filter(y=>y!==void 0),h=f.filter(y=>(y.columnIndex??0)!==e);new Set(h.map(y=>y.columnIndex??0)),await ke.transaction("rw",ke.lists,async()=>{const y=new Set;for(let b=0;b<r.length;b++){const T=r[b].id,L=f.find(N=>N.id===T);if(!L)continue;const K={order:b},F=L.columnIndex??0;F!==e&&(K.columnIndex=e,y.add(F)),await ke.lists.update(T,K)}const w=(await ke.lists.orderBy("order").toArray()).filter(b=>b.archivedAt==null),E=Array(5).fill(null).map(()=>[]);for(const b of w){const T=b.columnIndex??0,L=T>=5?4:T;E[L].push(b)}const I=new Set([e,...y]);for(const b of I){const T=E[b];T.sort((L,K)=>(L.order??0)-(K.order??0));for(let L=0;L<T.length;L++)await ke.lists.update(T[L].id,{order:L})}})}const Pa=160,Jl=150,us=1056,xv=816,La=16;var Tv=Ce('<div id="validation-message" class="mt-2 text-sm text-red-600" role="alert">Task cannot be empty. Consider archiving this task instead.</div>'),Av=Ce('<div role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1" class="modal-backdrop svelte-1s5l7w2"><div class="bg-white text-gray-900 p-6 rounded-xl shadow-2xl border-2 border-gray-300 fixed" role="document"><h3 id="modal-title" class="text-lg font-semibold mb-4">Edit Task</h3> <div class="mb-4"><textarea class="task-input flex-none break-words resize-none min-h-[2.5rem] max-h-[10rem] overflow-y-auto px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 svelte-1s5l7w2" placeholder="Task text..." aria-label="Edit task text" rows="1"></textarea> <!></div> <div class="flex justify-between items-center"><button class="px-4 py-2 text-sm text-gray-600 hover:text-gray-800 underline" aria-label="Archive this task instead of saving">Archive instead</button> <div class="flex gap-3"><button class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50" aria-label="Cancel editing and discard changes">Cancel</button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Save</button></div></div></div></div>');function kv(e,r){kr(r,!0);let a=_e(Wt(r.taskText||"")),s=_e(!1),l=_e(null),f=_e(null),h=At(()=>()=>{if(!r.taskPosition||!r.isOpen)return"background-color: white; z-index: 10000;";const K=24,F=24,N=La,Q=K+F+N+8-8,Y=10,ne=r.taskPosition.top-Q,oe=r.taskPosition.left-La+Y,me=r.taskPosition.width+48;return`background-color: white; z-index: 10000; top: ${ne}px; left: ${oe}px; width: ${me}px;`});Je(()=>{r.isOpen&&(O(a,r.taskText||"",!0),O(s,!1))}),Je(()=>{r.isOpen&&m(l)&&setTimeout(()=>{m(l)?.focus(),m(l)?.select(),m(l)instanceof HTMLTextAreaElement&&(m(l).style.height="auto",m(l).style.height=`${Math.min(m(l).scrollHeight,Pa)}px`)},0)}),Je(()=>{if(m(l)&&m(l)instanceof HTMLTextAreaElement){const K=()=>{m(l).style.height="auto",m(l).style.height=`${Math.min(m(l).scrollHeight,Pa)}px`};return m(l).addEventListener("input",K),()=>{m(l).removeEventListener("input",K)}}});function y(){const K=m(a)??"",F=K.trim();if(F===""&&K.length>0){r.onSave(r.taskId,""),O(s,!1);return}if(K===""||F===""){O(s,!0);return}r.onSave(r.taskId,F),O(s,!1)}function g(){O(a,r.taskText||"",!0),O(s,!1),r.onCancel()}function w(K){K.target===K.currentTarget&&g()}function E(K){if(K.key==="Tab"){if(!m(f))return;const F=["button","[href]","input","select","textarea",'[tabindex]:not([tabindex="-1"])'].join(","),N=Array.from(m(f).querySelectorAll(F)).filter(oe=>!(!(oe instanceof HTMLElement)||oe.hasAttribute("disabled")||oe.getAttribute("aria-hidden")==="true"));if(N.length===0)return;const H=document.activeElement,Q=N.indexOf(H);let Y;K.shiftKey?Q<=0?Y=N.length-1:Y=Q-1:Q===-1||Q===N.length-1?Y=0:Y=Q+1,K.preventDefault(),K.stopPropagation();const ne=N[Y];ne&&ne instanceof HTMLElement&&ne.focus()}else K.key==="Escape"?g():K.key==="Enter"&&!K.shiftKey&&document.activeElement===m(l)&&(K.preventDefault(),y())}function I(){r.onArchive&&r.onArchive(r.taskId)}var b=er(),T=_t(b);{var L=K=>{var F=Av();F.__click=w,F.__keydown=E;var N=xe(F);N.__click=ye=>ye.stopPropagation();var H=Se(xe(N),2),Q=xe(H);En(Q,ye=>O(l,ye),()=>m(l));var Y=Se(Q,2);{var ne=ye=>{var De=Tv();we(ye,De)};at(Y,ye=>{m(s)&&ye(ne)})}var oe=Se(H,2),me=xe(oe);me.__click=I;var pe=Se(me,2),ce=xe(pe);ce.__click=g;var be=Se(ce,2);be.__click=y,En(N,ye=>O(f,ye),()=>m(f)),it(ye=>{tr(N,ye),tr(Q,`width: ${Jl}px;`),ht(Q,"aria-describedby",m(s)?"validation-message":void 0),be.disabled=m(s),ht(be,"aria-label",m(s)?"Save disabled: task cannot be empty":"Save task changes")},[()=>m(h)()]),Ts(Q,()=>m(a),ye=>O(a,ye)),we(K,F)};at(T,K=>{r.isOpen&&K(L)})}we(e,b),Dr()}ei(["click","keydown"]);var Dv=Ce('<div id="validation-message" class="mt-2 text-sm text-red-600" role="alert">List name cannot be empty.</div>'),Iv=Ce('<h3 id="modal-title" class="text-lg font-semibold mb-4">Rename List</h3> <div class="mb-4"><input type="text" class="list-input w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 box-border svelte-8e0jqh" style="max-width: 100%; box-sizing: border-box;" placeholder="List name..." aria-label="Edit list name"/> <!></div> <div class="flex justify-between items-center"><button class="px-4 py-2 text-red-600 border border-red-300 rounded hover:bg-red-50" aria-label="Archive this list">Archive</button> <div class="flex justify-end gap-3"><button class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50" aria-label="Cancel editing and discard changes">Cancel</button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Save</button></div></div>',1),Sv=Ce('<h3 id="modal-title" class="text-lg font-semibold mb-4">Archive List</h3> <p class="mb-6 text-sm text-gray-600">Archive this list? This will archive all tasks in the list.</p> <div class="flex justify-end gap-3"><button class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50" aria-label="Cancel archiving">Cancel</button> <button class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700" aria-label="Confirm archive list">Archive</button></div>',1),Ov=Ce('<div role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1" class="modal-backdrop svelte-8e0jqh"><div class="bg-white text-gray-900 p-6 rounded-xl shadow-2xl border-2 border-gray-300 fixed box-border" role="document"><!></div></div>');function Cv(e,r){kr(r,!0);let a=_e(Wt(r.listName||"")),s=_e(!1),l=_e(null),f=_e(null),h=_e("edit"),y=At(()=>()=>{if(!r.listPosition||!r.isOpen)return"background-color: white; z-index: 10000;";const H=24,Q=24,Y=La,oe=H+Q+Y+8-8,me=r.listPosition.top-oe,pe=r.listPosition.left-La,ce=Math.max(r.listPosition.width+24,250);return`background-color: white; z-index: 10000; top: ${me}px; left: ${pe}px; width: ${ce}px; max-width: ${ce}px; box-sizing: border-box;`});Je(()=>{r.isOpen&&(O(a,r.listName||"",!0),O(s,!1),O(h,"edit"))}),Je(()=>{r.isOpen&&m(l)&&setTimeout(()=>{m(l)?.focus(),m(l)?.select()},0)});function g(){const Q=(m(a)??"").trim();if(Q===""){O(s,!0);return}r.onSave(r.listId,Q),O(s,!1)}function w(){O(a,r.listName||"",!0),O(s,!1),r.onCancel()}function E(H){H.target===H.currentTarget&&w()}function I(H){if(H.key==="Tab"){if(!m(f))return;const Q=["button","[href]","input","select","textarea",'[tabindex]:not([tabindex="-1"])'].join(","),Y=Array.from(m(f).querySelectorAll(Q)).filter(ce=>!(!(ce instanceof HTMLElement)||ce.hasAttribute("disabled")||ce.getAttribute("aria-hidden")==="true"));if(Y.length===0)return;const ne=document.activeElement,oe=Y.indexOf(ne);let me;H.shiftKey?oe<=0?me=Y.length-1:me=oe-1:oe===-1||oe===Y.length-1?me=0:me=oe+1,H.preventDefault(),H.stopPropagation();const pe=Y[me];pe&&pe instanceof HTMLElement&&pe.focus()}else H.key==="Escape"?m(h)==="confirm-archive"?L():w():H.key==="Enter"&&!H.shiftKey&&m(h)==="edit"&&H.target===m(l)&&(H.preventDefault(),g())}function b(){O(h,"confirm-archive")}function T(){r.onArchive(r.listId),w()}function L(){O(h,"edit")}var K=er(),F=_t(K);{var N=H=>{var Q=Ov();Q.__click=E,Q.__keydown=I;var Y=xe(Q);Y.__click=pe=>pe.stopPropagation();var ne=xe(Y);{var oe=pe=>{var ce=Iv(),be=Se(_t(ce),2),ye=xe(be);En(ye,Ue=>O(l,Ue),()=>m(l));var De=Se(ye,2);{var Ye=Ue=>{var qe=Dv();we(Ue,qe)};at(De,Ue=>{m(s)&&Ue(Ye)})}var Be=Se(be,2),Ze=xe(Be);Ze.__click=b;var ot=Se(Ze,2),Ke=xe(ot);Ke.__click=w;var Pt=Se(Ke,2);Pt.__click=g,it(()=>{ht(ye,"aria-describedby",m(s)?"validation-message":void 0),Pt.disabled=m(s),ht(Pt,"aria-label",m(s)?"Save disabled: list name cannot be empty":"Save list name changes")}),Ts(ye,()=>m(a),Ue=>O(a,Ue)),we(pe,ce)},me=pe=>{var ce=er(),be=_t(ce);{var ye=De=>{var Ye=Sv(),Be=Se(_t(Ye),4),Ze=xe(Be);Ze.__click=L;var ot=Se(Ze,2);ot.__click=T,we(De,Ye)};at(be,De=>{m(h)==="confirm-archive"&&De(ye)},!0)}we(pe,ce)};at(ne,pe=>{m(h)==="edit"?pe(oe):pe(me,!1)})}En(Y,pe=>O(f,pe),()=>m(f)),it(pe=>tr(Y,pe),[()=>m(y)()]),we(H,Q)};at(F,H=>{r.isOpen&&H(N)})}we(e,K),Dr()}ei(["click","keydown"]);var Rv=Ce('<span class="drag-handle text-gray-400 select-none" aria-hidden="true" style="visibility: hidden;"></span> <input type="checkbox" disabled class="cursor-pointer opacity-0" aria-hidden="true" tabindex="-1"/> <div class="flex gap-2"><textarea class="flex-1 break-words resize-none min-h-[2.5rem] max-h-[10rem] overflow-y-auto" rows="1"></textarea> <button aria-label="Save new task">Save</button></div>',1),Pv=Ce('<span class="drag-handle text-gray-400 select-none" aria-hidden="true" style="visibility: hidden;"></span> <input type="checkbox" disabled class="cursor-pointer opacity-0" aria-hidden="true" tabindex="-1"/> <span class="cursor-pointer hover:underline break-words flex-1" role="button" tabindex="0"> </span>',1),Lv=Ce('<div class="flex items-center gap-2 p-2 border rounded hover:bg-gray-50 w-full print:hidden add-task-container add-task-button mt-2 svelte-jtbpvm"><!></div>');function zo(e,r){kr(r,!0);let a=Sn(r,"isInputActive",11,!1),s=Sn(r,"inputValue",3,""),l=Sn(r,"buttonText",3,"Add Task"),f=Sn(r,"placeholder",3,"Add new task..."),h=Sn(r,"marginLeft",3,!1),y=Sn(r,"containerElement",15,null),g=Sn(r,"textareaElement",15,null),w=_e(null),E=_e(null);Je(()=>{y(m(E)),g(m(w))}),Je(()=>{a()&&m(w)&&setTimeout(()=>{m(w)?.focus(),m(w)instanceof HTMLTextAreaElement&&(m(w).style.height="auto",m(w).style.height=`${Math.min(m(w).scrollHeight,Pa)}px`)},0)}),Je(()=>{if(m(w)&&m(w)instanceof HTMLTextAreaElement){const N=()=>{m(w).style.height="auto",m(w).style.height=`${Math.min(m(w).scrollHeight,Pa)}px`};return m(w).addEventListener("input",N),()=>{m(w).removeEventListener("input",N)}}});function I(N){N.key==="Enter"&&!N.shiftKey?(N.preventDefault(),r.onSave?.()):N.key==="Escape"?r.onEscape?.(N):N.key==="Tab"&&r.onSave?.({closeAfterSave:!0})}function b(N){(N.key==="Enter"||N.key===" ")&&(N.preventDefault(),r.onActivate?.())}var T=Lv(),L=xe(T);{var K=N=>{var H=Rv(),Q=Se(_t(H),4),Y=xe(Q);Y.__input=oe=>r.onInputChange?.(oe.currentTarget.value),Y.__keydown=I,En(Y,oe=>O(w,oe),()=>m(w));var ne=Se(Y,2);ne.__click=function(...oe){r.onSave?.apply(this,oe)},it(()=>{ht(Y,"placeholder",f()),Hd(Y,s())}),we(N,H)},F=N=>{var H=Pv(),Q=Se(_t(H),4);Q.__click=function(...ne){r.onActivate?.apply(this,ne)},Q.__keydown=b;var Y=xe(Q);it(()=>{ht(Q,"aria-label",r.ariaLabel||l()),Zn(Y,l())}),we(N,H)};at(L,N=>{a()?N(K):N(F,!1)})}En(T,N=>O(E,N),()=>m(E)),it(()=>tr(T,h()?"margin-left: 1.5rem;":"")),we(e,T),Dr()}ei(["input","keydown","click"]);function ec(e,r,a={}){const{ignoreElements:s=[],shouldClose:l=()=>!0,checkIgnoreClick:f=null}=a;function h(g){const w=typeof e=="function"?e():e;if(w&&!w.contains(g.target)&&!(f&&f(g))){for(const E of s){let I=null;if(typeof E=="function"?I=E():I=E,I&&I.contains(g.target))return}l()&&r()}}const y=setTimeout(()=>{document.addEventListener("click",h)},0);return()=>{clearTimeout(y),document.removeEventListener("click",h)}}function ls(e){return e===""}function Mv(e){return e.trim()===""&&e.length>0}function cs(e){const r=e.trim(),a=Mv(e);return{text:a?"":r,isBlank:a}}var Nv=Ce('<button class="px-2 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded">Archive</button>'),Kv=Ce('<li class="flex items-center gap-2 p-2 border rounded cursor-move hover:bg-gray-50 w-full m-0 list-none svelte-k6mizj"><span class="drag-handle text-gray-400 cursor-grab active:cursor-grabbing select-none svelte-k6mizj" title="Drag to reorder" tabindex="-1" aria-hidden="true"></span> <input type="checkbox" class="cursor-pointer"/> <span role="button" tabindex="0" contenteditable="false" data-no-drag="true"> </span> <!></li>'),Fv=Ce('<div class="empty-list-add-task-wrapper svelte-k6mizj"><!></div>'),Bv=Ce('<div class="task-list-wrapper m-0 p-0 svelte-k6mizj"><ul></ul> <!></div>'),jv=Ce("<p>Loading tasks...</p> <!>",1),zv=Ce('<div class="flex flex-col gap-1 m-0 p-0 svelte-k6mizj"><div class="flex items-center gap-2 m-0 p-0"><span class="drag-handle text-gray-400 cursor-grab active:cursor-grabbing select-none svelte-k6mizj" title="Drag to reorder list" tabindex="-1" aria-hidden="true"></span> <h2 role="button" tabindex="0" class="cursor-pointer hover:underline m-0 p-0 leading-none svelte-k6mizj"> </h2></div> <!></div> <!> <!>',1);function Gv(e,r){kr(r,!0);const a=()=>Ea(m(y),"$tasksQuery",s),[s,l]=As();let f=Sn(r,"allLists",19,()=>[]),h=Sn(r,"stableLists",19,()=>[]),y=_e(null),g=_e(Wt([])),w=_e(!1),E=_e(!1),I=_e(null),b=_e(""),T=_e(null),L=_e(null),K=_e(null),F=_e(!1),N=_e(null),H=_e(null),Q=_e(null),Y=_e(null),ne=_e(null),oe=_e(null);function me(z){return Array.isArray(z)?[...z].sort((D,C)=>{const M=D?.columnIndex??0,X=C?.columnIndex??0;if(M!==X)return M-X;const Te=D?.order??0,fe=C?.order??0;if(Te!==fe)return Te-fe;const Ee=D?.id??0,Me=C?.id??0;return Ee-Me}):[]}function pe(z,D,C){const M=me(D);if(!M.length)return null;const X=M.findIndex(Te=>Te.id===z);return X===-1?null:C==="next"?X>=M.length-1?null:M[X+1].id:C==="prev"?X<=0?null:M[X-1].id:null}Je(()=>{h().some(D=>D.id===r.listId)&&r.listId?(!m(y)||m(oe)!==r.listId)&&(xa(O(y,Aa(()=>Bo(r.listId)),!0),"$tasksQuery",s),O(oe,r.listId,!0)):(xa(O(y,null),"$tasksQuery",s),O(oe,null))}),Je(()=>{a()&&Array.isArray(a())&&O(g,a().filter(z=>z.status==="unchecked"||z.status==="checked"),!0)}),Je(()=>{if(!m(Q))return;function z(D){const C=D.target;if((D.key==="Enter"||D.key===" ")&&C instanceof HTMLElement&&C.tagName==="H2"&&C.hasAttribute("role")&&C.getAttribute("role")==="button"){const M=m(Q)?.querySelector('h2[role="button"]');if(M&&C===M){D.preventDefault(),D.stopImmediatePropagation();const X=C.getBoundingClientRect();O(N,{top:X.top,left:X.left,width:X.width,height:X.height},!0),O(H,C,!0),O(F,!0)}}}return m(Q).addEventListener("keydown",z,!0),()=>{m(Q)&&m(Q).removeEventListener("keydown",z,!0)}}),Je(()=>{if(!m(Y))return;function z(D){const C=D.target;if((D.key==="Enter"||D.key===" ")&&C instanceof HTMLElement&&C.hasAttribute("role")&&C.getAttribute("role")==="button"){const M=m(Y)?.querySelector('span[role="button"]');M&&C===M&&(D.preventDefault(),D.stopImmediatePropagation(),Ye())}}return m(Y).addEventListener("keydown",z,!0),()=>{m(Y)&&m(Y).removeEventListener("keydown",z,!0)}}),Je(()=>{if(!m(K))return;async function z(D){const C=D.target;if((D.key==="Enter"||D.key===" ")&&C instanceof HTMLElement&&C.hasAttribute("data-no-drag")){D.preventDefault(),D.stopImmediatePropagation();const M=C.closest("li[data-id]");if(M){const X=parseInt(M.getAttribute("data-id")),Te=m(g).find(fe=>fe.id===X);if(Te){const fe=C.getBoundingClientRect();O(T,{top:fe.top,left:fe.left,width:fe.width,height:fe.height},!0),O(L,C,!0),O(I,X,!0),O(b,Te.text,!0),O(E,!0)}}return}if(D.key==="ArrowDown"||D.key==="ArrowUp"){const M=document.activeElement;if(!M)return;const X=M.closest("li[data-id]");if(!X||!m(K).contains(X))return;const Te=X.getAttribute("data-id");if(!Te)return;const fe=parseInt(Te);if(!m(g).find(lt=>lt.id===fe))return;const Me=m(g).findIndex(lt=>lt.id===fe),Qe=Me===0,ze=Me===m(g).length-1;if(D.key==="ArrowDown"&&ze){D.preventDefault(),D.stopImmediatePropagation();const lt=pe(r.listId,f(),"next");lt!=null&&await ce(fe,lt)}else if(D.key==="ArrowUp"&&Qe){D.preventDefault(),D.stopImmediatePropagation();const lt=pe(r.listId,f(),"prev");lt!=null&&await be(fe,lt)}}}return m(K).addEventListener("keydown",z,!0),()=>{m(K).removeEventListener("keydown",z,!0)}});async function ce(z,D){try{const C=await Bo(D),M=[{id:z},...C];await jo(D,M)}catch(C){console.error("Error moving task to next list:",C)}}async function be(z,D){try{const M=[...await Bo(D),{id:z}];await jo(D,M)}catch(C){console.error("Error moving task to previous list:",C)}}function ye(z){O(g,z.detail.items.filter(D=>D&&typeof D.id=="number"),!0)}Je(()=>{if(!m(K))return;async function z(D){if(D.key!=="ArrowDown"&&D.key!=="ArrowUp")return;const C=document.activeElement;if(!C)return;const M=C.closest("li[data-id]");if(!M||!m(K).contains(M))return;const X=M.getAttribute("data-id");if(!X)return;const Te=parseInt(X);if(!m(g).find(ze=>ze.id===Te))return;const Ee=m(g).findIndex(ze=>ze.id===Te),Me=Ee===0,Qe=Ee===m(g).length-1;if(D.key==="ArrowDown"&&Qe){D.preventDefault(),D.stopImmediatePropagation(),D.stopPropagation();const ze=pe(r.listId,f(),"next");ze!=null&&await ce(Te,ze)}else if(D.key==="ArrowUp"&&Me){D.preventDefault(),D.stopImmediatePropagation(),D.stopPropagation();const ze=pe(r.listId,f(),"prev");ze!=null&&await be(Te,ze)}}return document.addEventListener("keydown",z,!0),()=>{document.removeEventListener("keydown",z,!0)}});async function De(z){const D=z.detail.items.filter(C=>C&&typeof C.id=="number");O(g,D,!0);try{await jo(r.listId,D)}catch(C){console.error("Error updating task order:",C)}}function Ye(){O(w,!0)}async function Be(z){z.key==="Escape"&&(O(w,!1),r.onInputChange(""),await qn(),await qn(),await new Promise(D=>requestAnimationFrame(D)),await new Promise(D=>setTimeout(D,200)))}Je(()=>{if(m(w))return ec(()=>m(ne),()=>{m(w)&&(O(w,!1),r.onInputChange(""))},{ignoreElements:[],checkIgnoreClick:z=>{if(!m(Y))return!1;const D=m(Y).querySelector("button");return!!(D&&D.contains(z.target))},shouldClose:()=>m(ne)&&m(ne).value.trim()!==""?!1:!r.newTaskInput||r.newTaskInput.trim()===""})});async function Ze(z={}){const D=z&&typeof z=="object"&&z.closeAfterSave===!0;let C=r.newTaskInput||"";if(m(ne)&&(C=(m(ne).value||"").toString()),C=(C||"").toString(),ls(C)){O(w,!1),r.onInputChange(""),await qn(),await qn(),await new Promise(X=>requestAnimationFrame(X)),await new Promise(X=>setTimeout(X,200));return}const{text:M}=cs(C);try{await yv(r.listId,M),r.onInputChange(""),D&&O(w,!1)}catch(X){console.error("Error creating task:",X)}}async function ot(z,D){try{await ju(z,D==="unchecked"?"checked":"unchecked")}catch(C){console.error("Error updating task status:",C)}}async function Ke(z){await ju(z,"archived")}function Pt(){if(!m(K))return null;const z=m(K).querySelector("li[data-id]");if(z){const D=z.querySelector('span[role="button"]');if(D&&D instanceof HTMLElement)return D}return null}function Ue(z=20,D=10){if(!m(Q))return;const C=(M=0)=>{if(m(Y)){const X=m(Y).querySelector('span[role="button"]');if(X&&X instanceof HTMLElement){X.focus();return}}M<z&&setTimeout(()=>C(M+1),D)};C()}async function qe(z){try{if(await Ke(z),m(I)===z){const D=m(L);O(E,!1),O(I,null),O(b,""),O(T,null),O(L,null),await qn(),await new Promise(C=>setTimeout(C,10)),setTimeout(()=>{const C=(M=0)=>{const X=Pt();X?X.focus():M<20?setTimeout(()=>C(M+1),10):Ue(40,10)};C()},20)}}catch(D){console.error("Error archiving task:",D)}}function ft(z,D,C){const M=C?.currentTarget||C?.target;if(M){const X=M.getBoundingClientRect();O(T,{top:X.top,left:X.left,width:X.width,height:X.height},!0),O(L,M,!0)}O(I,z,!0),O(b,D,!0),O(E,!0)}function Ut(z,D,C){if(C.key==="Enter"||C.key===" "){C.preventDefault(),C.stopImmediatePropagation();const M=C.currentTarget;if(M){const X=M.getBoundingClientRect();O(T,{top:X.top,left:X.left,width:X.width,height:X.height},!0),O(L,M,!0),O(I,z,!0),O(b,D,!0),O(E,!0)}}}async function nn(z,D){try{await gv(z,D),O(E,!1);const C=m(L);O(I,null),O(b,""),O(T,null),O(L,null),C&&C instanceof HTMLElement&&setTimeout(()=>{C.focus()},0)}catch(C){console.error("Error updating task text:",C)}}function pt(){const z=m(L);O(E,!1),O(I,null),O(b,""),O(T,null),O(L,null),z&&z instanceof HTMLElement&&setTimeout(()=>{z.focus()},0)}async function et(z){m(L),await qe(z),setTimeout(()=>{if(typeof document>"u")return;const D=document.activeElement;m(Q)&&(!D||!m(Q).contains(D))&&Ue(20,10)},10)}function Ve(z){const D=z?.currentTarget||z?.target;if(D){const C=D.getBoundingClientRect();O(N,{top:C.top,left:C.left,width:C.width,height:C.height},!0),O(H,D,!0)}O(F,!0)}function mt(z){if(z.key==="Enter"||z.key===" "){z.preventDefault(),z.stopPropagation(),z.stopImmediatePropagation();const D=z.currentTarget;if(D){const C=D.getBoundingClientRect();O(N,{top:C.top,left:C.left,width:C.width,height:C.height},!0),O(H,D,!0),O(F,!0)}}}async function St(z,D){try{await pv(z,D),O(F,!1);const C=m(H);O(N,null),O(H,null),C&&C instanceof HTMLElement&&setTimeout(()=>{C.focus()},0)}catch(C){console.error("Error updating list name:",C)}}function xn(){const z=m(H);O(F,!1),O(N,null),O(H,null),z&&z instanceof HTMLElement&&setTimeout(()=>{z.focus()},0)}async function sr(z){try{await Ev(z),await bv(z)}catch(D){console.error("Error archiving list:",D)}}var tt=zv(),st=_t(tt),cn=xe(st),q=Se(xe(cn),2);q.__click=Ve,q.__keydown=mt;var W=xe(q),re=Se(cn,2);{var ve=z=>{var D=Bv(),C=xe(D);br(C,21,()=>m(g),fe=>fe.id,(fe,Ee)=>{var Me=Kv(),Qe=Se(xe(Me),2);Qe.__change=()=>ot(m(Ee).id,m(Ee).status),Qe.__keydown=Oe=>{(Oe.key==="Enter"||Oe.key===" ")&&(Oe.preventDefault(),Oe.stopPropagation(),ot(m(Ee).id,m(Ee).status))};var ze=Se(Qe,2);ze.__click=Oe=>ft(m(Ee).id,m(Ee).text,Oe),ze.__keydown=Oe=>Ut(m(Ee).id,m(Ee).text,Oe);var lt=xe(ze),Lt=Se(ze,2);{var Ge=Oe=>{var qt=Nv();qt.__click=()=>qe(m(Ee).id),it(()=>ht(qt,"aria-label",`Archive task: ${m(Ee).text||"blank task"}`)),we(Oe,qt)};at(Lt,Oe=>{m(Ee).status==="checked"&&Oe(Ge)})}it(()=>{ht(Me,"data-id",m(Ee).id),Ll(Qe,m(Ee).status==="checked"),ht(Qe,"aria-label",`Mark task "${m(Ee).text||"blank task"}" as ${m(Ee).status==="checked"?"unchecked":"checked"}`),bi(ze,1,Pl(m(Ee).status==="checked"?"line-through cursor-pointer hover:underline break-words flex-1":"cursor-pointer hover:underline break-words flex-1")),ht(ze,"aria-label",`Edit task: ${m(Ee).text||"blank task"}`),Zn(lt,m(Ee).text||"")}),we(fe,Me)}),En(C,fe=>O(K,fe),()=>m(K)),Qo(C,(fe,Ee)=>ss?.(fe,Ee),()=>({items:m(g),type:"task",zoneTabIndex:-1}));var M=Se(C,2);{var X=fe=>{var Ee=Fv(),Me=xe(Ee);zo(Me,{get inputValue(){return r.newTaskInput},get onInputChange(){return r.onInputChange},onSave:Ze,onEscape:Be,onActivate:Ye,buttonText:"Add your first task",placeholder:"Add new task...",get ariaLabel(){return`Add your first task to ${r.listName??""}`},marginLeft:!1,get isInputActive(){return m(w)},set isInputActive(Qe){O(w,Qe,!0)},get containerElement(){return m(Y)},set containerElement(Qe){O(Y,Qe,!0)},get textareaElement(){return m(ne)},set textareaElement(Qe){O(ne,Qe,!0)}}),we(fe,Ee)},Te=fe=>{zo(fe,{get inputValue(){return r.newTaskInput},get onInputChange(){return r.onInputChange},onSave:Ze,onEscape:Be,onActivate:Ye,buttonText:"Add Task",placeholder:"Add new task...",get ariaLabel(){return`Add new task to ${r.listName??""}`},marginLeft:!1,get isInputActive(){return m(w)},set isInputActive(Ee){O(w,Ee,!0)},get containerElement(){return m(Y)},set containerElement(Ee){O(Y,Ee,!0)},get textareaElement(){return m(ne)},set textareaElement(Ee){O(ne,Ee,!0)}})};at(M,fe=>{m(g).length===0?fe(X):fe(Te,!1)})}it(()=>bi(C,1,`space-y-2 m-0 p-0 list-none ${m(g).length===0?"empty-drop-zone min-h-[24px]":""}`,"svelte-k6mizj")),yr("consider",C,ye),yr("finalize",C,De),we(z,D)},ge=z=>{var D=jv(),C=Se(_t(D),2);zo(C,{get inputValue(){return r.newTaskInput},get onInputChange(){return r.onInputChange},onSave:Ze,onEscape:Be,onActivate:Ye,buttonText:"Add Task",placeholder:"Add new task...",get ariaLabel(){return`Add new task to ${r.listName??""}`},marginLeft:!1,get isInputActive(){return m(w)},set isInputActive(M){O(w,M,!0)},get containerElement(){return m(Y)},set containerElement(M){O(Y,M,!0)},get textareaElement(){return m(ne)},set textareaElement(M){O(ne,M,!0)}}),we(z,D)};at(re,z=>{m(y)&&a()!==void 0?z(ve):z(ge,!1)})}En(st,z=>O(Q,z),()=>m(Q));var je=Se(st,2);kv(je,{get isOpen(){return m(E)},get taskId(){return m(I)},get taskText(){return m(b)},get taskPosition(){return m(T)},onSave:nn,onCancel:pt,onArchive:et});var te=Se(je,2);Cv(te,{get isOpen(){return m(F)},get listId(){return r.listId},get listName(){return r.listName},get listPosition(){return m(N)},onSave:St,onCancel:xn,onArchive:sr}),it(()=>{ht(st,"data-list-id",r.listId),ht(q,"aria-label",`Rename list: ${r.listName}`),Zn(W,r.listName)}),we(e,tt),Dr(),l()}ei(["click","keydown","change"]);var Uv=Ce("<p>Loading...</p>"),Vv=Ce("<p>Loading data...</p>"),Hv=Ce("<p>No archived lists or tasks</p>"),Wv=Ce('<span class="text-sm text-gray-500"> </span>'),Yv=Ce('<span class="text-xs bg-gray-200 px-2 py-1 rounded">[List Archived]</span> <!>',1),qv=Ce('<span class="text-xs bg-green-100 px-2 py-1 rounded">[List Active]</span>'),Zv=Ce('<p class="text-sm text-gray-500 italic">No archived tasks</p>'),Qv=Ce('<li class="flex items-center gap-3 flex-wrap"><span class="line-through"> </span> <button class="px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm">Restore</button></li>'),Xv=Ce('<div class="mb-4"><h4 class="text-sm font-medium text-gray-600 mb-2"> </h4> <ul class="space-y-2"></ul></div>'),$v=Ce('<div class="border-b border-gray-200 pb-4"><div class="flex items-center gap-2 flex-wrap"><h3 class="text-lg font-semibold"> </h3> <!></div></div> <div class="border-b border-gray-200 pb-4"><!></div>',1),Jv=Ce('<div class="grid grid-cols-2 gap-4"></div>'),ep=Ce('<div class="mt-8 print:hidden"><h2 class="text-xl font-semibold mb-4">Archived Tasks</h2> <!></div>');function tp(e,r){kr(r,!0);const a=()=>Ea(m(y),"$listsQuery",l),s=()=>Ea(m(h),"$archivedTasksQuery",l),[l,f]=As();let h=_e(null),y=_e(null);Je(()=>{xa(O(h,Aa(()=>mv()),!0),"$archivedTasksQuery",l),xa(O(y,Aa(()=>hv()),!0),"$listsQuery",l)});function g(N){return N?new Date(N).toDateString():null}function w(N){return N?new Date(N).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"}):"Unknown"}let E=At(()=>{const N=m(h)?s():null,H=m(y)?a():null;if(!H||!Array.isArray(H))return[];const Q={};if(N&&Array.isArray(N))for(const ne of N)Q[ne.listId]||(Q[ne.listId]=[]),Q[ne.listId].push(ne);const Y=[];for(const ne of H){const oe=ne.archivedAt!=null,me=Q[ne.id]&&Q[ne.id].length>0;if(oe||me){const pe=Q[ne.id]||[],ce={};for(const be of pe){const ye=g(be.archivedAt)||"Unknown";ce[ye]||(ce[ye]=[]),ce[ye].push(be)}Y.push({list:ne,listArchiveDate:ne.archivedAt?g(ne.archivedAt):null,tasksByDate:ce,hasTasks:pe.length>0})}}return Y.sort((ne,oe)=>{if(ne.list.order!==oe.list.order)return ne.list.order-oe.list.order;const me=ne.list.name??"Unnamed list",pe=oe.list.name??"Unnamed list";return me.localeCompare(pe)}),Y});function I(N){return N.sort((H,Q)=>{if(H==="Unknown")return 1;if(Q==="Unknown")return-1;const Y=new Date(H).getTime();return new Date(Q).getTime()-Y})}async function b(N){try{(await _v(N)).listRestored&&console.log("Task and its list have been restored")}catch(H){console.error("Error restoring task:",H)}}var T=ep(),L=Se(xe(T),2);{var K=N=>{var H=Uv();we(N,H)},F=N=>{var H=er(),Q=_t(H);{var Y=oe=>{var me=Vv();we(oe,me)},ne=oe=>{var me=er(),pe=_t(me);{var ce=ye=>{var De=Hv();we(ye,De)},be=ye=>{var De=Jv();br(De,21,()=>m(E),fa,(Ye,Be)=>{const Ze=At(()=>m(Be).list),ot=At(()=>m(Ze).name??"Unnamed list"),Ke=At(()=>m(Ze).archivedAt!=null),Pt=At(()=>m(Be).listArchiveDate);var Ue=$v(),qe=_t(Ue),ft=xe(qe),Ut=xe(ft),nn=xe(Ut),pt=Se(Ut,2);{var et=tt=>{var st=Yv(),cn=Se(_t(st),2);{var q=W=>{var re=Wv(),ve=xe(re);it(ge=>Zn(ve,`- ${ge??""}`),[()=>w(m(Pt))]),we(W,re)};at(cn,W=>{m(Pt)&&W(q)})}we(tt,st)},Ve=tt=>{var st=qv();we(tt,st)};at(pt,tt=>{m(Ke)?tt(et):tt(Ve,!1)})}var mt=Se(qe,2),St=xe(mt);{var xn=tt=>{var st=Zv();we(tt,st)},sr=tt=>{var st=er(),cn=_t(st);br(cn,17,()=>I(Object.keys(m(Be).tasksByDate)),fa,(q,W)=>{const re=At(()=>m(Be).tasksByDate[m(W)]);var ve=Xv(),ge=xe(ve),je=xe(ge),te=Se(ge,2);br(te,21,()=>m(re),fa,(z,D)=>{var C=Qv(),M=xe(C),X=xe(M),Te=Se(M,2);Te.__click=()=>b(m(D).id),it(()=>Zn(X,m(D).text)),we(z,C)}),it(z=>Zn(je,z),[()=>m(W)==="Unknown"?"Unknown Date":w(m(W))]),we(q,ve)}),we(tt,st)};at(St,tt=>{m(Be).hasTasks?tt(sr,!1):tt(xn)})}it(()=>Zn(nn,m(ot))),we(Ye,Ue)}),we(ye,De)};at(pe,ye=>{m(E).length===0?ye(ce):ye(be,!1)},!0)}we(oe,me)};at(Q,oe=>{!s()||!a()?oe(Y):oe(ne,!1)},!0)}we(N,H)};at(L,N=>{!m(h)||!m(y)?N(K):N(F,!1)})}it(()=>tr(T,`width: ${us}px;`)),we(e,T),Dr(),f()}ei(["click"]);var np=Ce("<p>Loading...</p>"),rp=Ce('<div class="flex flex-col mb-6 svelte-1n46o8q" tabindex="0" role="group" aria-roledescription="Draggable list"><!></div>'),ip=Ce('<div class="flex flex-col mb-6 svelte-1n46o8q"></div>'),ap=Ce('<div class="empty-drop-zone min-h-[48px]"></div>'),op=Ce('<h2><div class="flex items-center gap-2"><input type="text" class="create-list-input cursor-pointer hover:underline svelte-1n46o8q" placeholder="List name..." aria-label="Enter list name"/> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm" aria-label="Create list">Save</button></div></h2>'),sp=Ce('<h2 role="button" tabindex="0" aria-label="Create new list">Create new list</h2>'),up=Ce('<div class="flex flex-col min-w-0 border-r border-gray-300 last:border-r-0 pt-0 svelte-1n46o8q"><div class="flex flex-col pt-0"><!> <!></div> <!></div>'),lp=Ce('<li class="flex items-center gap-2 p-2 border rounded cursor-move hover:bg-gray-50 w-fit"><span class="drag-handle text-gray-400 cursor-grab active:cursor-grabbing select-none" title="Drag to reorder" tabindex="-1" aria-hidden="true"></span> <input type="checkbox" disabled class="cursor-pointer opacity-50" aria-hidden="true" tabindex="-1"/> <span> </span></li>'),cp=Ce('<div class="grid grid-cols-5 gap-4 w-full"></div> <div class="relative print:hidden"><ul class="m-0 p-0 list-none min-h-0 pb-2"></ul></div>',1),fp=Ce('<main class="min-h-screen flex flex-col items-center justify-center bg-gray-50 print:bg-white print:min-h-0 print:gap-0 print:py-0 gap-4 py-8 svelte-1n46o8q"><div class="flex justify-end print:hidden"><button class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Print</button></div> <div class="bg-gray-400 print:bg-gray-400 border-2 border-gray-300 shadow-lg print:shadow-none print:border-0 print:mx-auto relative"><div class="absolute inset-[16px] border border-red-600" style="border-color: rgb(220, 38, 38);"><div class="w-full h-full p-4 overflow-auto"><!></div></div></div> <!></main>');function dp(e,r){kr(r,!0);const a=()=>Ea(f,"$lists",s),[s,l]=As();let f=Aa(()=>dv()),h=At(()=>a()||[]),y=_e(Wt([])),g=_e(Wt({})),w=_e(null),E=_e(""),I=_e(null),b=_e(Wt([])),T=_e(null),L=_e(Wt({active:!1,listId:null})),K=_e(null),F=_e(!1);Je(()=>{if(a()&&Array.isArray(a())&&a().length>0&&Object.keys(m(g)).length===0){const q={};for(const W of a())q[W.id]="";O(g,q,!0)}}),Je(()=>{if(a()&&Array.isArray(a())&&a().length>0){const q={...m(g)};let W=!1;for(const re of a())re.id in q||(q[re.id]="",W=!0);W&&O(g,q,!0)}});let N=_e(0);Je(()=>{if(a()&&Array.isArray(a())){const q=a().map(W=>({id:W.id,name:W.name,order:W.order,columnIndex:W.columnIndex}));q.length!==m(N)&&(console.log("[DRAG] draggableLists updated from liveQuery:",{previousCount:m(N),newCount:q.length}),O(N,q.length,!0)),O(y,q,!0)}else m(N)>0&&(console.log("[DRAG] draggableLists cleared (no lists)"),O(N,0)),O(y,[],!0)});const H=5;let Q=At(()=>()=>{if(!m(y)||m(y).length===0)return Array(H).fill(null).map(()=>[]);const q=Array(H).fill(null).map(()=>[]),W=H-1;for(const re of m(y)){let ve=re.columnIndex??0;ve>=H&&(ve=W),q[ve].push(re)}for(let re=0;re<q.length;re++)q[re].sort((ve,ge)=>(ve.order??0)-(ge.order??0));return q});function Y(q){const W=m(Q)();if(!W||W.length===0)return null;for(let re=0;re<W.length;re++){const ve=W[re];if(!Array.isArray(ve))continue;const ge=ve.findIndex(je=>je.id===q);if(ge!==-1)return{columnIndex:re,index:ge}}return null}async function ne(q,W){const re=m(Q)();if(!re||re.length===0)return;const ve=Y(q);if(!ve)return;const{columnIndex:ge,index:je}=ve;let te=ge,z=je;if(W==="up"){if(je===0)return;z=je-1}else if(W==="down"){const Me=re[ge]||[];if(je===Me.length-1)return;z=je+1}else if(W==="left"){if(ge===0)return;te=ge-1,z=(re[te]||[]).length}else if(W==="right"){if(ge===H-1)return;te=ge+1,z=(re[te]||[]).length}else return;const D=re.map(Me=>Array.isArray(Me)?[...Me]:[]),C=D[ge];if(!C||C.length===0)return;const[M]=C.splice(je,1);if(!M)return;const X=D[te];if(!X)return;const Te=Math.min(Math.max(z,0),X.length);W==="left"||W==="right"?X.splice(Te,0,{...M,columnIndex:te}):X.splice(Te,0,M);const fe=[];for(let Me=0;Me<D.length;Me++){const Qe=D[Me]||[];for(let ze=0;ze<Qe.length;ze++){const lt=Qe[ze];fe.push({...lt,columnIndex:Me,order:ze})}}O(y,fe,!0);const Ee=(D[te]||[]).map(Me=>({id:Me.id}));try{await zu(te,Ee)}catch(Me){console.error("[KEYBOARD DRAG] Error moving list via keyboard:",Me)}m(L).active&&m(L).listId===q&&await me(q)}function oe(q){return m(L).active===!0&&m(L).listId===q}async function me(q){if(typeof document>"u")return;await qn();const W=Array.from(document.querySelectorAll(`[data-id="${q}"]`));let re=W.find(ve=>ve instanceof HTMLElement&&ve.getAttribute("role")==="group");re||(re=W.find(ve=>ve instanceof HTMLElement&&ve.tagName==="DIV")),re instanceof HTMLElement&&re.focus()}function pe(q){O(F,!1),O(L,{active:!0,listId:q},!0)}function ce(){m(L).listId!=null&&(O(K,m(L).listId,!0),O(F,!0)),O(L,{active:!1,listId:null},!0)}function be(){if(typeof document>"u")return;const q=document.activeElement;q&&q instanceof HTMLElement&&q.blur()}function ye(q,W){const re=q.currentTarget,ve=q.target,ge=q.key;if(!oe(W)){(ge==="Enter"||ge===" ")&&re instanceof HTMLElement&&re===ve&&(q.preventDefault(),q.stopPropagation(),q.stopImmediatePropagation(),W!=null&&pe(W));return}}Je(()=>{if(typeof document>"u")return;function q(W){const re=W.key,ve=m(L).active===!0,ge=m(L).listId;if(!ve&&re==="Tab"&&m(F)&&m(K)!=null){W.preventDefault(),W.stopPropagation(),W.stopImmediatePropagation(),O(F,!1),me(m(K));return}if(!(!ve||ge==null)){if(re==="ArrowUp"){W.preventDefault(),W.stopPropagation(),W.stopImmediatePropagation(),ne(ge,"up");return}if(re==="ArrowDown"){W.preventDefault(),W.stopPropagation(),W.stopImmediatePropagation(),ne(ge,"down");return}if(re==="ArrowLeft"){W.preventDefault(),W.stopPropagation(),W.stopImmediatePropagation(),ne(ge,"left");return}if(re==="ArrowRight"){W.preventDefault(),W.stopPropagation(),W.stopImmediatePropagation(),ne(ge,"right");return}if(re==="Escape"||re==="Enter"||re===" "){W.preventDefault(),W.stopPropagation(),W.stopImmediatePropagation(),ce(),be();return}if(re==="Tab"){W.preventDefault(),W.stopPropagation(),W.stopImmediatePropagation(),ce(),be();return}}}return document.addEventListener("keydown",q,!0),()=>{document.removeEventListener("keydown",q,!0)}});function De(q,W){m(g)[q]=W}function Ye(){window.print()}function Be(q){O(w,q,!0)}function Ze(q,W){(q.key==="Enter"||q.key===" ")&&(q.preventDefault(),q.stopPropagation(),Be(W))}function ot(q){q.key==="Escape"&&(O(w,null),O(E,""))}Je(()=>{if(m(w)!==null)return ec(m(I),()=>{m(w)!==null&&(O(w,null),O(E,""))},{ignoreElements:[],checkIgnoreClick:q=>{const W=q.target.closest("button");return W&&W.textContent?.trim()==="Save"},shouldClose:()=>!m(E)||m(E).trim()===""})}),Je(()=>{m(w)!==null&&m(I)&&setTimeout(()=>{m(I)?.focus()},0)});async function Ke(q){const W=m(E)||"";if(ls(W)){O(w,null),O(E,"");return}const{text:re,isBlank:ve}=cs(W);if(ve){O(w,null),O(E,"");return}try{await Bu(re,q),O(E,""),await qn(),m(I)&&setTimeout(()=>{m(I)?.focus()},0)}catch(ge){console.error("Error creating list:",ge)}}async function Pt(q){const W=m(E)||"";if(ls(W)){O(w,null),O(E,"");return}const{text:re,isBlank:ve}=cs(W);if(ve){O(w,null),O(E,"");return}try{await Bu(re,q),O(E,""),O(w,null)}catch(ge){console.error("Error creating list on Tab:",ge)}}function Ue(q){O(b,q.detail.items,!0)}async function qe(q){O(b,q.detail.items,!0),O(b,[],!0)}function ft(q){return q&&(q.isDndShadowItem===!0||typeof q.id=="string"&&q.id.startsWith("id:dnd-shadow-placeholder-"))}function Ut(q,W){console.log("[DRAG] ===== CONSIDER EVENT ====="),console.log("[DRAG] consider - column:",W),console.log("[DRAG] consider - event.detail.items count:",q.detail.items?.length||0);const re=q.detail.items||[],ve=re.filter(D=>ft(D)),ge=re.filter(D=>!ft(D));console.log("[DRAG] consider - placeholders detected:",ve.length),ve.length>0&&console.log("[DRAG] consider - placeholder items:",ve.map(D=>({id:D.id,isDndShadowItem:D.isDndShadowItem}))),console.log("[DRAG] consider - valid items:",ge.length);const je=m(y).filter(D=>(D.columnIndex??0)===W);console.log("[DRAG] consider - current lists in column",W+" (before update):",je.map(D=>({id:D.id,name:D.name,columnIndex:D.columnIndex}))),console.log("[DRAG] consider - newColumnItems IDs:",re.map(D=>({id:D.id,isPlaceholder:ft(D)})));const te=ge.every(D=>{const C=m(y).find(M=>M.id===D.id);return C&&(C.columnIndex??0)===W});console.log("[DRAG] consider - isSameColumnReorder:",te);for(const D of ge){const C=m(y).find(M=>M.id===D.id);if(C){const M=C.columnIndex??0;M!==W&&console.log("[DRAG] consider - CROSS-COLUMN MOVE DETECTED:",{listId:D.id,listName:D.name,oldColumn:M,newColumn:W})}else console.log("[DRAG] consider - NEW ITEM IN COLUMN (possibly from another column):",{listId:D.id,listName:D.name,column:W})}const z=m(y).filter(D=>(D.columnIndex??0)!==W);for(let D=0;D<re.length;D++){const C=re[D],M=m(y).find(Te=>Te.id===C.id),X=M?{...M,...C,columnIndex:W,order:D}:{...C,columnIndex:W,order:D};z.push(X)}console.log("[DRAG] consider - updated draggableLists count:",z.length),console.log("[DRAG] consider - updated lists in column",W+":",z.filter(D=>(D.columnIndex??0)===W).map(D=>({id:D.id,name:D.name,columnIndex:D.columnIndex}))),O(y,z,!0);try{const D=m(Q)().map((C,M)=>({columnIndex:M,listCount:C.length,listIds:C.map(X=>X.id)}));console.log("[DRAG] consider - listsByColumn state (after update):",D)}catch(D){console.warn("[DRAG] consider - error logging listsByColumn:",D)}console.log("[DRAG] ===== END CONSIDER EVENT =====")}async function nn(q,W){console.log("[DRAG] ===== FINALIZE EVENT ====="),console.log("[DRAG] finalize - column where drop occurred:",W),console.log("[DRAG] finalize - event.detail.items count:",q.detail.items?.length||0);const re=(q.detail.items||[]).filter(M=>!ft(M)),ve=(q.detail.items||[]).filter(M=>ft(M));console.log("[DRAG] finalize - placeholders filtered out:",ve.length),ve.length>0&&console.warn("[DRAG] finalize - WARNING: Placeholders still present in finalize!",ve.length),console.log("[DRAG] finalize - valid items (after filtering placeholders):",re.length),console.log("[DRAG] finalize - valid items details:",re.map(M=>({id:M.id,name:M.name,order:M.order,columnIndex:M.columnIndex})));const ge=[];let je=!1;for(const M of re){const X=(a()||[]).find(Te=>Te.id===M.id);if(X){const Te=X.columnIndex??0;Te!==W&&(je=!0,ge.push({listId:M.id,listName:M.name,oldColumn:Te,newColumn:W}))}else{const Te=m(y).find(fe=>fe.id===M.id);Te&&(Te.columnIndex??0)!==W&&(je=!0)}}ge.length>0&&console.log("[DRAG] finalize - COLUMN CHANGES DETECTED:",ge);const z=(a()||[]).filter(M=>(M.columnIndex??0)===W).length,D=re.length;if(D<z&&!je){console.log("[DRAG] finalize - SKIPPING database update (source column that lost items)",{originalCount:z,currentCount:D,hasItemsFromOtherColumns:je}),console.log("[DRAG] ===== END FINALIZE EVENT =====");return}if(re.length===0&&!je&&z>0){console.log("[DRAG] finalize - SKIPPING database update (empty column that lost all items)"),console.log("[DRAG] ===== END FINALIZE EVENT =====");return}try{console.log("[DRAG] finalize - updating database with updateListOrderWithColumn..."),await zu(W,re),console.log("[DRAG] finalize - database update successful"),console.log("[DRAG] finalize - waiting for $effect to sync draggableLists from liveQuery...")}catch(M){console.error("[DRAG] finalize - ERROR updating list order:",M)}console.log("[DRAG] ===== END FINALIZE EVENT =====")}var pt=fp(),et=xe(pt),Ve=xe(et);Ve.__click=Ye;var mt=Se(et,2),St=xe(mt),xn=xe(St),sr=xe(xn);{var tt=q=>{var W=np();we(q,W)},st=q=>{var W=er(),re=_t(W);{var ve=ge=>{var je=cp(),te=_t(je);br(te,21,()=>m(Q)(),fa,(C,M,X)=>{var Te=up();ht(Te,"data-column-index",X);var fe=xe(Te),Ee=xe(fe);br(Ee,19,()=>m(M),Ge=>Ge.id,(Ge,Oe)=>{const qt=At(()=>ft(m(Oe))),rn=At(()=>m(h).find(fn=>fn.id===m(Oe).id)),Sr=At(()=>!m(rn)&&!m(qt)?m(Oe):null),Xe=At(()=>m(rn)||m(Sr));var Mi=er(),Qa=_t(Mi);{var Tn=fn=>{var Ot=rp(),ni=xe(Ot);{let Kn=At(()=>m(Xe).name??"Unnamed list"),An=At(()=>m(g)[m(Xe).id]||"");Gv(ni,{get listId(){return m(Xe).id},get listName(){return m(Kn)},get newTaskInput(){return m(An)},onInputChange:Or=>De(m(Xe).id,Or),get allLists(){return a()},get stableLists(){return m(h)}})}it(()=>{ht(Ot,"data-id",m(Oe).id),ht(Ot,"aria-label",`List: ${m(Xe).name??"Unnamed list"}`),ht(Ot,"aria-pressed",m(L).active&&m(L).listId===m(Xe).id?"true":"false")}),yr("keydown",Ot,Kn=>ye(Kn,m(Xe).id),!0),we(fn,Ot)},ti=fn=>{var Ot=ip();it(()=>ht(Ot,"data-id",m(Oe).id)),we(fn,Ot)};at(Qa,fn=>{m(Xe)?fn(Tn):fn(ti,!1)})}we(Ge,Mi)});var Me=Se(Ee,2);{var Qe=Ge=>{var Oe=ap();we(Ge,Oe)};at(Me,Ge=>{m(M).length===0&&Ge(Qe)})}Qo(fe,(Ge,Oe)=>ss?.(Ge,Oe),()=>({items:m(M),type:"list",zoneTabIndex:-1}));var ze=Se(fe,2);{var lt=Ge=>{var Oe=op(),qt=xe(Oe),rn=xe(qt);rn.__keydown=Xe=>{Xe.key==="Enter"&&!Xe.shiftKey?(Xe.preventDefault(),Ke(X)):Xe.key==="Escape"?ot(Xe):Xe.key==="Tab"&&Pt(X)},En(rn,Xe=>O(I,Xe),()=>m(I));var Sr=Se(rn,2);Sr.__click=()=>Ke(X),it(()=>bi(Oe,1,`print:hidden m-0 p-0 create-list-wrapper ${m(M).length===0?"create-list-empty-column":""}`,"svelte-1n46o8q")),Ts(rn,()=>m(E),Xe=>O(E,Xe)),we(Ge,Oe)},Lt=Ge=>{var Oe=sp();Oe.__click=()=>Be(X),Oe.__keydown=qt=>Ze(qt,X),it(()=>bi(Oe,1,`cursor-pointer hover:underline print:hidden m-0 p-0 create-list-wrapper ${m(M).length===0?"create-list-empty-column":""}`,"svelte-1n46o8q")),we(Ge,Oe)};at(ze,Ge=>{m(w)===X?Ge(lt):Ge(Lt,!1)})}yr("consider",fe,Ge=>Ut(Ge,X)),yr("finalize",fe,Ge=>nn(Ge,X)),we(C,Te)});var z=Se(te,2),D=xe(z);br(D,21,()=>m(b),C=>C.id,(C,M)=>{var X=lp(),Te=Se(xe(X),2),fe=Se(Te,2),Ee=xe(fe);it(()=>{ht(X,"data-id",m(M).id),Ll(Te,m(M).status==="checked"),bi(fe,1,Pl(m(M).status==="checked"?"line-through break-words":"break-words")),tr(fe,`width: ${Jl}px;`),Zn(Ee,m(M).text||"")}),we(C,X)}),En(D,C=>O(T,C),()=>m(T)),Qo(D,(C,M)=>ss?.(C,M),()=>({items:m(b),type:"task"})),yr("consider",D,Ue),yr("finalize",D,qe),we(ge,je)};at(re,ge=>{Array.isArray(a())&&ge(ve)},!0)}we(q,W)};at(sr,q=>{a()===void 0||a()===null?q(tt):q(st,!1)})}var cn=Se(mt,2);tp(cn,{}),it(()=>{tr(et,`width: ${us}px;`),tr(mt,`width: ${us}px; height: ${xv}px;`)}),we(e,pt),Dr(),l()}ei(["click","keydown"]);const hp=[{name:"Work",order:0},{name:"Personal",order:1},{name:"Shopping",order:2}],vp=[{text:"Review project proposal",listId:1,order:0,status:"unchecked"},{text:"Team meeting prep",listId:1,order:1,status:"unchecked"},{text:"Update documentation",listId:1,order:2,status:"unchecked"},{text:"Call dentist",listId:2,order:0,status:"unchecked"},{text:"Exercise",listId:2,order:1,status:"unchecked"},{text:"Buy groceries",listId:3,order:0,status:"unchecked"},{text:"Pick up dry cleaning",listId:3,order:1,status:"unchecked"}];async function pp(){try{if(await ke.lists.count()>0)return;await ke.lists.bulkAdd(hp),await ke.tasks.bulkAdd(vp),console.log("Database seeded with mock data")}catch(e){throw console.error("Error seeding database:",e),e}}(async()=>(await pp().catch(console.error),Nd(dp,{target:document.getElementById("app")})))();
