(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const f of l)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(l){const f={};return l.integrity&&(f.integrity=l.integrity),l.referrerPolicy&&(f.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?f.credentials="include":l.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(l){if(l.ep)return;l.ep=!0;const f=a(l);fetch(l.href,f)}})();const ff="production",ee=!ff.toLowerCase().startsWith("prod");var Ru=Array.isArray,df=Array.prototype.indexOf,Xo=Array.from,Kn=Object.defineProperty,nr=Object.getOwnPropertyDescriptor,Mu=Object.getOwnPropertyDescriptors,hf=Object.prototype,vf=Array.prototype,$o=Object.getPrototypeOf,ru=Object.isExtensible;const Ji=()=>{};function pf(e){for(var r=0;r<e.length;r++)e[r]()}function Lu(){var e,r,a=new Promise((s,l)=>{e=s,r=l});return{promise:a,resolve:e,reject:r}}const tt=2,Jo=4,es=8,yf=1<<24,pn=16,yn=32,ur=64,ga=128,Gt=512,lt=1024,At=2048,mn=4096,Ct=8192,dn=16384,ts=32768,kr=65536,ea=1<<17,Nu=1<<18,Lr=1<<19,mf=1<<20,Fn=32768,So=1<<21,_a=1<<22,Pn=1<<23,hn=Symbol("$state"),gf=Symbol("legacy props"),_f=Symbol(""),Ku=Symbol("proxy path"),br=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function bf(){if(ee){const e=new Error("async_derived_orphan\nCannot create a `$derived(...)` with an `await` expression outside of an effect tree\nhttps://svelte.dev/e/async_derived_orphan");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/async_derived_orphan")}function iu(){if(ee){const e=new Error("bind_invalid_checkbox_value\nUsing `bind:value` together with a checkbox input is not allowed. Use `bind:checked` instead\nhttps://svelte.dev/e/bind_invalid_checkbox_value");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/bind_invalid_checkbox_value")}function wf(){if(ee){const e=new Error(`derived_references_self
A derived value cannot reference itself recursively
https://svelte.dev/e/derived_references_self`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/derived_references_self")}function Ef(e){if(ee){const r=new Error(`effect_in_teardown
\`${e}\` cannot be used inside an effect cleanup function
https://svelte.dev/e/effect_in_teardown`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/effect_in_teardown")}function xf(){if(ee){const e=new Error("effect_in_unowned_derived\nEffect cannot be created inside a `$derived` value that was not itself created inside an effect\nhttps://svelte.dev/e/effect_in_unowned_derived");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Tf(e){if(ee){const r=new Error(`effect_orphan
\`${e}\` can only be used inside an effect (e.g. during component initialisation)
https://svelte.dev/e/effect_orphan`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/effect_orphan")}function kf(){if(ee){const e=new Error(`effect_update_depth_exceeded
Maximum update depth exceeded. This typically indicates that an effect reads and writes the same piece of state
https://svelte.dev/e/effect_update_depth_exceeded`);throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Df(e){if(ee){const r=new Error(`props_invalid_value
Cannot do \`bind:${e}={undefined}\` when \`${e}\` has a fallback value
https://svelte.dev/e/props_invalid_value`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/props_invalid_value")}function Af(e){if(ee){const r=new Error(`rune_outside_svelte
The \`${e}\` rune is only available inside \`.svelte\` and \`.svelte.js/ts\` files
https://svelte.dev/e/rune_outside_svelte`);throw r.name="Svelte error",r}else throw new Error("https://svelte.dev/e/rune_outside_svelte")}function Sf(){if(ee){const e=new Error("state_descriptors_fixed\nProperty descriptors defined on `$state` objects must contain `value` and always be `enumerable`, `configurable` and `writable`.\nhttps://svelte.dev/e/state_descriptors_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function If(){if(ee){const e=new Error("state_prototype_fixed\nCannot set prototype of `$state` object\nhttps://svelte.dev/e/state_prototype_fixed");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Of(){if(ee){const e=new Error("state_unsafe_mutation\nUpdating state inside `$derived(...)`, `$inspect(...)` or a template expression is forbidden. If the value should not be reactive, declare it without `$state`\nhttps://svelte.dev/e/state_unsafe_mutation");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Cf(){if(ee){const e=new Error("svelte_boundary_reset_onerror\nA `<svelte:boundary>` `reset` function cannot be called while an error is still being handled\nhttps://svelte.dev/e/svelte_boundary_reset_onerror");throw e.name="Svelte error",e}else throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Fu=1,Bu=2,ju=4,Pf=8,Rf=16,Mf=1,Lf=4,Nf=8,Kf=16,Ff=1,Bf=2,at=Symbol(),jf=Symbol("filename"),zf="http://www.w3.org/1999/xhtml";var zu="font-weight: bold",Vu="font-weight: normal";function _o(e){ee?console.warn(`%c[svelte] state_proxy_equality_mismatch
%cReactive \`$state(...)\` proxies and the values they proxy have different identities. Because of this, comparisons with \`${e}\` will produce unexpected results
https://svelte.dev/e/state_proxy_equality_mismatch`,zu,Vu):console.warn("https://svelte.dev/e/state_proxy_equality_mismatch")}function Vf(){ee?console.warn("%c[svelte] svelte_boundary_reset_noop\n%cA `<svelte:boundary>` `reset` function only resets the boundary the first time it is called\nhttps://svelte.dev/e/svelte_boundary_reset_noop",zu,Vu):console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Hu(e){return e===this.v}function Uu(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function Wu(e){return!Uu(e,this.v)}let Hf=!1;function Xt(e,r){return e.label=r,Gu(e.v,r),e}function Gu(e,r){return e?.[Ku]?.(r),e}function Uf(e){const r=new Error,a=Wf();return a.length===0?null:(a.unshift(`
`),Kn(r,"stack",{value:a.join(`
`)}),Kn(r,"name",{value:e}),r)}function Wf(){const e=Error.stackTraceLimit;Error.stackTraceLimit=1/0;const r=new Error().stack;if(Error.stackTraceLimit=e,!r)return[];const a=r.split(`
`),s=[];for(let l=0;l<a.length;l++){const f=a[l],h=f.replaceAll("\\","/");if(f.trim()!=="Error"){if(f.includes("validate_each_keys"))return[];h.includes("svelte/src/internal")||h.includes("node_modules/.vite")||s.push(f)}}return s}let xt=null;function Dr(e){xt=e}let ai=null;function ta(e){ai=e}let hi=null;function au(e){hi=e}function zn(e,r=!1,a){xt={p:xt,i:!1,c:null,e:null,s:e,x:null,l:null},ee&&(xt.function=a,hi=a)}function Vn(e){var r=xt,a=r.e;if(a!==null){r.e=null;for(var s of a)ll(s)}return r.i=!0,xt=r.p,ee&&(hi=xt?.function??null),{}}function Yu(){return!0}let tr=[];function qu(){var e=tr;tr=[],pf(e)}function Nr(e){if(tr.length===0&&!ni){var r=tr;queueMicrotask(()=>{r===tr&&qu()})}tr.push(e)}function Gf(){for(;tr.length>0;)qu()}const Io=new WeakMap;function Zu(e){var r=Se;if(r===null)return Te.f|=Pn,e;if(ee&&e instanceof Error&&!Io.has(e)&&Io.set(e,Yf(e,r)),(r.f&ts)===0){if((r.f&ga)===0)throw ee&&!r.parent&&e instanceof Error&&Qu(e),e;r.b.error(e)}else Ar(e,r)}function Ar(e,r){for(;r!==null;){if((r.f&ga)!==0)try{r.b.error(e);return}catch(a){e=a}r=r.parent}throw ee&&e instanceof Error&&Qu(e),e}function Yf(e,r){const a=nr(e,"message");if(!(a&&!a.configurable)){for(var s=as?"  ":"	",l=`
${s}in ${r.fn?.name||"<unknown>"}`,f=r.ctx;f!==null;)l+=`
${s}in ${f.function?.[jf].split("/").pop()}`,f=f.p;return{message:e.message+`
${l}
`,stack:e.stack?.split(`
`).filter(h=>!h.includes("svelte/src/internal")).join(`
`)}}}function Qu(e){const r=Io.get(e);r&&(Kn(e,"message",{value:r.message}),Kn(e,"stack",{value:r.stack}))}const Wi=new Set;let Ie=null,Zi=null,Bt=null,Nt=[],ba=null,Oo=!1,ni=!1;class nn{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#u=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(r){Nt=[],Zi=null,this.apply();var a={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const s of r)this.#o(s,a);this.is_fork||this.#c(),this.is_deferred()?(this.#s(a.effects),this.#s(a.render_effects),this.#s(a.block_effects)):(Zi=this,Ie=null,ou(a.render_effects),ou(a.effects),Zi=null,this.#u?.resolve()),Bt=null}#o(r,a){r.f^=lt;for(var s=r.first;s!==null;){var l=s.f,f=(l&(yn|ur))!==0,h=f&&(l&lt)!==0,m=h||(l&Ct)!==0||this.skipped_effects.has(s);if((s.f&ga)!==0&&s.b?.is_pending()&&(a={parent:a,effect:s,effects:[],render_effects:[],block_effects:[]}),!m&&s.fn!==null){f?s.f^=lt:(l&Jo)!==0?a.effects.push(s):pi(s)&&((s.f&pn)!==0&&a.block_effects.push(s),li(s));var y=s.first;if(y!==null){s=y;continue}}var x=s.parent;for(s=s.next;s===null&&x!==null;)x===a.effect&&(this.#s(a.effects),this.#s(a.render_effects),this.#s(a.block_effects),a=a.parent),s=x.next,x=x.parent}}#s(r){for(const a of r)((a.f&At)!==0?this.#a:this.#i).push(a),this.#l(a.deps),ct(a,lt)}#l(r){if(r!==null)for(const a of r)(a.f&tt)===0||(a.f&Fn)===0||(a.f^=Fn,this.#l(a.deps))}capture(r,a){this.previous.has(r)||this.previous.set(r,a),(r.f&Pn)===0&&(this.current.set(r,r.v),Bt?.set(r,r.v))}activate(){Ie=this,this.apply()}deactivate(){Ie===this&&(Ie=null,Bt=null)}flush(){if(this.activate(),Nt.length>0){if(Xu(),Ie!==null&&Ie!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const r of this.#t)r(this);this.#t.clear()}#c(){if(this.#n===0){for(const r of this.#e)r();this.#e.clear()}this.#r===0&&this.#f()}#f(){if(Wi.size>1){this.previous.clear();var r=Bt,a=!0,s={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const f of Wi){if(f===this){a=!1;continue}const h=[];for(const[y,x]of this.current){if(f.current.has(y))if(a&&x!==f.current.get(y))f.current.set(y,x);else continue;h.push(y)}if(h.length===0)continue;const m=[...f.current.keys()].filter(y=>!this.current.has(y));if(m.length>0){var l=Nt;Nt=[];const y=new Set,x=new Map;for(const w of h)$u(w,m,y,x);if(Nt.length>0){Ie=f,f.apply();for(const w of Nt)f.#o(w,s);f.deactivate()}Nt=l}}Ie=null,Bt=r}this.committed=!0,Wi.delete(this)}increment(r){this.#r+=1,r&&(this.#n+=1)}decrement(r){this.#r-=1,r&&(this.#n-=1),this.revive()}revive(){for(const r of this.#a)ct(r,At),ar(r);for(const r of this.#i)ct(r,mn),ar(r);this.#a=[],this.#i=[],this.flush()}oncommit(r){this.#e.add(r)}ondiscard(r){this.#t.add(r)}settled(){return(this.#u??=Lu()).promise}static ensure(){if(Ie===null){const r=Ie=new nn;Wi.add(Ie),ni||nn.enqueue(()=>{Ie===r&&r.flush()})}return Ie}static enqueue(r){Nr(r)}apply(){}}function qf(e){var r=ni;ni=!0;try{for(var a;;){if(Gf(),Nt.length===0&&(Ie?.flush(),Nt.length===0))return ba=null,a;Xu()}}finally{ni=r}}function Xu(){var e=Mn;Oo=!0;var r=ee?new Set:null;try{var a=0;for(ia(!0);Nt.length>0;){var s=nn.ensure();if(a++>1e3){if(ee){var l=new Map;for(const h of s.current.keys())for(const[m,y]of h.updated??[]){var f=l.get(m);f||(f={error:y.error,count:0},l.set(m,f)),f.count+=y.count}for(const h of l.values())h.error&&console.error(h.error)}Zf()}if(s.process(Nt),Rn.clear(),ee)for(const h of s.current.keys())r.add(h)}}finally{if(Oo=!1,ia(e),ba=null,ee)for(const h of r)h.updated=null}}function Zf(){try{kf()}catch(e){ee&&Kn(e,"stack",{value:""}),Ar(e,ba)}}let fn=null;function ou(e){var r=e.length;if(r!==0){for(var a=0;a<r;){var s=e[a++];if((s.f&(dn|Ct))===0&&pi(s)&&(fn=new Set,li(s),s.deps===null&&s.first===null&&s.nodes_start===null&&(s.teardown===null&&s.ac===null?hl(s):s.fn=null),fn?.size>0)){Rn.clear();for(const l of fn){if((l.f&(dn|Ct))!==0)continue;const f=[l];let h=l.parent;for(;h!==null;)fn.has(h)&&(fn.delete(h),f.push(h)),h=h.parent;for(let m=f.length-1;m>=0;m--){const y=f[m];(y.f&(dn|Ct))===0&&li(y)}}fn.clear()}}fn=null}}function $u(e,r,a,s){if(!a.has(e)&&(a.add(e),e.reactions!==null))for(const l of e.reactions){const f=l.f;(f&tt)!==0?$u(l,r,a,s):(f&(_a|pn))!==0&&(f&At)===0&&Ju(l,r,s)&&(ct(l,At),ar(l))}}function Ju(e,r,a){const s=a.get(e);if(s!==void 0)return s;if(e.deps!==null)for(const l of e.deps){if(r.includes(l))return!0;if((l.f&tt)!==0&&Ju(l,r,a))return a.set(l,!0),!0}return a.set(e,!1),!1}function ar(e){for(var r=ba=e;r.parent!==null;){r=r.parent;var a=r.f;if(Oo&&r===Se&&(a&pn)!==0&&(a&Nu)===0)return;if((a&(ur|yn))!==0){if((a&lt)===0)return;r.f^=lt}}Nt.push(r)}function Qf(e){let r=0,a=or(0),s;return ee&&Xt(a,"createSubscriber version"),()=>{si()&&(E(a),xa(()=>(r===0&&(s=Kr(()=>e(()=>ri(a)))),r+=1,()=>{Nr(()=>{r-=1,r===0&&(s?.(),s=void 0,ri(a))})})))}}var Xf=kr|Lr|ga;function $f(e,r,a){new Jf(e,r,a)}class Jf{parent;#e=!1;#t;#r=null;#n;#u;#a;#i=null;#o=null;#s=null;#l=null;#c=null;#f=0;#h=0;#v=!1;#d=null;#_=Qf(()=>(this.#d=or(this.#f),ee&&Xt(this.#d,"$effect.pending()"),()=>{this.#d=null}));constructor(r,a,s){this.#t=r,this.#n=a,this.#u=s,this.parent=Se.b,this.#e=!!this.#n.pending,this.#a=ss(()=>{Se.b=this;{var l=this.#m();try{this.#i=Kt(()=>s(l))}catch(f){this.error(f)}this.#h>0?this.#y():this.#e=!1}return()=>{this.#c?.remove()}},Xf)}#b(){try{this.#i=Kt(()=>this.#u(this.#t))}catch(r){this.error(r)}this.#e=!1}#w(){const r=this.#n.pending;r&&(this.#o=Kt(()=>r(this.#t)),nn.enqueue(()=>{var a=this.#m();this.#i=this.#p(()=>(nn.ensure(),Kt(()=>this.#u(a)))),this.#h>0?this.#y():(Er(this.#o,()=>{this.#o=null}),this.#e=!1)}))}#m(){var r=this.#t;return this.#e&&(this.#c=Bn(),this.#t.before(this.#c),r=this.#c),r}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(r){var a=Se,s=Te,l=xt;Wt(this.#a),Et(this.#a),Dr(this.#a.ctx);try{return r()}catch(f){return Zu(f),null}finally{Wt(a),Et(s),Dr(l)}}#y(){const r=this.#n.pending;this.#i!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#c),yl(this.#i,this.#l)),this.#o===null&&(this.#o=Kt(()=>r(this.#t)))}#g(r){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(r);return}this.#h+=r,this.#h===0&&(this.#e=!1,this.#o&&Er(this.#o,()=>{this.#o=null}),this.#l&&(this.#t.before(this.#l),this.#l=null))}update_pending_count(r){this.#g(r),this.#f+=r,this.#d&&Ir(this.#d,this.#f)}get_effect_pending(){return this.#_(),E(this.#d)}error(r){var a=this.#n.onerror;let s=this.#n.failed;if(this.#v||!a&&!s)throw r;this.#i&&(kt(this.#i),this.#i=null),this.#o&&(kt(this.#o),this.#o=null),this.#s&&(kt(this.#s),this.#s=null);var l=!1,f=!1;const h=()=>{if(l){Vf();return}l=!0,f&&Cf(),nn.ensure(),this.#f=0,this.#s!==null&&Er(this.#s,()=>{this.#s=null}),this.#e=this.has_pending_snippet(),this.#i=this.#p(()=>(this.#v=!1,Kt(()=>this.#u(this.#t)))),this.#h>0?this.#y():this.#e=!1};var m=Te;try{Et(null),f=!0,a?.(r,h),f=!1}catch(y){Ar(y,this.#a&&this.#a.parent)}finally{Et(m)}s&&Nr(()=>{this.#s=this.#p(()=>{nn.ensure(),this.#v=!0;try{return Kt(()=>{s(this.#t,()=>r,()=>h)})}catch(y){return Ar(y,this.#a.parent),null}finally{this.#v=!1}})})}}function el(e,r){return r}function ed(e,r,a){for(var s=[],l=r.length,f=0;f<l;f++)us(r[f].e,s,!0);vl(s,()=>{var h=s.length===0&&a!==null;if(h){var m=a,y=m.parentNode;vd(y),y.append(m),e.items.clear(),$t(e,r[0].prev,r[l-1].next)}for(var x=0;x<l;x++){var w=r[x];h||(e.items.delete(w.k),$t(e,w.prev,w.next)),kt(w.e,!h)}e.first===r[0]&&(e.first=r[0].prev)})}function ns(e,r,a,s,l,f=null){var h=e,m=new Map,y=null,x=(r&ju)!==0,w=(r&Fu)!==0,A=(r&Bu)!==0;if(x){var g=e;h=g.appendChild(Bn())}var D=null,L=tl(()=>{var X=a();return Ru(X)?X:X==null?[]:Xo(X)}),M,C=!0;function j(){td(Q,M,h,r,s),D!==null&&(M.length===0?(D.fragment?(h.before(D.fragment),D.fragment=null):ls(D.effect),V.first=D.effect):Er(D.effect,()=>{D=null}))}var V=ss(()=>{M=E(L);for(var X=M.length,ae=new Set,se=Ie,pe=null,he=ul(),_e=0;_e<X;_e+=1){var fe=M[_e],be=s(fe,_e),ke=C?null:m.get(be);ke?(w&&Ir(ke.v,fe),A?Ir(ke.i,_e):ke.i=_e,he&&se.skipped_effects.delete(ke.e)):(ke=nd(C?h:null,pe,fe,be,_e,l,r,a),C&&(ke.o=!0,pe===null?y=ke:pe.next=ke,pe=ke),m.set(be,ke)),ae.add(be)}if(X===0&&f&&!D)if(C)D={fragment:null,effect:Kt(()=>f(h))};else{var je=document.createDocumentFragment(),Qe=Bn();je.append(Qe),D={fragment:je,effect:Kt(()=>f(Qe))}}if(!C)if(he){for(const[pt,ft]of m)ae.has(pt)||se.skipped_effects.add(ft.e);se.oncommit(j),se.ondiscard(()=>{})}else j();E(L)}),Q={effect:V,items:m,first:y};C=!1}function td(e,r,a,s,l){var f=(s&Pf)!==0,h=r.length,m=e.items,y=e.first,x,w=null,A,g=[],D=[],L,M,C,j;if(f)for(j=0;j<h;j+=1)L=r[j],M=l(L,j),C=m.get(M),C.o&&(C.a?.measure(),(A??=new Set).add(C));for(j=0;j<h;j+=1){if(L=r[j],M=l(L,j),C=m.get(M),e.first??=C,!C.o){C.o=!0;var V=w?w.next:y;$t(e,w,C),$t(e,C,V),bo(C,V,a),w=C,g=[],D=[],y=w.next;continue}if((C.e.f&Ct)!==0&&(ls(C.e),f&&(C.a?.unfix(),(A??=new Set).delete(C))),C!==y){if(x!==void 0&&x.has(C)){if(g.length<D.length){var Q=D[0],X;w=Q.prev;var ae=g[0],se=g[g.length-1];for(X=0;X<g.length;X+=1)bo(g[X],Q,a);for(X=0;X<D.length;X+=1)x.delete(D[X]);$t(e,ae.prev,se.next),$t(e,w,ae),$t(e,se,Q),y=Q,w=se,j-=1,g=[],D=[]}else x.delete(C),bo(C,y,a),$t(e,C.prev,C.next),$t(e,C,w===null?e.first:w.next),$t(e,w,C),w=C;continue}for(g=[],D=[];y!==null&&y.k!==M;)(y.e.f&Ct)===0&&(x??=new Set).add(y),D.push(y),y=y.next;if(y===null)continue;C=y}g.push(C),w=C,y=C.next}if(y!==null||x!==void 0){for(var pe=x===void 0?[]:Xo(x);y!==null;)(y.e.f&Ct)===0&&pe.push(y),y=y.next;var he=pe.length;if(he>0){var _e=(s&ju)!==0&&h===0?a:null;if(f){for(j=0;j<he;j+=1)pe[j].a?.measure();for(j=0;j<he;j+=1)pe[j].a?.fix()}ed(e,pe,_e)}}f&&Nr(()=>{if(A!==void 0)for(C of A)C.a?.apply()})}function nd(e,r,a,s,l,f,h,m){var y=(h&Fu)!==0,x=(h&Rf)===0,w=y?x?rl(a,!1,!1):or(a):a,A=(h&Bu)===0?l:or(l);ee&&y&&(w.trace=()=>{var L=typeof A=="number"?l:A.v;m()[L]});var g={i:A,v:w,k:s,a:null,e:null,o:!1,prev:r,next:null};try{if(e===null){var D=document.createDocumentFragment();D.append(e=Bn())}return g.e=Kt(()=>f(e,w,A,m)),r!==null&&(r.next=g),g}finally{}}function bo(e,r,a){for(var s=e.next?e.next.e.nodes_start:a,l=r?r.e.nodes_start:a,f=e.e.nodes_start;f!==null&&f!==s;){var h=vi(f);l.before(f),f=h}}function $t(e,r,a){r===null?(e.first=a,e.effect.first=a&&a.e):(r.e===e.effect.last&&a!==null&&(e.effect.last=a.e),r.e.next&&(r.e.next.prev=null),r.next=a,r.e.next=a&&a.e),a===null?e.effect.last=r&&r.e:(a.e===e.effect.last&&r===null&&(e.effect.last=a.e.prev),a.e.prev&&(a.e.prev.next=null),a.prev=r,a.e.prev=r&&r.e)}function rd(e,r,a,s){const l=wa;if(a.length===0&&e.length===0){s(r.map(l));return}var f=Ie,h=Se,m=id();function y(){Promise.all(a.map(x=>od(x))).then(x=>{m();try{s([...r.map(l),...x])}catch(w){(h.f&dn)===0&&Ar(w,h)}f?.deactivate(),na()}).catch(x=>{Ar(x,h)})}e.length>0?Promise.all(e).then(()=>{m();try{return y()}finally{f?.deactivate(),na()}}):y()}function id(){var e=Se,r=Te,a=xt,s=Ie;if(ee)var l=ai;return function(h=!0){Wt(e),Et(r),Dr(a),h&&s?.activate(),ee&&ta(l)}}function na(){Wt(null),Et(null),Dr(null),ee&&ta(null)}const ad=new Set;function wa(e){var r=tt|At,a=Te!==null&&(Te.f&tt)!==0?Te:null;return Se!==null&&(Se.f|=Lr),{ctx:xt,deps:null,effects:null,equals:Hu,f:r,fn:e,reactions:null,rv:0,v:at,wv:0,parent:a??Se,ac:null}}function od(e,r){let a=Se;a===null&&bf();var s=a.b,l=void 0,f=or(at),h=!Te,m=new Map;return bd(()=>{var y=Lu();l=y.promise;try{Promise.resolve(e()).then(y.resolve,y.reject).then(()=>{x===Ie&&x.committed&&x.deactivate(),na()})}catch(g){y.reject(g),na()}var x=Ie;if(h){var w=!s.is_pending();s.update_pending_count(1),x.increment(w),m.get(x)?.reject(br),m.delete(x),m.set(x,y)}const A=(g,D=void 0)=>{if(x.activate(),D)D!==br&&(f.f|=Pn,Ir(f,D));else{(f.f&Pn)!==0&&(f.f^=Pn),Ir(f,g);for(const[L,M]of m){if(m.delete(L),L===x)break;M.reject(br)}}h&&(s.update_pending_count(-1),x.decrement(w))};y.promise.then(A,g=>A(null,g||"unknown"))}),os(()=>{for(const y of m.values())y.reject(br)}),ee&&(f.f|=_a),new Promise(y=>{function x(w){function A(){w===l?y(f):x(l)}w.then(A,A)}x(l)})}function oi(e){const r=wa(e);return ml(r),r}function tl(e){const r=wa(e);return r.equals=Wu,r}function Co(e){var r=e.effects;if(r!==null){e.effects=null;for(var a=0;a<r.length;a+=1)kt(r[a])}}let wo=[];function sd(e){for(var r=e.parent;r!==null;){if((r.f&tt)===0)return(r.f&dn)===0?r:null;r=r.parent}return null}function rs(e){var r,a=Se;if(Wt(sd(e)),ee){let s=Sr;su(new Set);try{wo.includes(e)&&wf(),wo.push(e),e.f&=~Fn,Co(e),r=Po(e)}finally{Wt(a),su(s),wo.pop()}}else try{e.f&=~Fn,Co(e),r=Po(e)}finally{Wt(a)}return r}function nl(e){var r=rs(e);if(e.equals(r)||(Ie?.is_fork||(e.v=r),e.wv=_l()),!lr)if(Bt!==null)(si()||Ie?.is_fork)&&Bt.set(e,r);else{var a=(e.f&Gt)===0?mn:lt;ct(e,a)}}let Sr=new Set;const Rn=new Map;function su(e){Sr=e}let is=!1;function ud(){is=!0}function or(e,r){var a={f:0,v:e,reactions:null,equals:Hu,rv:0,wv:0};return a}function le(e,r){const a=or(e);return ml(a),a}function rl(e,r=!1,a=!0){const s=or(e);return r||(s.equals=Wu),s}function P(e,r,a=!1){Te!==null&&(!an||(Te.f&ea)!==0)&&Yu()&&(Te.f&(tt|pn|_a|ea))!==0&&!vn?.includes(e)&&Of();let s=a?rn(r):r;return ee&&Gu(s,e.label),Ir(e,s)}function Ir(e,r){if(!e.equals(r)){var a=e.v;lr?Rn.set(e,r):Rn.set(e,a),e.v=r;var s=nn.ensure();if(s.capture(e,a),ee){if(Se!==null){e.updated??=new Map;const l=(e.updated.get("")?.count??0)+1;if(e.updated.set("",{error:null,count:l}),l>5){const f=Uf("updated at");if(f!==null){let h=e.updated.get(f.stack);h||(h={error:f,count:0},e.updated.set(f.stack,h)),h.count++}}}Se!==null&&(e.set_during_effect=!0)}(e.f&tt)!==0&&((e.f&At)!==0&&rs(e),ct(e,(e.f&Gt)!==0?lt:mn)),e.wv=_l(),al(e,At),Se!==null&&(Se.f&lt)!==0&&(Se.f&(yn|ur))===0&&(Mt===null?xd([e]):Mt.push(e)),!s.is_fork&&Sr.size>0&&!is&&il()}return r}function il(){is=!1;var e=Mn;ia(!0);const r=Array.from(Sr);try{for(const a of r)(a.f&lt)!==0&&ct(a,mn),pi(a)&&li(a)}finally{ia(e)}Sr.clear()}function ri(e){P(e,e.v+1)}function al(e,r){var a=e.reactions;if(a!==null)for(var s=a.length,l=0;l<s;l++){var f=a[l],h=f.f;if(ee&&(h&ea)!==0){Sr.add(f);continue}var m=(h&At)===0;if(m&&ct(f,r),(h&tt)!==0){var y=f;Bt?.delete(y),(h&Fn)===0&&(h&Gt&&(f.f|=Fn),al(y,mn))}else m&&((h&pn)!==0&&fn!==null&&fn.add(f),ar(f))}}const ld=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function rn(e){if(typeof e!="object"||e===null||hn in e)return e;const r=$o(e);if(r!==hf&&r!==vf)return e;var a=new Map,s=Ru(e),l=le(0),f=rr,h=w=>{if(rr===f)return w();var A=Te,g=rr;Et(null),fu(f);var D=w();return Et(A),fu(g),D};s&&(a.set("length",le(e.length)),ee&&(e=fd(e)));var m="";let y=!1;function x(w){if(!y){y=!0,m=w,Xt(l,`${m} version`);for(const[A,g]of a)Xt(g,Xn(m,A));y=!1}}return new Proxy(e,{defineProperty(w,A,g){(!("value"in g)||g.configurable===!1||g.enumerable===!1||g.writable===!1)&&Sf();var D=a.get(A);return D===void 0?D=h(()=>{var L=le(g.value);return a.set(A,L),ee&&typeof A=="string"&&Xt(L,Xn(m,A)),L}):P(D,g.value,!0),!0},deleteProperty(w,A){var g=a.get(A);if(g===void 0){if(A in w){const D=h(()=>le(at));a.set(A,D),ri(l),ee&&Xt(D,Xn(m,A))}}else P(g,at),ri(l);return!0},get(w,A,g){if(A===hn)return e;if(ee&&A===Ku)return x;var D=a.get(A),L=A in w;if(D===void 0&&(!L||nr(w,A)?.writable)&&(D=h(()=>{var C=rn(L?w[A]:at),j=le(C);return ee&&Xt(j,Xn(m,A)),j}),a.set(A,D)),D!==void 0){var M=E(D);return M===at?void 0:M}return Reflect.get(w,A,g)},getOwnPropertyDescriptor(w,A){var g=Reflect.getOwnPropertyDescriptor(w,A);if(g&&"value"in g){var D=a.get(A);D&&(g.value=E(D))}else if(g===void 0){var L=a.get(A),M=L?.v;if(L!==void 0&&M!==at)return{enumerable:!0,configurable:!0,value:M,writable:!0}}return g},has(w,A){if(A===hn)return!0;var g=a.get(A),D=g!==void 0&&g.v!==at||Reflect.has(w,A);if(g!==void 0||Se!==null&&(!D||nr(w,A)?.writable)){g===void 0&&(g=h(()=>{var M=D?rn(w[A]):at,C=le(M);return ee&&Xt(C,Xn(m,A)),C}),a.set(A,g));var L=E(g);if(L===at)return!1}return D},set(w,A,g,D){var L=a.get(A),M=A in w;if(s&&A==="length")for(var C=g;C<L.v;C+=1){var j=a.get(C+"");j!==void 0?P(j,at):C in w&&(j=h(()=>le(at)),a.set(C+"",j),ee&&Xt(j,Xn(m,C)))}if(L===void 0)(!M||nr(w,A)?.writable)&&(L=h(()=>le(void 0)),ee&&Xt(L,Xn(m,A)),P(L,rn(g)),a.set(A,L));else{M=L.v!==at;var V=h(()=>rn(g));P(L,V)}var Q=Reflect.getOwnPropertyDescriptor(w,A);if(Q?.set&&Q.set.call(D,g),!M){if(s&&typeof A=="string"){var X=a.get("length"),ae=Number(A);Number.isInteger(ae)&&ae>=X.v&&P(X,ae+1)}ri(l)}return!0},ownKeys(w){E(l);var A=Reflect.ownKeys(w).filter(L=>{var M=a.get(L);return M===void 0||M.v!==at});for(var[g,D]of a)D.v!==at&&!(g in w)&&A.push(g);return A},setPrototypeOf(){If()}})}function Xn(e,r){return typeof r=="symbol"?`${e}[Symbol(${r.description??""})]`:ld.test(r)?`${e}.${r}`:/^\d+$/.test(r)?`${e}[${r}]`:`${e}['${r}']`}function Eo(e){try{if(e!==null&&typeof e=="object"&&hn in e)return e[hn]}catch{}return e}const cd=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]);function fd(e){return new Proxy(e,{get(r,a,s){var l=Reflect.get(r,a,s);return cd.has(a)?function(...f){ud();var h=l.apply(this,f);return il(),h}:l}})}function dd(){const e=Array.prototype,r=Array.__svelte_cleanup;r&&r();const{indexOf:a,lastIndexOf:s,includes:l}=e;e.indexOf=function(f,h){const m=a.call(this,f,h);if(m===-1){for(let y=h??0;y<this.length;y+=1)if(Eo(this[y])===f){_o("array.indexOf(...)");break}}return m},e.lastIndexOf=function(f,h){const m=s.call(this,f,h??this.length-1);if(m===-1){for(let y=0;y<=(h??this.length-1);y+=1)if(Eo(this[y])===f){_o("array.lastIndexOf(...)");break}}return m},e.includes=function(f,h){const m=l.call(this,f,h);if(!m){for(let y=0;y<this.length;y+=1)if(Eo(this[y])===f){_o("array.includes(...)");break}}return m},Array.__svelte_cleanup=()=>{e.indexOf=a,e.lastIndexOf=s,e.includes=l}}var uu,as,ol,sl;function hd(){if(uu===void 0){uu=window,as=/Firefox/.test(navigator.userAgent);var e=Element.prototype,r=Node.prototype,a=Text.prototype;ol=nr(r,"firstChild").get,sl=nr(r,"nextSibling").get,ru(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),ru(a)&&(a.__t=void 0),ee&&(e.__svelte_meta=null,dd())}}function Bn(e=""){return document.createTextNode(e)}function ra(e){return ol.call(e)}function vi(e){return sl.call(e)}function me(e,r){return ra(e)}function Pt(e,r=!1){{var a=ra(e);return a instanceof Comment&&a.data===""?vi(a):a}}function ge(e,r=1,a=!1){let s=e;for(;r--;)s=vi(s);return s}function vd(e){e.textContent=""}function ul(){return!1}let lu=!1;function pd(){lu||(lu=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const r of e.target.elements)r.__on_r?.()})},{capture:!0}))}function Ea(e){var r=Te,a=Se;Et(null),Wt(null);try{return e()}finally{Et(r),Wt(a)}}function yd(e,r,a,s=a){e.addEventListener(r,()=>Ea(a));const l=e.__on_r;l?e.__on_r=()=>{l(),s(!0)}:e.__on_r=()=>s(!0),pd()}function md(e){Se===null&&(Te===null&&Tf(e),xf()),lr&&Ef(e)}function gd(e,r){var a=r.last;a===null?r.last=r.first=e:(a.next=e,e.prev=a,r.last=e)}function gn(e,r,a){var s=Se;if(ee)for(;s!==null&&(s.f&ea)!==0;)s=s.parent;s!==null&&(s.f&Ct)!==0&&(e|=Ct);var l={ctx:xt,deps:null,nodes_start:null,nodes_end:null,f:e|At|Gt,first:null,fn:r,last:null,next:null,parent:s,b:s&&s.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(ee&&(l.component_function=hi),a)try{li(l),l.f|=ts}catch(m){throw kt(l),m}else r!==null&&ar(l);var f=l;if(a&&f.deps===null&&f.teardown===null&&f.nodes_start===null&&f.first===f.last&&(f.f&Lr)===0&&(f=f.first,(e&pn)!==0&&(e&kr)!==0&&f!==null&&(f.f|=kr)),f!==null&&(f.parent=s,s!==null&&gd(f,s),Te!==null&&(Te.f&tt)!==0&&(e&ur)===0)){var h=Te;(h.effects??=[]).push(f)}return l}function si(){return Te!==null&&!an}function os(e){const r=gn(es,null,!1);return ct(r,lt),r.teardown=e,r}function Ye(e){md("$effect"),ee&&Kn(e,"name",{value:"$effect"});var r=Se.f,a=!Te&&(r&yn)!==0&&(r&ts)===0;if(a){var s=xt;(s.e??=[]).push(e)}else return ll(e)}function ll(e){return gn(Jo|mf,e,!1)}function _d(e){nn.ensure();const r=gn(ur|Lr,e,!0);return(a={})=>new Promise(s=>{a.outro?Er(r,()=>{kt(r),s(void 0)}):(kt(r),s(void 0))})}function cl(e){return gn(Jo,e,!1)}function bd(e){return gn(_a|Lr,e,!0)}function xa(e,r=0){return gn(es|r,e,!0)}function Tt(e,r=[],a=[],s=[]){rd(s,r,a,l=>{gn(es,()=>e(...l.map(E)),!0)})}function ss(e,r=0){var a=gn(pn|r,e,!0);return ee&&(a.dev_stack=ai),a}function Kt(e){return gn(yn|Lr,e,!0)}function fl(e){var r=e.teardown;if(r!==null){const a=lr,s=Te;cu(!0),Et(null);try{r.call(null)}finally{cu(a),Et(s)}}}function dl(e,r=!1){var a=e.first;for(e.first=e.last=null;a!==null;){const l=a.ac;l!==null&&Ea(()=>{l.abort(br)});var s=a.next;(a.f&ur)!==0?a.parent=null:kt(a,r),a=s}}function wd(e){for(var r=e.first;r!==null;){var a=r.next;(r.f&yn)===0&&kt(r),r=a}}function kt(e,r=!0){var a=!1;(r||(e.f&Nu)!==0)&&e.nodes_start!==null&&e.nodes_end!==null&&(Ed(e.nodes_start,e.nodes_end),a=!0),dl(e,r&&!a),aa(e,0),ct(e,dn);var s=e.transitions;if(s!==null)for(const f of s)f.stop();fl(e);var l=e.parent;l!==null&&l.first!==null&&hl(e),ee&&(e.component_function=null),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=e.ac=null}function Ed(e,r){for(;e!==null;){var a=e===r?null:vi(e);e.remove(),e=a}}function hl(e){var r=e.parent,a=e.prev,s=e.next;a!==null&&(a.next=s),s!==null&&(s.prev=a),r!==null&&(r.first===e&&(r.first=s),r.last===e&&(r.last=a))}function Er(e,r,a=!0){var s=[];us(e,s,!0),vl(s,()=>{a&&kt(e),r&&r()})}function vl(e,r){var a=e.length;if(a>0){var s=()=>--a||r();for(var l of e)l.out(s)}else r()}function us(e,r,a){if((e.f&Ct)===0){if(e.f^=Ct,e.transitions!==null)for(const h of e.transitions)(h.is_global||a)&&r.push(h);for(var s=e.first;s!==null;){var l=s.next,f=(s.f&kr)!==0||(s.f&yn)!==0&&(e.f&pn)!==0;us(s,r,f?a:!1),s=l}}}function ls(e){pl(e,!0)}function pl(e,r){if((e.f&Ct)!==0){e.f^=Ct,(e.f&lt)===0&&(ct(e,At),ar(e));for(var a=e.first;a!==null;){var s=a.next,l=(a.f&kr)!==0||(a.f&yn)!==0;pl(a,l?r:!1),a=s}if(e.transitions!==null)for(const f of e.transitions)(f.is_global||r)&&f.in()}}function yl(e,r){for(var a=e.nodes_start,s=e.nodes_end;a!==null;){var l=a===s?null:vi(a);r.append(a),a=l}}let Mn=!1;function ia(e){Mn=e}let lr=!1;function cu(e){lr=e}let Te=null,an=!1;function Et(e){Te=e}let Se=null;function Wt(e){Se=e}let vn=null;function ml(e){Te!==null&&(vn===null?vn=[e]:vn.push(e))}let ht=null,Ot=0,Mt=null;function xd(e){Mt=e}let gl=1,ui=0,rr=ui;function fu(e){rr=e}function _l(){return++gl}function pi(e){var r=e.f;if((r&At)!==0)return!0;if(r&tt&&(e.f&=~Fn),(r&mn)!==0){var a=e.deps;if(a!==null)for(var s=a.length,l=0;l<s;l++){var f=a[l];if(pi(f)&&nl(f),f.wv>e.wv)return!0}(r&Gt)!==0&&Bt===null&&ct(e,lt)}return!1}function bl(e,r,a=!0){var s=e.reactions;if(s!==null&&!vn?.includes(e))for(var l=0;l<s.length;l++){var f=s[l];(f.f&tt)!==0?bl(f,r,!1):r===f&&(a?ct(f,At):(f.f&lt)!==0&&ct(f,mn),ar(f))}}function Po(e){var r=ht,a=Ot,s=Mt,l=Te,f=vn,h=xt,m=an,y=rr,x=e.f;ht=null,Ot=0,Mt=null,Te=(x&(yn|ur))===0?e:null,vn=null,Dr(e.ctx),an=!1,rr=++ui,e.ac!==null&&(Ea(()=>{e.ac.abort(br)}),e.ac=null);try{e.f|=So;var w=e.fn,A=w(),g=e.deps;if(ht!==null){var D;if(aa(e,Ot),g!==null&&Ot>0)for(g.length=Ot+ht.length,D=0;D<ht.length;D++)g[Ot+D]=ht[D];else e.deps=g=ht;if(Mn&&si()&&(e.f&Gt)!==0)for(D=Ot;D<g.length;D++)(g[D].reactions??=[]).push(e)}else g!==null&&Ot<g.length&&(aa(e,Ot),g.length=Ot);if(Yu()&&Mt!==null&&!an&&g!==null&&(e.f&(tt|mn|At))===0)for(D=0;D<Mt.length;D++)bl(Mt[D],e);return l!==null&&l!==e&&(ui++,Mt!==null&&(s===null?s=Mt:s.push(...Mt))),(e.f&Pn)!==0&&(e.f^=Pn),A}catch(L){return Zu(L)}finally{e.f^=So,ht=r,Ot=a,Mt=s,Te=l,vn=f,Dr(h),an=m,rr=y}}function Td(e,r){let a=r.reactions;if(a!==null){var s=df.call(a,e);if(s!==-1){var l=a.length-1;l===0?a=r.reactions=null:(a[s]=a[l],a.pop())}}a===null&&(r.f&tt)!==0&&(ht===null||!ht.includes(r))&&(ct(r,mn),(r.f&Gt)!==0&&(r.f^=Gt,r.f&=~Fn),Co(r),aa(r,0))}function aa(e,r){var a=e.deps;if(a!==null)for(var s=r;s<a.length;s++)Td(e,a[s])}function li(e){var r=e.f;if((r&dn)===0){ct(e,lt);var a=Se,s=Mn;if(Se=e,Mn=!0,ee){var l=hi;au(e.component_function);var f=ai;ta(e.dev_stack??ai)}try{(r&(pn|yf))!==0?wd(e):dl(e),fl(e);var h=Po(e);e.teardown=typeof h=="function"?h:null,e.wv=gl;var m;ee&&Hf&&(e.f&At)!==0&&e.deps}finally{Mn=s,Se=a,ee&&(au(l),ta(f))}}}async function oa(){await Promise.resolve(),qf()}function E(e){var r=e.f,a=(r&tt)!==0;if(Te!==null&&!an){var s=Se!==null&&(Se.f&dn)!==0;if(!s&&!vn?.includes(e)){var l=Te.deps;if((Te.f&So)!==0)e.rv<ui&&(e.rv=ui,ht===null&&l!==null&&l[Ot]===e?Ot++:ht===null?ht=[e]:ht.includes(e)||ht.push(e));else{(Te.deps??=[]).push(e);var f=e.reactions;f===null?e.reactions=[Te]:f.includes(Te)||f.push(Te)}}}if(ee&&ad.delete(e),lr){if(Rn.has(e))return Rn.get(e);if(a){var h=e,m=h.v;return((h.f&lt)===0&&h.reactions!==null||El(h))&&(m=rs(h)),Rn.set(h,m),m}}else a&&(!Bt?.has(e)||Ie?.is_fork&&!si())&&(h=e,pi(h)&&nl(h),Mn&&si()&&(h.f&Gt)===0&&wl(h));if(Bt?.has(e))return Bt.get(e);if((e.f&Pn)!==0)throw e.v;return e.v}function wl(e){if(e.deps!==null){e.f^=Gt;for(const r of e.deps)(r.reactions??=[]).push(e),(r.f&tt)!==0&&(r.f&Gt)===0&&wl(r)}}function El(e){if(e.v===at)return!0;if(e.deps===null)return!1;for(const r of e.deps)if(Rn.has(r)||(r.f&tt)!==0&&El(r))return!0;return!1}function Kr(e){var r=an;try{return an=!0,e()}finally{an=r}}const kd=-7169;function ct(e,r){e.f=e.f&kd|r}function Dd(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(hn in e)Ro(e);else if(!Array.isArray(e))for(let r in e){const a=e[r];typeof a=="object"&&a&&hn in a&&Ro(a)}}}function Ro(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let s in e)try{Ro(e[s],r)}catch{}const a=$o(e);if(a!==Object.prototype&&a!==Array.prototype&&a!==Map.prototype&&a!==Set.prototype&&a!==Date.prototype){const s=Mu(a);for(let l in s){const f=s[l].get;if(f)try{f.call(e)}catch{}}}}}const Ad=["touchstart","touchmove"];function Sd(e){return Ad.includes(e)}const xl=new Set,Mo=new Set;function Id(e,r,a,s={}){function l(f){if(s.capture||ei.call(r,f),!f.cancelBubble)return Ea(()=>a?.call(this,f))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Nr(()=>{r.addEventListener(e,l,s)}):r.addEventListener(e,l,s),l}function du(e,r,a,s,l){var f={capture:s,passive:l},h=Id(e,r,a,f);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&os(()=>{r.removeEventListener(e,h,f)})}function cr(e){for(var r=0;r<e.length;r++)xl.add(e[r]);for(var a of Mo)a(e)}let hu=null;function ei(e){var r=this,a=r.ownerDocument,s=e.type,l=e.composedPath?.()||[],f=l[0]||e.target;hu=e;var h=0,m=hu===e&&e.__root;if(m){var y=l.indexOf(m);if(y!==-1&&(r===document||r===window)){e.__root=r;return}var x=l.indexOf(r);if(x===-1)return;y<=x&&(h=y)}if(f=l[h]||e.target,f!==r){Kn(e,"currentTarget",{configurable:!0,get(){return f||a}});var w=Te,A=Se;Et(null),Wt(null);try{for(var g,D=[];f!==null;){var L=f.assignedSlot||f.parentNode||f.host||null;try{var M=f["__"+s];M!=null&&(!f.disabled||e.target===f)&&M.call(f,e)}catch(C){g?D.push(C):g=C}if(e.cancelBubble||L===r||L===null)break;f=L}if(g){for(let C of D)queueMicrotask(()=>{throw C});throw g}}finally{e.__root=r,delete e.currentTarget,Et(w),Wt(A)}}}function Od(e){var r=document.createElement("template");return r.innerHTML=e.replaceAll("<!>","<!---->"),r.content}function Lo(e,r){var a=Se;a.nodes_start===null&&(a.nodes_start=e,a.nodes_end=r)}function Me(e,r){var a=(r&Ff)!==0,s=(r&Bf)!==0,l,f=!e.startsWith("<!>");return()=>{l===void 0&&(l=Od(f?e:"<!>"+e),a||(l=ra(l)));var h=s||as?document.importNode(l,!0):l.cloneNode(!0);if(a){var m=ra(h),y=h.lastChild;Lo(m,y)}else Lo(h,h);return h}}function sr(){var e=document.createDocumentFragment(),r=document.createComment(""),a=Bn();return e.append(r,a),Lo(r,a),e}function Ae(e,r){e!==null&&e.before(r)}function Ln(e,r){var a=r==null?"":typeof r=="object"?r+"":r;a!==(e.__t??=e.nodeValue)&&(e.__t=a,e.nodeValue=a+"")}function Cd(e,r){return Pd(e,r)}const _r=new Map;function Pd(e,{target:r,anchor:a,props:s={},events:l,context:f,intro:h=!0}){hd();var m=new Set,y=A=>{for(var g=0;g<A.length;g++){var D=A[g];if(!m.has(D)){m.add(D);var L=Sd(D);r.addEventListener(D,ei,{passive:L});var M=_r.get(D);M===void 0?(document.addEventListener(D,ei,{passive:L}),_r.set(D,1)):_r.set(D,M+1)}}};y(Xo(xl)),Mo.add(y);var x=void 0,w=_d(()=>{var A=a??r.appendChild(Bn());return $f(A,{pending:()=>{}},g=>{if(f){zn({});var D=xt;D.c=f}l&&(s.$$events=l),x=e(g,s)||{},f&&Vn()}),()=>{for(var g of m){r.removeEventListener(g,ei);var D=_r.get(g);--D===0?(document.removeEventListener(g,ei),_r.delete(g)):_r.set(g,D)}Mo.delete(y),A!==a&&A.parentNode?.removeChild(A)}});return Rd.set(x,w),x}let Rd=new WeakMap;class Md{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#u=!0;constructor(r,a=!0){this.anchor=r,this.#u=a}#a=()=>{var r=Ie;if(this.#e.has(r)){var a=this.#e.get(r),s=this.#t.get(a);if(s)ls(s),this.#n.delete(a);else{var l=this.#r.get(a);l&&(this.#t.set(a,l.effect),this.#r.delete(a),l.fragment.lastChild.remove(),this.anchor.before(l.fragment),s=l.effect)}for(const[f,h]of this.#e){if(this.#e.delete(f),f===r)break;const m=this.#r.get(h);m&&(kt(m.effect),this.#r.delete(h))}for(const[f,h]of this.#t){if(f===a||this.#n.has(f))continue;const m=()=>{if(Array.from(this.#e.values()).includes(f)){var x=document.createDocumentFragment();yl(h,x),x.append(Bn()),this.#r.set(f,{effect:h,fragment:x})}else kt(h);this.#n.delete(f),this.#t.delete(f)};this.#u||!s?(this.#n.add(f),Er(h,m,!1)):m()}}};#i=r=>{this.#e.delete(r);const a=Array.from(this.#e.values());for(const[s,l]of this.#r)a.includes(s)||(kt(l.effect),this.#r.delete(s))};ensure(r,a){var s=Ie,l=ul();if(a&&!this.#t.has(r)&&!this.#r.has(r))if(l){var f=document.createDocumentFragment(),h=Bn();f.append(h),this.#r.set(r,{effect:Kt(()=>a(h)),fragment:f})}else this.#t.set(r,Kt(()=>a(this.anchor)));if(this.#e.set(s,r),l){for(const[m,y]of this.#t)m===r?s.skipped_effects.delete(y):s.skipped_effects.add(y);for(const[m,y]of this.#r)m===r?s.skipped_effects.delete(y.effect):s.skipped_effects.add(y.effect);s.oncommit(this.#a),s.ondiscard(this.#i)}else this.#a()}}function ut(e,r,a=!1){var s=new Md(e),l=a?kr:0;function f(h,m){s.ensure(h,m)}ss(()=>{var h=!1;r((m,y=!0)=>{h=!0,f(y,m)}),h||f(!1,null)},l)}function Ld(e,r,a){cl(()=>{var s=Kr(()=>r(e,a?.())||{});if(a&&s?.update){var l=!1,f={};xa(()=>{var h=a();Dd(h),l&&Uu(f,h)&&(f=h,s.update(h))}),l=!0}if(s?.destroy)return()=>s.destroy()})}function Tl(e){var r,a,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var l=e.length;for(r=0;r<l;r++)e[r]&&(a=Tl(e[r]))&&(s&&(s+=" "),s+=a)}else for(a in e)e[a]&&(s&&(s+=" "),s+=a);return s}function Nd(){for(var e,r,a=0,s="",l=arguments.length;a<l;a++)(e=arguments[a])&&(r=Tl(e))&&(s&&(s+=" "),s+=r);return s}function Kd(e){return typeof e=="object"?Nd(e):e??""}function Fd(e,r,a){var s=e==null?"":""+e;return s===""?null:s}function Bd(e,r){return e==null?null:String(e)}function jd(e,r,a,s,l,f){var h=e.__className;if(h!==a||h===void 0){var m=Fd(a);m==null?e.removeAttribute("class"):e.className=m,e.__className=a}return f}function jt(e,r,a,s){var l=e.__style;if(l!==r){var f=Bd(r);f==null?e.removeAttribute("style"):e.style.cssText=f,e.__style=r}return s}const zd=Symbol("is custom element"),Vd=Symbol("is html");function kl(e,r){var a=cs(e);a.value===(a.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function Hd(e,r){var a=cs(e);a.checked!==(a.checked=r??void 0)&&(e.checked=r)}function Ft(e,r,a,s){var l=cs(e);l[r]!==(l[r]=a)&&(r==="loading"&&(e[_f]=a),a==null?e.removeAttribute(r):typeof a!="string"&&Ud(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function cs(e){return e.__attributes??={[zd]:e.nodeName.includes("-"),[Vd]:e.namespaceURI===zf}}var vu=new Map;function Ud(e){var r=e.getAttribute("is")||e.nodeName,a=vu.get(r);if(a)return a;vu.set(r,a=[]);for(var s,l=e,f=Element.prototype;f!==l;){s=Mu(l);for(var h in s)s[h].set&&a.push(h);l=$o(l)}return a}function fs(e,r,a=r){var s=new WeakSet;yd(e,"input",async l=>{ee&&e.type==="checkbox"&&iu();var f=l?e.defaultValue:e.value;if(f=xo(e)?To(f):f,a(f),Ie!==null&&s.add(Ie),await oa(),f!==(f=r())){var h=e.selectionStart,m=e.selectionEnd,y=e.value.length;if(e.value=f??"",m!==null){var x=e.value.length;h===m&&m===y&&x>y?(e.selectionStart=x,e.selectionEnd=x):(e.selectionStart=h,e.selectionEnd=Math.min(m,x))}}}),Kr(r)==null&&e.value&&(a(xo(e)?To(e.value):e.value),Ie!==null&&s.add(Ie)),xa(()=>{ee&&e.type==="checkbox"&&iu();var l=r();if(e===document.activeElement){var f=Zi??Ie;if(s.has(f))return}xo(e)&&l===To(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function xo(e){var r=e.type;return r==="number"||r==="range"}function To(e){return e===""?null:+e}function pu(e,r){return e===r||e?.[hn]===r}function on(e={},r,a,s){return cl(()=>{var l,f;return xa(()=>{l=f,f=[],Kr(()=>{e!==a(...f)&&(r(e,...f),l&&pu(a(...l),e)&&r(null,...l))})}),()=>{Nr(()=>{f&&pu(a(...f),e)&&r(null,...f)})}}),e}function Dl(e,r,a){if(e==null)return r(void 0),Ji;const s=Kr(()=>e.subscribe(r,a));return s.unsubscribe?()=>s.unsubscribe():s}function Wd(e){let r;return Dl(e,a=>r=a)(),r}let Gi=!1,No=Symbol();function sa(e,r,a){const s=a[r]??={store:null,source:rl(void 0),unsubscribe:Ji};if(ee&&(s.source.label=r),s.store!==e&&!(No in a))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=Ji;else{var l=!0;s.unsubscribe=Dl(e,f=>{l?s.source.v=f:P(s.source,f)}),l=!1}return e&&No in a?Wd(e):E(s.source)}function Ko(e,r,a){let s=a[r];return s&&s.store!==e&&(s.unsubscribe(),s.unsubscribe=Ji),e}function ds(){const e={};function r(){os(()=>{for(var a in e)e[a].unsubscribe();Kn(e,No,{enumerable:!1,value:!0})})}return[e,r]}function Gd(e){var r=Gi;try{return Gi=!1,[e(),Gi]}finally{Gi=r}}function $n(e,r,a,s){var l=(a&Nf)!==0,f=(a&Kf)!==0,h=s,m=!0,y=()=>(m&&(m=!1,h=f?Kr(s):s),h),x;if(l){var w=hn in e||gf in e;x=nr(e,r)?.set??(w&&r in e?V=>e[r]=V:void 0)}var A,g=!1;l?[A,g]=Gd(()=>e[r]):A=e[r],A===void 0&&s!==void 0&&(A=y(),x&&(Df(r),x(A)));var D;if(D=()=>{var V=e[r];return V===void 0?y():(m=!0,V)},(a&Lf)===0)return D;if(x){var L=e.$$legacy;return(function(V,Q){return arguments.length>0?((!Q||L||g)&&x(Q?D():V),V):D()})}var M=!1,C=((a&Mf)!==0?wa:tl)(()=>(M=!1,D()));ee&&(C.label=r),l&&E(C);var j=Se;return(function(V,Q){if(arguments.length>0){const X=Q?E(C):l?rn(V):V;return P(C,X),M=!0,h!==void 0&&(h=X),V}return lr&&M||(j.f&dn)!==0?C.v:E(C)})}if(ee){let e=function(r){if(!(r in globalThis)){let a;Object.defineProperty(globalThis,r,{configurable:!0,get:()=>{if(a!==void 0)return a;Af(r)},set:s=>{a=s}})}};var hp=e;e("$state"),e("$effect"),e("$derived"),e("$inspect"),e("$props"),e("$bindable")}const Yd="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Yd);var qd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qi={exports:{}},Qd=Qi.exports,yu;function Xd(){return yu||(yu=1,(function(e,r){(function(a,s){e.exports=s()})(Qd,(function(){var a=function(t,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])},a(t,n)};function s(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(t,n);function i(){this.constructor=t}t.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}var l=function(){return l=Object.assign||function(n){for(var i,o=1,u=arguments.length;o<u;o++){i=arguments[o];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(n[c]=i[c])}return n},l.apply(this,arguments)};function f(t,n,i){for(var o=0,u=n.length,c;o<u;o++)(c||!(o in n))&&(c||(c=Array.prototype.slice.call(n,0,o)),c[o]=n[o]);return t.concat(c||Array.prototype.slice.call(n))}var h=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:qd,m=Object.keys,y=Array.isArray;typeof Promise<"u"&&!h.Promise&&(h.Promise=Promise);function x(t,n){return typeof n!="object"||m(n).forEach(function(i){t[i]=n[i]}),t}var w=Object.getPrototypeOf,A={}.hasOwnProperty;function g(t,n){return A.call(t,n)}function D(t,n){typeof n=="function"&&(n=n(w(t))),(typeof Reflect>"u"?m:Reflect.ownKeys)(n).forEach(function(i){M(t,i,n[i])})}var L=Object.defineProperty;function M(t,n,i,o){L(t,n,x(i&&g(i,"get")&&typeof i.get=="function"?{get:i.get,set:i.set,configurable:!0}:{value:i,configurable:!0,writable:!0},o))}function C(t){return{from:function(n){return t.prototype=Object.create(n.prototype),M(t.prototype,"constructor",t),{extend:D.bind(null,t.prototype)}}}}var j=Object.getOwnPropertyDescriptor;function V(t,n){var i=j(t,n),o;return i||(o=w(t))&&V(o,n)}var Q=[].slice;function X(t,n,i){return Q.call(t,n,i)}function ae(t,n){return n(t)}function se(t){if(!t)throw new Error("Assertion Failed")}function pe(t){h.setImmediate?setImmediate(t):setTimeout(t,0)}function he(t,n){return t.reduce(function(i,o,u){var c=n(o,u);return c&&(i[c[0]]=c[1]),i},{})}function _e(t,n){if(typeof n=="string"&&g(t,n))return t[n];if(!n)return t;if(typeof n!="string"){for(var i=[],o=0,u=n.length;o<u;++o){var c=_e(t,n[o]);i.push(c)}return i}var d=n.indexOf(".");if(d!==-1){var v=t[n.substr(0,d)];return v==null?void 0:_e(v,n.substr(d+1))}}function fe(t,n,i){if(!(!t||n===void 0)&&!("isFrozen"in Object&&Object.isFrozen(t)))if(typeof n!="string"&&"length"in n){se(typeof i!="string"&&"length"in i);for(var o=0,u=n.length;o<u;++o)fe(t,n[o],i[o])}else{var c=n.indexOf(".");if(c!==-1){var d=n.substr(0,c),v=n.substr(c+1);if(v==="")i===void 0?y(t)&&!isNaN(parseInt(d))?t.splice(d,1):delete t[d]:t[d]=i;else{var p=t[d];(!p||!g(t,d))&&(p=t[d]={}),fe(p,v,i)}}else i===void 0?y(t)&&!isNaN(parseInt(n))?t.splice(n,1):delete t[n]:t[n]=i}}function be(t,n){typeof n=="string"?fe(t,n,void 0):"length"in n&&[].map.call(n,function(i){fe(t,i,void 0)})}function ke(t){var n={};for(var i in t)g(t,i)&&(n[i]=t[i]);return n}var je=[].concat;function Qe(t){return je.apply([],t)}var pt="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Qe([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(n){return n+t+"Array"})}))).filter(function(t){return h[t]}),ft=new Set(pt.map(function(t){return h[t]}));function $(t){var n={};for(var i in t)if(g(t,i)){var o=t[i];n[i]=!o||typeof o!="object"||ft.has(o.constructor)?o:$(o)}return n}function De(t){for(var n in t)if(g(t,n))return!1;return!0}var Oe=null;function Ce(t){Oe=new WeakMap;var n=ze(t);return Oe=null,n}function ze(t){if(!t||typeof t!="object")return t;var n=Oe.get(t);if(n)return n;if(y(t)){n=[],Oe.set(t,n);for(var i=0,o=t.length;i<o;++i)n.push(ze(t[i]))}else if(ft.has(t.constructor))n=t;else{var u=w(t);n=u===Object.prototype?{}:Object.create(u),Oe.set(t,n);for(var c in t)g(t,c)&&(n[c]=ze(t[c]))}return n}var Fe={}.toString;function dt(t){return Fe.call(t).slice(8,-1)}var qe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ve=typeof qe=="symbol"?function(t){var n;return t!=null&&(n=t[qe])&&n.apply(t)}:function(){return null};function Le(t,n){var i=t.indexOf(n);return i>=0&&t.splice(i,1),i>=0}var yt={};function mt(t){var n,i,o,u;if(arguments.length===1){if(y(t))return t.slice();if(this===yt&&typeof t=="string")return[t];if(u=Ve(t)){for(i=[];o=u.next(),!o.done;)i.push(o.value);return i}if(t==null)return[t];if(n=t.length,typeof n=="number"){for(i=new Array(n);n--;)i[n]=t[n];return i}return[t]}for(n=arguments.length,i=new Array(n);n--;)i[n]=arguments[n];return i}var _n=typeof Symbol<"u"?function(t){return t[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},fr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],dr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],G=fr.concat(dr),ie={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function J(t,n){this.name=t,this.message=n}C(J).from(Error).extend({toString:function(){return this.name+": "+this.message}});function ce(t,n){return t+". Errors: "+Object.keys(n).map(function(i){return n[i].toString()}).filter(function(i,o,u){return u.indexOf(i)===o}).join(`
`)}function ue(t,n,i,o){this.failures=n,this.failedKeys=o,this.successCount=i,this.message=ce(t,n)}C(ue).from(J);function Re(t,n){this.name="BulkError",this.failures=Object.keys(n).map(function(i){return n[i]}),this.failuresByPos=n,this.message=ce(t,this.failures)}C(Re).from(J);var ye=G.reduce(function(t,n){return t[n]=n+"Error",t},{}),gt=J,U=G.reduce(function(t,n){var i=n+"Error";function o(u,c){this.name=i,u?typeof u=="string"?(this.message="".concat(u).concat(c?`
 `+c:""),this.inner=c||null):typeof u=="object"&&(this.message="".concat(u.name," ").concat(u.message),this.inner=u):(this.message=ie[n]||i,this.inner=null)}return C(o).from(gt),t[n]=o,t},{});U.Syntax=SyntaxError,U.Type=TypeError,U.Range=RangeError;var nt=dr.reduce(function(t,n){return t[n+"Error"]=U[n],t},{});function We(t,n){if(!t||t instanceof J||t instanceof TypeError||t instanceof SyntaxError||!t.name||!nt[t.name])return t;var i=new nt[t.name](n||t.message,t);return"stack"in t&&M(i,"stack",{get:function(){return this.inner.stack}}),i}var bn=G.reduce(function(t,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(t[n+"Error"]=U[n]),t},{});bn.ModifyError=ue,bn.DexieError=J,bn.BulkError=Re;function xe(){}function St(t){return t}function Pa(t,n){return t==null||t===St?n:function(i){return n(t(i))}}function sn(t,n){return function(){t.apply(this,arguments),n.apply(this,arguments)}}function Ra(t,n){return t===xe?n:function(){var i=t.apply(this,arguments);i!==void 0&&(arguments[0]=i);var o=this.onsuccess,u=this.onerror;this.onsuccess=null,this.onerror=null;var c=n.apply(this,arguments);return o&&(this.onsuccess=this.onsuccess?sn(o,this.onsuccess):o),u&&(this.onerror=this.onerror?sn(u,this.onerror):u),c!==void 0?c:i}}function un(t,n){return t===xe?n:function(){t.apply(this,arguments);var i=this.onsuccess,o=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?sn(i,this.onsuccess):i),o&&(this.onerror=this.onerror?sn(o,this.onerror):o)}}function Fr(t,n){return t===xe?n:function(i){var o=t.apply(this,arguments);x(i,o);var u=this.onsuccess,c=this.onerror;this.onsuccess=null,this.onerror=null;var d=n.apply(this,arguments);return u&&(this.onsuccess=this.onsuccess?sn(u,this.onsuccess):u),c&&(this.onerror=this.onerror?sn(c,this.onerror):c),o===void 0?d===void 0?void 0:d:x(o,d)}}function Gl(t,n){return t===xe?n:function(){return n.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function Ma(t,n){return t===xe?n:function(){var i=t.apply(this,arguments);if(i&&typeof i.then=="function"){for(var o=this,u=arguments.length,c=new Array(u);u--;)c[u]=arguments[u];return i.then(function(){return n.apply(o,c)})}return n.apply(this,arguments)}}var Yt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _s(t,n){Yt=t}var Br={},bs=100,La=typeof Promise>"u"?[]:(function(){var t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,w(t),t];var n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,w(n),t]})(),ws=La[0],Es=La[1],Yl=La[2],ql=Es&&Es.then,Hn=ws&&ws.constructor,Na=!!Yl;function Zl(){queueMicrotask(Xl)}var jr=function(t,n){zr.push([t,n]),_i&&(Zl(),_i=!1)},Ka=!0,_i=!0,Un=[],bi=[],Fa=St,wn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:xe,pgp:!1,env:{},finalize:xe},te=wn,zr=[],Wn=0,wi=[];function Y(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var n=this._PSD=te;if(typeof t!="function"){if(t!==Br)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&ja(this,this._value);return}this._state=null,this._value=null,++n.ref,Ts(this,t)}var Ba={get:function(){var t=te,n=ki;function i(o,u){var c=this,d=!t.global&&(t!==te||n!==ki),v=d&&!xn(),p=new Y(function(_,k){za(c,new xs(As(o,t,d,v),As(u,t,d,v),_,k,t))});return this._consoleTask&&(p._consoleTask=this._consoleTask),p}return i.prototype=Br,i},set:function(t){M(this,"then",t&&t.prototype===Br?Ba:{get:function(){return t},set:Ba.set})}};D(Y.prototype,{then:Ba,_then:function(t,n){za(this,new xs(null,null,t,n,te))},catch:function(t){if(arguments.length===1)return this.then(null,t);var n=arguments[0],i=arguments[1];return typeof n=="function"?this.then(null,function(o){return o instanceof n?i(o):Ei(o)}):this.then(null,function(o){return o&&o.name===n?i(o):Ei(o)})},finally:function(t){return this.then(function(n){return Y.resolve(t()).then(function(){return n})},function(n){return Y.resolve(t()).then(function(){return Ei(n)})})},timeout:function(t,n){var i=this;return t<1/0?new Y(function(o,u){var c=setTimeout(function(){return u(new U.Timeout(n))},t);i.then(o,u).finally(clearTimeout.bind(null,c))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&M(Y.prototype,Symbol.toStringTag,"Dexie.Promise"),wn.env=Ds();function xs(t,n,i,o,u){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof n=="function"?n:null,this.resolve=i,this.reject=o,this.psd=u}D(Y,{all:function(){var t=mt.apply(null,arguments).map(Di);return new Y(function(n,i){t.length===0&&n([]);var o=t.length;t.forEach(function(u,c){return Y.resolve(u).then(function(d){t[c]=d,--o||n(t)},i)})})},resolve:function(t){if(t instanceof Y)return t;if(t&&typeof t.then=="function")return new Y(function(i,o){t.then(i,o)});var n=new Y(Br,!0,t);return n},reject:Ei,race:function(){var t=mt.apply(null,arguments).map(Di);return new Y(function(n,i){t.map(function(o){return Y.resolve(o).then(n,i)})})},PSD:{get:function(){return te},set:function(t){return te=t}},totalEchoes:{get:function(){return ki}},newPSD:En,usePSD:Gn,scheduler:{get:function(){return jr},set:function(t){jr=t}},rejectionMapper:{get:function(){return Fa},set:function(t){Fa=t}},follow:function(t,n){return new Y(function(i,o){return En(function(u,c){var d=te;d.unhandleds=[],d.onunhandled=c,d.finalize=sn(function(){var v=this;$l(function(){v.unhandleds.length===0?u():c(v.unhandleds[0])})},d.finalize),t()},n,i,o)})}}),Hn&&(Hn.allSettled&&M(Y,"allSettled",function(){var t=mt.apply(null,arguments).map(Di);return new Y(function(n){t.length===0&&n([]);var i=t.length,o=new Array(i);t.forEach(function(u,c){return Y.resolve(u).then(function(d){return o[c]={status:"fulfilled",value:d}},function(d){return o[c]={status:"rejected",reason:d}}).then(function(){return--i||n(o)})})})}),Hn.any&&typeof AggregateError<"u"&&M(Y,"any",function(){var t=mt.apply(null,arguments).map(Di);return new Y(function(n,i){t.length===0&&i(new AggregateError([]));var o=t.length,u=new Array(o);t.forEach(function(c,d){return Y.resolve(c).then(function(v){return n(v)},function(v){u[d]=v,--o||i(new AggregateError(u))})})})}),Hn.withResolvers&&(Y.withResolvers=Hn.withResolvers));function Ts(t,n){try{n(function(i){if(t._state===null){if(i===t)throw new TypeError("A promise cannot be resolved with itself.");var o=t._lib&&hr();i&&typeof i.then=="function"?Ts(t,function(u,c){i instanceof Y?i._then(u,c):i.then(u,c)}):(t._state=!0,t._value=i,ks(t)),o&&vr()}},ja.bind(null,t))}catch(i){ja(t,i)}}function ja(t,n){if(bi.push(n),t._state===null){var i=t._lib&&hr();n=Fa(n),t._state=!1,t._value=n,Jl(t),ks(t),i&&vr()}}function ks(t){var n=t._listeners;t._listeners=[];for(var i=0,o=n.length;i<o;++i)za(t,n[i]);var u=t._PSD;--u.ref||u.finalize(),Wn===0&&(++Wn,jr(function(){--Wn===0&&Va()},[]))}function za(t,n){if(t._state===null){t._listeners.push(n);return}var i=t._state?n.onFulfilled:n.onRejected;if(i===null)return(t._state?n.resolve:n.reject)(t._value);++n.psd.ref,++Wn,jr(Ql,[i,t,n])}function Ql(t,n,i){try{var o,u=n._value;!n._state&&bi.length&&(bi=[]),o=Yt&&n._consoleTask?n._consoleTask.run(function(){return t(u)}):t(u),!n._state&&bi.indexOf(u)===-1&&ec(n),i.resolve(o)}catch(c){i.reject(c)}finally{--Wn===0&&Va(),--i.psd.ref||i.psd.finalize()}}function Xl(){Gn(wn,function(){hr()&&vr()})}function hr(){var t=Ka;return Ka=!1,_i=!1,t}function vr(){var t,n,i;do for(;zr.length>0;)for(t=zr,zr=[],i=t.length,n=0;n<i;++n){var o=t[n];o[0].apply(null,o[1])}while(zr.length>0);Ka=!0,_i=!0}function Va(){var t=Un;Un=[],t.forEach(function(o){o._PSD.onunhandled.call(null,o._value,o)});for(var n=wi.slice(0),i=n.length;i;)n[--i]()}function $l(t){function n(){t(),wi.splice(wi.indexOf(n),1)}wi.push(n),++Wn,jr(function(){--Wn===0&&Va()},[])}function Jl(t){Un.some(function(n){return n._value===t._value})||Un.push(t)}function ec(t){for(var n=Un.length;n;)if(Un[--n]._value===t._value){Un.splice(n,1);return}}function Ei(t){return new Y(Br,!1,t)}function Ne(t,n){var i=te;return function(){var o=hr(),u=te;try{return Tn(i,!0),t.apply(this,arguments)}catch(c){n&&n(c)}finally{Tn(u,!1),o&&vr()}}}var Xe={awaits:0,echoes:0,id:0},tc=0,xi=[],Ti=0,ki=0,nc=0;function En(t,n,i,o){var u=te,c=Object.create(u);c.parent=u,c.ref=0,c.global=!1,c.id=++nc,wn.env,c.env=Na?{Promise:Y,PromiseProp:{value:Y,configurable:!0,writable:!0},all:Y.all,race:Y.race,allSettled:Y.allSettled,any:Y.any,resolve:Y.resolve,reject:Y.reject}:{},n&&x(c,n),++u.ref,c.finalize=function(){--this.parent.ref||this.parent.finalize()};var d=Gn(c,t,i,o);return c.ref===0&&c.finalize(),d}function pr(){return Xe.id||(Xe.id=++tc),++Xe.awaits,Xe.echoes+=bs,Xe.id}function xn(){return Xe.awaits?(--Xe.awaits===0&&(Xe.id=0),Xe.echoes=Xe.awaits*bs,!0):!1}(""+ql).indexOf("[native code]")===-1&&(pr=xn=xe);function Di(t){return Xe.echoes&&t&&t.constructor===Hn?(pr(),t.then(function(n){return xn(),n},function(n){return xn(),He(n)})):t}function rc(t){++ki,(!Xe.echoes||--Xe.echoes===0)&&(Xe.echoes=Xe.awaits=Xe.id=0),xi.push(te),Tn(t,!0)}function ic(){var t=xi[xi.length-1];xi.pop(),Tn(t,!1)}function Tn(t,n){var i=te;if((n?Xe.echoes&&(!Ti++||t!==te):Ti&&(!--Ti||t!==te))&&queueMicrotask(n?rc.bind(null,t):ic),t!==te&&(te=t,i===wn&&(wn.env=Ds()),Na)){var o=wn.env.Promise,u=t.env;(i.global||t.global)&&(Object.defineProperty(h,"Promise",u.PromiseProp),o.all=u.all,o.race=u.race,o.resolve=u.resolve,o.reject=u.reject,u.allSettled&&(o.allSettled=u.allSettled),u.any&&(o.any=u.any))}}function Ds(){var t=h.Promise;return Na?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject}:{}}function Gn(t,n,i,o,u){var c=te;try{return Tn(t,!0),n(i,o,u)}finally{Tn(c,!1)}}function As(t,n,i,o){return typeof t!="function"?t:function(){var u=te;i&&pr(),Tn(n,!0);try{return t.apply(this,arguments)}finally{Tn(u,!1),o&&queueMicrotask(xn)}}}function Ha(t){Promise===Hn&&Xe.echoes===0?Ti===0?t():enqueueNativeMicroTask(t):setTimeout(t,0)}var He=Y.reject;function Ua(t,n,i,o){if(!t.idbdb||!t._state.openComplete&&!te.letThrough&&!t._vip){if(t._state.openComplete)return He(new U.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return He(new U.DatabaseClosed);t.open().catch(xe)}return t._state.dbReadyPromise.then(function(){return Ua(t,n,i,o)})}else{var u=t._createTransaction(n,i,t._dbSchema);try{u.create(),t._state.PR1398_maxLoop=3}catch(c){return c.name===ye.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return Ua(t,n,i,o)})):He(c)}return u._promise(n,function(c,d){return En(function(){return te.trans=u,o(c,d,u)})}).then(function(c){if(n==="readwrite")try{u.idbtrans.commit()}catch{}return n==="readonly"?c:u._completion.then(function(){return c})})}}var Ss="4.2.1",Yn="",Wa=-1/0,ln="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Is="String expected.",yr=[],Ai="__dbnames",Ga="readonly",Ya="readwrite";function qn(t,n){return t?n?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:t:n}var Os={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Si(t){return typeof t=="string"&&!/\./.test(t)?function(n){return n[t]===void 0&&t in n&&(n=Ce(n),delete n[t]),n}:function(n){return n}}function Cs(){throw U.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function we(t,n){try{var i=Ps(t),o=Ps(n);if(i!==o)return i==="Array"?1:o==="Array"?-1:i==="binary"?1:o==="binary"?-1:i==="string"?1:o==="string"?-1:i==="Date"?1:o!=="Date"?NaN:-1;switch(i){case"number":case"Date":case"string":return t>n?1:t<n?-1:0;case"binary":return oc(Rs(t),Rs(n));case"Array":return ac(t,n)}}catch{}return NaN}function ac(t,n){for(var i=t.length,o=n.length,u=i<o?i:o,c=0;c<u;++c){var d=we(t[c],n[c]);if(d!==0)return d}return i===o?0:i<o?-1:1}function oc(t,n){for(var i=t.length,o=n.length,u=i<o?i:o,c=0;c<u;++c)if(t[c]!==n[c])return t[c]<n[c]?-1:1;return i===o?0:i<o?-1:1}function Ps(t){var n=typeof t;if(n!=="object")return n;if(ArrayBuffer.isView(t))return"binary";var i=dt(t);return i==="ArrayBuffer"?"binary":i}function Rs(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}function Ii(t,n,i){var o=t.schema.yProps;return o?(n&&i.numFailures>0&&(n=n.filter(function(u,c){return!i.failures[c]})),Promise.all(o.map(function(u){var c=u.updatesTable;return n?t.db.table(c).where("k").anyOf(n).delete():t.db.table(c).clear()})).then(function(){return i})):i}var Vr=(function(){function t(n){this["@@propmod"]=n}return t.prototype.execute=function(n){var i,o=this["@@propmod"];if(o.add!==void 0){var u=o.add;if(y(u))return f(f([],y(n)?n:[],!0),u).sort();if(typeof u=="number")return(Number(n)||0)+u;if(typeof u=="bigint")try{return BigInt(n)+u}catch{return BigInt(0)+u}throw new TypeError("Invalid term ".concat(u))}if(o.remove!==void 0){var c=o.remove;if(y(c))return y(n)?n.filter(function(v){return!c.includes(v)}).sort():[];if(typeof c=="number")return Number(n)-c;if(typeof c=="bigint")try{return BigInt(n)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}var d=(i=o.replacePrefix)===null||i===void 0?void 0:i[0];return d&&typeof n=="string"&&n.startsWith(d)?o.replacePrefix[1]+n.substring(d.length):n},t})();function Ms(t,n){for(var i=m(n),o=i.length,u=!1,c=0;c<o;++c){var d=i[c],v=n[d],p=_e(t,d);v instanceof Vr?(fe(t,d,v.execute(p)),u=!0):p!==v&&(fe(t,d,v),u=!0)}return u}var Ls=(function(){function t(){}return t.prototype._trans=function(n,i,o){var u=this._tx||te.trans,c=this.name,d=Yt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(n==="readonly"?"read":"write"," ").concat(this.name));function v(k,b,O){if(!O.schema[c])throw new U.NotFound("Table "+c+" not part of transaction");return i(O.idbtrans,O)}var p=hr();try{var _=u&&u.db._novip===this.db._novip?u===te.trans?u._promise(n,v,o):En(function(){return u._promise(n,v,o)},{trans:u,transless:te.transless||te}):Ua(this.db,n,[this.name],v);return d&&(_._consoleTask=d,_=_.catch(function(k){return console.trace(k),He(k)})),_}finally{p&&vr()}},t.prototype.get=function(n,i){var o=this;return n&&n.constructor===Object?this.where(n).first(i):n==null?He(new U.Type("Invalid argument to Table.get()")):this._trans("readonly",function(u){return o.core.get({trans:u,key:n}).then(function(c){return o.hook.reading.fire(c)})}).then(i)},t.prototype.where=function(n){if(typeof n=="string")return new this.db.WhereClause(this,n);if(y(n))return new this.db.WhereClause(this,"[".concat(n.join("+"),"]"));var i=m(n);if(i.length===1)return this.where(i[0]).equals(n[i[0]]);var o=this.schema.indexes.concat(this.schema.primKey).filter(function(k){if(k.compound&&i.every(function(O){return k.keyPath.indexOf(O)>=0})){for(var b=0;b<i.length;++b)if(i.indexOf(k.keyPath[b])===-1)return!1;return!0}return!1}).sort(function(k,b){return k.keyPath.length-b.keyPath.length})[0];if(o&&this.db._maxKey!==Yn){var u=o.keyPath.slice(0,i.length);return this.where(u).equals(u.map(function(k){return n[k]}))}!o&&Yt&&console.warn("The query ".concat(JSON.stringify(n)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var c=this.schema.idxByName;function d(k,b){return we(k,b)===0}var v=i.reduce(function(k,b){var O=k[0],z=k[1],T=c[b],S=n[b];return[O||T,O||!T?qn(z,T&&T.multi?function(I){var R=_e(I,b);return y(R)&&R.some(function(K){return d(S,K)})}:function(I){return d(S,_e(I,b))}):z]},[null,null]),p=v[0],_=v[1];return p?this.where(p.name).equals(n[p.keyPath]).filter(_):o?this.filter(_):this.where(i).equals("")},t.prototype.filter=function(n){return this.toCollection().and(n)},t.prototype.count=function(n){return this.toCollection().count(n)},t.prototype.offset=function(n){return this.toCollection().offset(n)},t.prototype.limit=function(n){return this.toCollection().limit(n)},t.prototype.each=function(n){return this.toCollection().each(n)},t.prototype.toArray=function(n){return this.toCollection().toArray(n)},t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},t.prototype.orderBy=function(n){return new this.db.Collection(new this.db.WhereClause(this,y(n)?"[".concat(n.join("+"),"]"):n))},t.prototype.reverse=function(){return this.toCollection().reverse()},t.prototype.mapToClass=function(n){var i=this,o=i.db,u=i.name;this.schema.mappedClass=n,n.prototype instanceof Cs&&(n=(function(p){s(_,p);function _(){return p!==null&&p.apply(this,arguments)||this}return Object.defineProperty(_.prototype,"db",{get:function(){return o},enumerable:!1,configurable:!0}),_.prototype.table=function(){return u},_})(n));for(var c=new Set,d=n.prototype;d;d=w(d))Object.getOwnPropertyNames(d).forEach(function(p){return c.add(p)});var v=function(p){if(!p)return p;var _=Object.create(n.prototype);for(var k in p)if(!c.has(k))try{_[k]=p[k]}catch{}return _};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=v,this.hook("reading",v),n},t.prototype.defineClass=function(){function n(i){x(this,i)}return this.mapToClass(n)},t.prototype.add=function(n,i){var o=this,u=this.schema.primKey,c=u.auto,d=u.keyPath,v=n;return d&&c&&(v=Si(d)(n)),this._trans("readwrite",function(p){return o.core.mutate({trans:p,type:"add",keys:i!=null?[i]:null,values:[v]})}).then(function(p){return p.numFailures?Y.reject(p.failures[0]):p.lastResult}).then(function(p){if(d)try{fe(n,d,p)}catch{}return p})},t.prototype.upsert=function(n,i){var o=this,u=this.schema.primKey.keyPath;return this._trans("readwrite",function(c){return o.core.get({trans:c,key:n}).then(function(d){var v=d??{};return Ms(v,i),u&&fe(v,u,n),o.core.mutate({trans:c,type:"put",values:[v],keys:[n],upsert:!0,updates:{keys:[n],changeSpecs:[i]}}).then(function(p){return p.numFailures?Y.reject(p.failures[0]):!!d})})})},t.prototype.update=function(n,i){if(typeof n=="object"&&!y(n)){var o=_e(n,this.schema.primKey.keyPath);return o===void 0?He(new U.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(o).modify(i)}else return this.where(":id").equals(n).modify(i)},t.prototype.put=function(n,i){var o=this,u=this.schema.primKey,c=u.auto,d=u.keyPath,v=n;return d&&c&&(v=Si(d)(n)),this._trans("readwrite",function(p){return o.core.mutate({trans:p,type:"put",values:[v],keys:i!=null?[i]:null})}).then(function(p){return p.numFailures?Y.reject(p.failures[0]):p.lastResult}).then(function(p){if(d)try{fe(n,d,p)}catch{}return p})},t.prototype.delete=function(n){var i=this;return this._trans("readwrite",function(o){return i.core.mutate({trans:o,type:"delete",keys:[n]}).then(function(u){return Ii(i,[n],u)}).then(function(u){return u.numFailures?Y.reject(u.failures[0]):void 0})})},t.prototype.clear=function(){var n=this;return this._trans("readwrite",function(i){return n.core.mutate({trans:i,type:"deleteRange",range:Os}).then(function(o){return Ii(n,null,o)})}).then(function(i){return i.numFailures?Y.reject(i.failures[0]):void 0})},t.prototype.bulkGet=function(n){var i=this;return this._trans("readonly",function(o){return i.core.getMany({keys:n,trans:o}).then(function(u){return u.map(function(c){return i.hook.reading.fire(c)})})})},t.prototype.bulkAdd=function(n,i,o){var u=this,c=Array.isArray(i)?i:void 0;o=o||(c?void 0:i);var d=o?o.allKeys:void 0;return this._trans("readwrite",function(v){var p=u.schema.primKey,_=p.auto,k=p.keyPath;if(k&&c)throw new U.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(c&&c.length!==n.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var b=n.length,O=k&&_?n.map(Si(k)):n;return u.core.mutate({trans:v,type:"add",keys:c,values:O,wantResults:d}).then(function(z){var T=z.numFailures,S=z.results,I=z.lastResult,R=z.failures,K=d?S:I;if(T===0)return K;throw new Re("".concat(u.name,".bulkAdd(): ").concat(T," of ").concat(b," operations failed"),R)})})},t.prototype.bulkPut=function(n,i,o){var u=this,c=Array.isArray(i)?i:void 0;o=o||(c?void 0:i);var d=o?o.allKeys:void 0;return this._trans("readwrite",function(v){var p=u.schema.primKey,_=p.auto,k=p.keyPath;if(k&&c)throw new U.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(c&&c.length!==n.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var b=n.length,O=k&&_?n.map(Si(k)):n;return u.core.mutate({trans:v,type:"put",keys:c,values:O,wantResults:d}).then(function(z){var T=z.numFailures,S=z.results,I=z.lastResult,R=z.failures,K=d?S:I;if(T===0)return K;throw new Re("".concat(u.name,".bulkPut(): ").concat(T," of ").concat(b," operations failed"),R)})})},t.prototype.bulkUpdate=function(n){var i=this,o=this.core,u=n.map(function(v){return v.key}),c=n.map(function(v){return v.changes}),d=[];return this._trans("readwrite",function(v){return o.getMany({trans:v,keys:u,cache:"clone"}).then(function(p){var _=[],k=[];n.forEach(function(O,z){var T=O.key,S=O.changes,I=p[z];if(I){for(var R=0,K=Object.keys(S);R<K.length;R++){var F=K[R],B=S[F];if(F===i.schema.primKey.keyPath){if(we(B,T)!==0)throw new U.Constraint("Cannot update primary key in bulkUpdate()")}else fe(I,F,B)}d.push(z),_.push(T),k.push(I)}});var b=_.length;return o.mutate({trans:v,type:"put",keys:_,values:k,updates:{keys:u,changeSpecs:c}}).then(function(O){var z=O.numFailures,T=O.failures;if(z===0)return b;for(var S=0,I=Object.keys(T);S<I.length;S++){var R=I[S],K=d[Number(R)];if(K!=null){var F=T[R];delete T[R],T[K]=F}}throw new Re("".concat(i.name,".bulkUpdate(): ").concat(z," of ").concat(b," operations failed"),T)})})})},t.prototype.bulkDelete=function(n){var i=this,o=n.length;return this._trans("readwrite",function(u){return i.core.mutate({trans:u,type:"delete",keys:n}).then(function(c){return Ii(i,n,c)})}).then(function(u){var c=u.numFailures,d=u.lastResult,v=u.failures;if(c===0)return d;throw new Re("".concat(i.name,".bulkDelete(): ").concat(c," of ").concat(o," operations failed"),v)})},t})();function Hr(t){var n={},i=function(v,p){if(p){for(var _=arguments.length,k=new Array(_-1);--_;)k[_-1]=arguments[_];return n[v].subscribe.apply(null,k),t}else if(typeof v=="string")return n[v]};i.addEventType=c;for(var o=1,u=arguments.length;o<u;++o)c(arguments[o]);return i;function c(v,p,_){if(typeof v=="object")return d(v);p||(p=Gl),_||(_=xe);var k={subscribers:[],fire:_,subscribe:function(b){k.subscribers.indexOf(b)===-1&&(k.subscribers.push(b),k.fire=p(k.fire,b))},unsubscribe:function(b){k.subscribers=k.subscribers.filter(function(O){return O!==b}),k.fire=k.subscribers.reduce(p,_)}};return n[v]=i[v]=k,k}function d(v){m(v).forEach(function(p){var _=v[p];if(y(_))c(p,v[p][0],v[p][1]);else if(_==="asap")var k=c(p,St,function(){for(var O=arguments.length,z=new Array(O);O--;)z[O]=arguments[O];k.subscribers.forEach(function(T){pe(function(){T.apply(null,z)})})});else throw new U.InvalidArgument("Invalid event config")})}}function Ur(t,n){return C(n).from({prototype:t}),n}function sc(t){return Ur(Ls.prototype,function(i,o,u){this.db=t,this._tx=u,this.name=i,this.schema=o,this.hook=t._allTables[i]?t._allTables[i].hook:Hr(null,{creating:[Ra,xe],reading:[Pa,St],updating:[Fr,xe],deleting:[un,xe]})})}function mr(t,n){return!(t.filter||t.algorithm||t.or)&&(n?t.justLimit:!t.replayFilter)}function qa(t,n){t.filter=qn(t.filter,n)}function Za(t,n,i){var o=t.replayFilter;t.replayFilter=o?function(){return qn(o(),n())}:n,t.justLimit=i&&!o}function uc(t,n){t.isMatch=qn(t.isMatch,n)}function Oi(t,n){if(t.isPrimKey)return n.primaryKey;var i=n.getIndexByKeyPath(t.index);if(!i)throw new U.Schema("KeyPath "+t.index+" on object store "+n.name+" is not indexed");return i}function Ns(t,n,i){var o=Oi(t,n.schema);return n.openCursor({trans:i,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:o,range:t.range}})}function Ci(t,n,i,o){var u=t.replayFilter?qn(t.filter,t.replayFilter()):t.filter;if(t.or){var c={},d=function(v,p,_){if(!u||u(p,_,function(O){return p.stop(O)},function(O){return p.fail(O)})){var k=p.primaryKey,b=""+k;b==="[object ArrayBuffer]"&&(b=""+new Uint8Array(k)),g(c,b)||(c[b]=!0,n(v,p,_))}};return Promise.all([t.or._iterate(d,i),Ks(Ns(t,o,i),t.algorithm,d,!t.keysOnly&&t.valueMapper)])}else return Ks(Ns(t,o,i),qn(t.algorithm,u),n,!t.keysOnly&&t.valueMapper)}function Ks(t,n,i,o){var u=o?function(d,v,p){return i(o(d),v,p)}:i,c=Ne(u);return t.then(function(d){if(d)return d.start(function(){var v=function(){return d.continue()};(!n||n(d,function(p){return v=p},function(p){d.stop(p),v=xe},function(p){d.fail(p),v=xe}))&&c(d.value,d,function(p){return v=p}),v()})})}var lc=(function(){function t(){}return t.prototype._read=function(n,i){var o=this._ctx;return o.error?o.table._trans(null,He.bind(null,o.error)):o.table._trans("readonly",n).then(i)},t.prototype._write=function(n){var i=this._ctx;return i.error?i.table._trans(null,He.bind(null,i.error)):i.table._trans("readwrite",n,"locked")},t.prototype._addAlgorithm=function(n){var i=this._ctx;i.algorithm=qn(i.algorithm,n)},t.prototype._iterate=function(n,i){return Ci(this._ctx,n,i,this._ctx.table.core)},t.prototype.clone=function(n){var i=Object.create(this.constructor.prototype),o=Object.create(this._ctx);return n&&x(o,n),i._ctx=o,i},t.prototype.raw=function(){return this._ctx.valueMapper=null,this},t.prototype.each=function(n){var i=this._ctx;return this._read(function(o){return Ci(i,n,o,i.table.core)})},t.prototype.count=function(n){var i=this;return this._read(function(o){var u=i._ctx,c=u.table.core;if(mr(u,!0))return c.count({trans:o,query:{index:Oi(u,c.schema),range:u.range}}).then(function(v){return Math.min(v,u.limit)});var d=0;return Ci(u,function(){return++d,!1},o,c).then(function(){return d})}).then(n)},t.prototype.sortBy=function(n,i){var o=n.split(".").reverse(),u=o[0],c=o.length-1;function d(_,k){return k?d(_[o[k]],k-1):_[u]}var v=this._ctx.dir==="next"?1:-1;function p(_,k){var b=d(_,c),O=d(k,c);return we(b,O)*v}return this.toArray(function(_){return _.sort(p)}).then(i)},t.prototype.toArray=function(n){var i=this;return this._read(function(o){var u=i._ctx;if(u.dir==="next"&&mr(u,!0)&&u.limit>0){var c=u.valueMapper,d=Oi(u,u.table.core.schema);return u.table.core.query({trans:o,limit:u.limit,values:!0,query:{index:d,range:u.range}}).then(function(p){var _=p.result;return c?_.map(c):_})}else{var v=[];return Ci(u,function(p){return v.push(p)},o,u.table.core).then(function(){return v})}},n)},t.prototype.offset=function(n){var i=this._ctx;return n<=0?this:(i.offset+=n,mr(i)?Za(i,function(){var o=n;return function(u,c){return o===0?!0:o===1?(--o,!1):(c(function(){u.advance(o),o=0}),!1)}}):Za(i,function(){var o=n;return function(){return--o<0}}),this)},t.prototype.limit=function(n){return this._ctx.limit=Math.min(this._ctx.limit,n),Za(this._ctx,function(){var i=n;return function(o,u,c){return--i<=0&&u(c),i>=0}},!0),this},t.prototype.until=function(n,i){return qa(this._ctx,function(o,u,c){return n(o.value)?(u(c),i):!0}),this},t.prototype.first=function(n){return this.limit(1).toArray(function(i){return i[0]}).then(n)},t.prototype.last=function(n){return this.reverse().first(n)},t.prototype.filter=function(n){return qa(this._ctx,function(i){return n(i.value)}),uc(this._ctx,n),this},t.prototype.and=function(n){return this.filter(n)},t.prototype.or=function(n){return new this.db.WhereClause(this._ctx.table,n,this)},t.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},t.prototype.desc=function(){return this.reverse()},t.prototype.eachKey=function(n){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,u){n(u.key,u)})},t.prototype.eachUniqueKey=function(n){return this._ctx.unique="unique",this.eachKey(n)},t.prototype.eachPrimaryKey=function(n){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(o,u){n(u.primaryKey,u)})},t.prototype.keys=function(n){var i=this._ctx;i.keysOnly=!i.isMatch;var o=[];return this.each(function(u,c){o.push(c.key)}).then(function(){return o}).then(n)},t.prototype.primaryKeys=function(n){var i=this._ctx;if(i.dir==="next"&&mr(i,!0)&&i.limit>0)return this._read(function(u){var c=Oi(i,i.table.core.schema);return i.table.core.query({trans:u,values:!1,limit:i.limit,query:{index:c,range:i.range}})}).then(function(u){var c=u.result;return c}).then(n);i.keysOnly=!i.isMatch;var o=[];return this.each(function(u,c){o.push(c.primaryKey)}).then(function(){return o}).then(n)},t.prototype.uniqueKeys=function(n){return this._ctx.unique="unique",this.keys(n)},t.prototype.firstKey=function(n){return this.limit(1).keys(function(i){return i[0]}).then(n)},t.prototype.lastKey=function(n){return this.reverse().firstKey(n)},t.prototype.distinct=function(){var n=this._ctx,i=n.index&&n.table.schema.idxByName[n.index];if(!i||!i.multi)return this;var o={};return qa(this._ctx,function(u){var c=u.primaryKey.toString(),d=g(o,c);return o[c]=!0,!d}),this},t.prototype.modify=function(n){var i=this,o=this._ctx;return this._write(function(u){var c;typeof n=="function"?c=n:c=function(R){return Ms(R,n)};var d=o.table.core,v=d.schema.primaryKey,p=v.outbound,_=v.extractKey,k=200,b=i.db._options.modifyChunkSize;b&&(typeof b=="object"?k=b[d.name]||b["*"]||200:k=b);var O=[],z=0,T=[],S=function(R,K){var F=K.failures,B=K.numFailures;z+=R-B;for(var N=0,H=m(F);N<H.length;N++){var q=H[N];O.push(F[q])}},I=n===Fs;return i.clone().primaryKeys().then(function(R){var K=mr(o)&&o.limit===1/0&&(typeof n!="function"||I)&&{index:o.index,range:o.range},F=function(B){var N=Math.min(k,R.length-B),H=R.slice(B,B+N);return(I?Promise.resolve([]):d.getMany({trans:u,keys:H,cache:"immutable"})).then(function(q){var W=[],re=[],ve=p?[]:null,Z=I?H:[];if(!I)for(var de=0;de<N;++de){var oe=q[de],Ee={value:Ce(oe),primKey:R[B+de]};c.call(Ee,Ee.value,Ee)!==!1&&(Ee.value==null?Z.push(R[B+de]):!p&&we(_(oe),_(Ee.value))!==0?(Z.push(R[B+de]),W.push(Ee.value)):(re.push(Ee.value),p&&ve.push(R[B+de])))}return Promise.resolve(W.length>0&&d.mutate({trans:u,type:"add",values:W}).then(function(ne){for(var Be in ne.failures)Z.splice(parseInt(Be),1);S(W.length,ne)})).then(function(){return(re.length>0||K&&typeof n=="object")&&d.mutate({trans:u,type:"put",keys:ve,values:re,criteria:K,changeSpec:typeof n!="function"&&n,isAdditionalChunk:B>0}).then(function(ne){return S(re.length,ne)})}).then(function(){return(Z.length>0||K&&I)&&d.mutate({trans:u,type:"delete",keys:Z,criteria:K,isAdditionalChunk:B>0}).then(function(ne){return Ii(o.table,Z,ne)}).then(function(ne){return S(Z.length,ne)})}).then(function(){return R.length>B+N&&F(B+k)})})};return F(0).then(function(){if(O.length>0)throw new ue("Error modifying one or more objects",O,z,T);return R.length})})})},t.prototype.delete=function(){var n=this._ctx,i=n.range;return mr(n)&&!n.table.schema.yProps&&(n.isPrimKey||i.type===3)?this._write(function(o){var u=n.table.core.schema.primaryKey,c=i;return n.table.core.count({trans:o,query:{index:u,range:c}}).then(function(d){return n.table.core.mutate({trans:o,type:"deleteRange",range:c}).then(function(v){var p=v.failures,_=v.numFailures;if(_)throw new ue("Could not delete some values",Object.keys(p).map(function(k){return p[k]}),d-_);return d-_})})}):this.modify(Fs)},t})(),Fs=function(t,n){return n.value=null};function cc(t){return Ur(lc.prototype,function(i,o){this.db=t;var u=Os,c=null;if(o)try{u=o()}catch(_){c=_}var d=i._ctx,v=d.table,p=v.hook.reading.fire;this._ctx={table:v,index:d.index,isPrimKey:!d.index||v.schema.primKey.keyPath&&d.index===v.schema.primKey.name,range:u,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:d.or,valueMapper:p!==St?p:null}})}function fc(t,n){return t<n?-1:t===n?0:1}function dc(t,n){return t>n?-1:t===n?0:1}function It(t,n,i){var o=t instanceof js?new t.Collection(t):t;return o._ctx.error=i?new i(n):new TypeError(n),o}function gr(t){return new t.Collection(t,function(){return Bs("")}).limit(0)}function hc(t){return t==="next"?function(n){return n.toUpperCase()}:function(n){return n.toLowerCase()}}function vc(t){return t==="next"?function(n){return n.toLowerCase()}:function(n){return n.toUpperCase()}}function pc(t,n,i,o,u,c){for(var d=Math.min(t.length,o.length),v=-1,p=0;p<d;++p){var _=n[p];if(_!==o[p])return u(t[p],i[p])<0?t.substr(0,p)+i[p]+i.substr(p+1):u(t[p],o[p])<0?t.substr(0,p)+o[p]+i.substr(p+1):v>=0?t.substr(0,v)+n[v]+i.substr(v+1):null;u(t[p],_)<0&&(v=p)}return d<o.length&&c==="next"?t+i.substr(t.length):d<t.length&&c==="prev"?t.substr(0,i.length):v<0?null:t.substr(0,v)+o[v]+i.substr(v+1)}function Pi(t,n,i,o){var u,c,d,v,p,_,k,b=i.length;if(!i.every(function(S){return typeof S=="string"}))return It(t,Is);function O(S){u=hc(S),c=vc(S),d=S==="next"?fc:dc;var I=i.map(function(R){return{lower:c(R),upper:u(R)}}).sort(function(R,K){return d(R.lower,K.lower)});v=I.map(function(R){return R.upper}),p=I.map(function(R){return R.lower}),_=S,k=S==="next"?"":o}O("next");var z=new t.Collection(t,function(){return kn(v[0],p[b-1]+o)});z._ondirectionchange=function(S){O(S)};var T=0;return z._addAlgorithm(function(S,I,R){var K=S.key;if(typeof K!="string")return!1;var F=c(K);if(n(F,p,T))return!0;for(var B=null,N=T;N<b;++N){var H=pc(K,F,v[N],p[N],d,_);H===null&&B===null?T=N+1:(B===null||d(B,H)>0)&&(B=H)}return I(B!==null?function(){S.continue(B+k)}:R),!1}),z}function kn(t,n,i,o){return{type:2,lower:t,upper:n,lowerOpen:i,upperOpen:o}}function Bs(t){return{type:1,lower:t,upper:t}}var js=(function(){function t(){}return Object.defineProperty(t.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),t.prototype.between=function(n,i,o,u){o=o!==!1,u=u===!0;try{return this._cmp(n,i)>0||this._cmp(n,i)===0&&(o||u)&&!(o&&u)?gr(this):new this.Collection(this,function(){return kn(n,i,!o,!u)})}catch{return It(this,ln)}},t.prototype.equals=function(n){return n==null?It(this,ln):new this.Collection(this,function(){return Bs(n)})},t.prototype.above=function(n){return n==null?It(this,ln):new this.Collection(this,function(){return kn(n,void 0,!0)})},t.prototype.aboveOrEqual=function(n){return n==null?It(this,ln):new this.Collection(this,function(){return kn(n,void 0,!1)})},t.prototype.below=function(n){return n==null?It(this,ln):new this.Collection(this,function(){return kn(void 0,n,!1,!0)})},t.prototype.belowOrEqual=function(n){return n==null?It(this,ln):new this.Collection(this,function(){return kn(void 0,n)})},t.prototype.startsWith=function(n){return typeof n!="string"?It(this,Is):this.between(n,n+Yn,!0,!0)},t.prototype.startsWithIgnoreCase=function(n){return n===""?this.startsWith(n):Pi(this,function(i,o){return i.indexOf(o[0])===0},[n],Yn)},t.prototype.equalsIgnoreCase=function(n){return Pi(this,function(i,o){return i===o[0]},[n],"")},t.prototype.anyOfIgnoreCase=function(){var n=mt.apply(yt,arguments);return n.length===0?gr(this):Pi(this,function(i,o){return o.indexOf(i)!==-1},n,"")},t.prototype.startsWithAnyOfIgnoreCase=function(){var n=mt.apply(yt,arguments);return n.length===0?gr(this):Pi(this,function(i,o){return o.some(function(u){return i.indexOf(u)===0})},n,Yn)},t.prototype.anyOf=function(){var n=this,i=mt.apply(yt,arguments),o=this._cmp;try{i.sort(o)}catch{return It(this,ln)}if(i.length===0)return gr(this);var u=new this.Collection(this,function(){return kn(i[0],i[i.length-1])});u._ondirectionchange=function(d){o=d==="next"?n._ascending:n._descending,i.sort(o)};var c=0;return u._addAlgorithm(function(d,v,p){for(var _=d.key;o(_,i[c])>0;)if(++c,c===i.length)return v(p),!1;return o(_,i[c])===0?!0:(v(function(){d.continue(i[c])}),!1)}),u},t.prototype.notEqual=function(n){return this.inAnyRange([[Wa,n],[n,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},t.prototype.noneOf=function(){var n=mt.apply(yt,arguments);if(n.length===0)return new this.Collection(this);try{n.sort(this._ascending)}catch{return It(this,ln)}var i=n.reduce(function(o,u){return o?o.concat([[o[o.length-1][1],u]]):[[Wa,u]]},null);return i.push([n[n.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},t.prototype.inAnyRange=function(n,i){var o=this,u=this._cmp,c=this._ascending,d=this._descending,v=this._min,p=this._max;if(n.length===0)return gr(this);if(!n.every(function(N){return N[0]!==void 0&&N[1]!==void 0&&c(N[0],N[1])<=0}))return It(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",U.InvalidArgument);var _=!i||i.includeLowers!==!1,k=i&&i.includeUppers===!0;function b(N,H){for(var q=0,W=N.length;q<W;++q){var re=N[q];if(u(H[0],re[1])<0&&u(H[1],re[0])>0){re[0]=v(re[0],H[0]),re[1]=p(re[1],H[1]);break}}return q===W&&N.push(H),N}var O=c;function z(N,H){return O(N[0],H[0])}var T;try{T=n.reduce(b,[]),T.sort(z)}catch{return It(this,ln)}var S=0,I=k?function(N){return c(N,T[S][1])>0}:function(N){return c(N,T[S][1])>=0},R=_?function(N){return d(N,T[S][0])>0}:function(N){return d(N,T[S][0])>=0};function K(N){return!I(N)&&!R(N)}var F=I,B=new this.Collection(this,function(){return kn(T[0][0],T[T.length-1][1],!_,!k)});return B._ondirectionchange=function(N){N==="next"?(F=I,O=c):(F=R,O=d),T.sort(z)},B._addAlgorithm(function(N,H,q){for(var W=N.key;F(W);)if(++S,S===T.length)return H(q),!1;return K(W)?!0:(o._cmp(W,T[S][1])===0||o._cmp(W,T[S][0])===0||H(function(){O===c?N.continue(T[S][0]):N.continue(T[S][1])}),!1)}),B},t.prototype.startsWithAnyOf=function(){var n=mt.apply(yt,arguments);return n.every(function(i){return typeof i=="string"})?n.length===0?gr(this):this.inAnyRange(n.map(function(i){return[i,i+Yn]})):It(this,"startsWithAnyOf() only works with strings")},t})();function yc(t){return Ur(js.prototype,function(i,o,u){if(this.db=t,this._ctx={table:i,index:o===":id"?null:o,or:u},this._cmp=this._ascending=we,this._descending=function(c,d){return we(d,c)},this._max=function(c,d){return we(c,d)>0?c:d},this._min=function(c,d){return we(c,d)<0?c:d},this._IDBKeyRange=t._deps.IDBKeyRange,!this._IDBKeyRange)throw new U.MissingAPI})}function qt(t){return Ne(function(n){return Wr(n),t(n.target.error),!1})}function Wr(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}var Gr="storagemutated",Qa="x-storagemutated-1",Dn=Hr(null,Gr),mc=(function(){function t(){}return t.prototype._lock=function(){return se(!te.global),++this._reculock,this._reculock===1&&!te.global&&(te.lockOwnerFor=this),this},t.prototype._unlock=function(){if(se(!te.global),--this._reculock===0)for(te.global||(te.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var n=this._blockedFuncs.shift();try{Gn(n[1],n[0])}catch{}}return this},t.prototype._locked=function(){return this._reculock&&te.lockOwnerFor!==this},t.prototype.create=function(n){var i=this;if(!this.mode)return this;var o=this.db.idbdb,u=this.db._state.dbOpenError;if(se(!this.idbtrans),!n&&!o)switch(u&&u.name){case"DatabaseClosedError":throw new U.DatabaseClosed(u);case"MissingAPIError":throw new U.MissingAPI(u.message,u);default:throw new U.OpenFailed(u)}if(!this.active)throw new U.TransactionInactive;return se(this._completion._state===null),n=this.idbtrans=n||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):o.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),n.onerror=Ne(function(c){Wr(c),i._reject(n.error)}),n.onabort=Ne(function(c){Wr(c),i.active&&i._reject(new U.Abort(n.error)),i.active=!1,i.on("abort").fire(c)}),n.oncomplete=Ne(function(){i.active=!1,i._resolve(),"mutatedParts"in n&&Dn.storagemutated.fire(n.mutatedParts)}),this},t.prototype._promise=function(n,i,o){var u=this;if(n==="readwrite"&&this.mode!=="readwrite")return He(new U.ReadOnly("Transaction is readonly"));if(!this.active)return He(new U.TransactionInactive);if(this._locked())return new Y(function(d,v){u._blockedFuncs.push([function(){u._promise(n,i,o).then(d,v)},te])});if(o)return En(function(){var d=new Y(function(v,p){u._lock();var _=i(v,p,u);_&&_.then&&_.then(v,p)});return d.finally(function(){return u._unlock()}),d._lib=!0,d});var c=new Y(function(d,v){var p=i(d,v,u);p&&p.then&&p.then(d,v)});return c._lib=!0,c},t.prototype._root=function(){return this.parent?this.parent._root():this},t.prototype.waitFor=function(n){var i=this._root(),o=Y.resolve(n);if(i._waitingFor)i._waitingFor=i._waitingFor.then(function(){return o});else{i._waitingFor=o,i._waitingQueue=[];var u=i.idbtrans.objectStore(i.storeNames[0]);(function d(){for(++i._spinCount;i._waitingQueue.length;)i._waitingQueue.shift()();i._waitingFor&&(u.get(-1/0).onsuccess=d)})()}var c=i._waitingFor;return new Y(function(d,v){o.then(function(p){return i._waitingQueue.push(Ne(d.bind(null,p)))},function(p){return i._waitingQueue.push(Ne(v.bind(null,p)))}).finally(function(){i._waitingFor===c&&(i._waitingFor=null)})})},t.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new U.Abort))},t.prototype.table=function(n){var i=this._memoizedTables||(this._memoizedTables={});if(g(i,n))return i[n];var o=this.schema[n];if(!o)throw new U.NotFound("Table "+n+" not part of transaction");var u=new this.db.Table(n,o,this);return u.core=this.db.core.table(n),i[n]=u,u},t})();function gc(t){return Ur(mc.prototype,function(i,o,u,c,d){var v=this;i!=="readonly"&&o.forEach(function(p){var _,k=(_=u[p])===null||_===void 0?void 0:_.yProps;k&&(o=o.concat(k.map(function(b){return b.updatesTable})))}),this.db=t,this.mode=i,this.storeNames=o,this.schema=u,this.chromeTransactionDurability=c,this.idbtrans=null,this.on=Hr(this,"complete","error","abort"),this.parent=d||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Y(function(p,_){v._resolve=p,v._reject=_}),this._completion.then(function(){v.active=!1,v.on.complete.fire()},function(p){var _=v.active;return v.active=!1,v.on.error.fire(p),v.parent?v.parent._reject(p):_&&v.idbtrans&&v.idbtrans.abort(),He(p)})})}function Xa(t,n,i,o,u,c,d,v){return{name:t,keyPath:n,unique:i,multi:o,auto:u,compound:c,src:(i&&!d?"&":"")+(o?"*":"")+(u?"++":"")+zs(n),type:v}}function zs(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function $a(t,n,i){return{name:t,primKey:n,indexes:i,mappedClass:null,idxByName:he(i,function(o){return[o.name,o]})}}function _c(t){return t.length===1?t[0]:t}var Yr=function(t){try{return t.only([[]]),Yr=function(){return[[]]},[[]]}catch{return Yr=function(){return Yn},Yn}};function Ja(t){return t==null?function(){}:typeof t=="string"?bc(t):function(n){return _e(n,t)}}function bc(t){var n=t.split(".");return n.length===1?function(i){return i[t]}:function(i){return _e(i,t)}}function Vs(t){return[].slice.call(t)}var wc=0;function qr(t){return t==null?":id":typeof t=="string"?t:"[".concat(t.join("+"),"]")}function Ec(t,n,i){function o(b,O){var z=Vs(b.objectStoreNames);return{schema:{name:b.name,tables:z.map(function(T){return O.objectStore(T)}).map(function(T){var S=T.keyPath,I=T.autoIncrement,R=y(S),K=S==null,F={},B={name:T.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:K,compound:R,keyPath:S,autoIncrement:I,unique:!0,extractKey:Ja(S)},indexes:Vs(T.indexNames).map(function(N){return T.index(N)}).map(function(N){var H=N.name,q=N.unique,W=N.multiEntry,re=N.keyPath,ve=y(re),Z={name:H,compound:ve,keyPath:re,unique:q,multiEntry:W,extractKey:Ja(re)};return F[qr(re)]=Z,Z}),getIndexByKeyPath:function(N){return F[qr(N)]}};return F[":id"]=B.primaryKey,S!=null&&(F[qr(S)]=B.primaryKey),B})},hasGetAll:z.length>0&&"getAll"in O.objectStore(z[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function u(b){if(b.type===3)return null;if(b.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var O=b.lower,z=b.upper,T=b.lowerOpen,S=b.upperOpen,I=O===void 0?z===void 0?null:n.upperBound(z,!!S):z===void 0?n.lowerBound(O,!!T):n.bound(O,z,!!T,!!S);return I}function c(b){var O=b.name;function z(I){var R=I.trans,K=I.type,F=I.keys,B=I.values,N=I.range;return new Promise(function(H,q){H=Ne(H);var W=R.objectStore(O),re=W.keyPath==null,ve=K==="put"||K==="add";if(!ve&&K!=="delete"&&K!=="deleteRange")throw new Error("Invalid operation type: "+K);var Z=(F||B||{length:1}).length;if(F&&B&&F.length!==B.length)throw new Error("Given keys array must have same length as given values array.");if(Z===0)return H({numFailures:0,failures:{},results:[],lastResult:void 0});var de,oe=[],Ee=[],ne=0,Be=function(Qt){++ne,Wr(Qt)};if(K==="deleteRange"){if(N.type===4)return H({numFailures:ne,failures:Ee,results:[],lastResult:void 0});N.type===3?oe.push(de=W.clear()):oe.push(de=W.delete(u(N)))}else{var it=ve?re?[B,F]:[B,null]:[F,null],Zt=it[0],_t=it[1];if(ve)for(var Rt=0;Rt<Z;++Rt)oe.push(de=_t&&_t[Rt]!==void 0?W[K](Zt[Rt],_t[Rt]):W[K](Zt[Rt])),de.onerror=Be;else for(var Rt=0;Rt<Z;++Rt)oe.push(de=W[K](Zt[Rt])),de.onerror=Be}var In=function(Qt){var Xr=Qt.target.result;oe.forEach(function(Vt,Ui){return Vt.error!=null&&(Ee[Ui]=Vt.error)}),H({numFailures:ne,failures:Ee,results:K==="delete"?F:oe.map(function(Vt){return Vt.result}),lastResult:Xr})};de.onerror=function(Qt){Be(Qt),In(Qt)},de.onsuccess=In})}function T(I){var R=I.trans,K=I.values,F=I.query,B=I.reverse,N=I.unique;return new Promise(function(H,q){H=Ne(H);var W=F.index,re=F.range,ve=R.objectStore(O),Z=W.isPrimaryKey?ve:ve.index(W.name),de=B?N?"prevunique":"prev":N?"nextunique":"next",oe=K||!("openKeyCursor"in Z)?Z.openCursor(u(re),de):Z.openKeyCursor(u(re),de);oe.onerror=qt(q),oe.onsuccess=Ne(function(Ee){var ne=oe.result;if(!ne){H(null);return}ne.___id=++wc,ne.done=!1;var Be=ne.continue.bind(ne),it=ne.continuePrimaryKey;it&&(it=it.bind(ne));var Zt=ne.advance.bind(ne),_t=function(){throw new Error("Cursor not started")},Rt=function(){throw new Error("Cursor not stopped")};ne.trans=R,ne.stop=ne.continue=ne.continuePrimaryKey=ne.advance=_t,ne.fail=Ne(q),ne.next=function(){var In=this,Qt=1;return this.start(function(){return Qt--?In.continue():In.stop()}).then(function(){return In})},ne.start=function(In){var Qt=new Promise(function(Vt,Ui){Vt=Ne(Vt),oe.onerror=qt(Ui),ne.fail=Ui,ne.stop=function(cf){ne.stop=ne.continue=ne.continuePrimaryKey=ne.advance=Rt,Vt(cf)}}),Xr=function(){if(oe.result)try{In()}catch(Vt){ne.fail(Vt)}else ne.done=!0,ne.start=function(){throw new Error("Cursor behind last entry")},ne.stop()};return oe.onsuccess=Ne(function(Vt){oe.onsuccess=Xr,Xr()}),ne.continue=Be,ne.continuePrimaryKey=it,ne.advance=Zt,Xr(),Qt},H(ne)},q)})}function S(I){return function(R){return new Promise(function(K,F){K=Ne(K);var B=R.trans,N=R.values,H=R.limit,q=R.query,W=H===1/0?void 0:H,re=q.index,ve=q.range,Z=B.objectStore(O),de=re.isPrimaryKey?Z:Z.index(re.name),oe=u(ve);if(H===0)return K({result:[]});if(I){var Ee=N?de.getAll(oe,W):de.getAllKeys(oe,W);Ee.onsuccess=function(Zt){return K({result:Zt.target.result})},Ee.onerror=qt(F)}else{var ne=0,Be=N||!("openKeyCursor"in de)?de.openCursor(oe):de.openKeyCursor(oe),it=[];Be.onsuccess=function(Zt){var _t=Be.result;if(!_t)return K({result:it});if(it.push(N?_t.value:_t.primaryKey),++ne===H)return K({result:it});_t.continue()},Be.onerror=qt(F)}})}}return{name:O,schema:b,mutate:z,getMany:function(I){var R=I.trans,K=I.keys;return new Promise(function(F,B){F=Ne(F);for(var N=R.objectStore(O),H=K.length,q=new Array(H),W=0,re=0,ve,Z=function(ne){var Be=ne.target;(q[Be._pos]=Be.result)!=null,++re===W&&F(q)},de=qt(B),oe=0;oe<H;++oe){var Ee=K[oe];Ee!=null&&(ve=N.get(K[oe]),ve._pos=oe,ve.onsuccess=Z,ve.onerror=de,++W)}W===0&&F(q)})},get:function(I){var R=I.trans,K=I.key;return new Promise(function(F,B){F=Ne(F);var N=R.objectStore(O),H=N.get(K);H.onsuccess=function(q){return F(q.target.result)},H.onerror=qt(B)})},query:S(p),openCursor:T,count:function(I){var R=I.query,K=I.trans,F=R.index,B=R.range;return new Promise(function(N,H){var q=K.objectStore(O),W=F.isPrimaryKey?q:q.index(F.name),re=u(B),ve=re?W.count(re):W.count();ve.onsuccess=Ne(function(Z){return N(Z.target.result)}),ve.onerror=qt(H)})}}}var d=o(t,i),v=d.schema,p=d.hasGetAll,_=v.tables.map(function(b){return c(b)}),k={};return _.forEach(function(b){return k[b.name]=b}),{stack:"dbcore",transaction:t.transaction.bind(t),table:function(b){var O=k[b];if(!O)throw new Error("Table '".concat(b,"' not found"));return k[b]},MIN_KEY:-1/0,MAX_KEY:Yr(n),schema:v}}function xc(t,n){return n.reduce(function(i,o){var u=o.create;return l(l({},i),u(i))},t)}function Tc(t,n,i,o){var u=i.IDBKeyRange;i.indexedDB;var c=xc(Ec(n,u,o),t.dbcore);return{dbcore:c}}function Ri(t,n){var i=n.db,o=Tc(t._middlewares,i,t._deps,n);t.core=o.dbcore,t.tables.forEach(function(u){var c=u.name;t.core.schema.tables.some(function(d){return d.name===c})&&(u.core=t.core.table(c),t[c]instanceof t.Table&&(t[c].core=u.core))})}function Mi(t,n,i,o){i.forEach(function(u){var c=o[u];n.forEach(function(d){var v=V(d,u);(!v||"value"in v&&v.value===void 0)&&(d===t.Transaction.prototype||d instanceof t.Transaction?M(d,u,{get:function(){return this.table(u)},set:function(p){L(this,u,{value:p,writable:!0,configurable:!0,enumerable:!0})}}):d[u]=new t.Table(u,c))})})}function eo(t,n){n.forEach(function(i){for(var o in i)i[o]instanceof t.Table&&delete i[o]})}function kc(t,n){return t._cfg.version-n._cfg.version}function Dc(t,n,i,o){var u=t._dbSchema;i.objectStoreNames.contains("$meta")&&!u.$meta&&(u.$meta=$a("$meta",Us("")[0],[]),t._storeNames.push("$meta"));var c=t._createTransaction("readwrite",t._storeNames,u);c.create(i),c._completion.catch(o);var d=c._reject.bind(c),v=te.transless||te;En(function(){if(te.trans=c,te.transless=v,n===0)m(u).forEach(function(p){no(i,p,u[p].primKey,u[p].indexes)}),Ri(t,i),Y.follow(function(){return t.on.populate.fire(c)}).catch(d);else return Ri(t,i),Sc(t,c,n).then(function(p){return Ic(t,p,c,i)}).catch(d)})}function Ac(t,n){Hs(t._dbSchema,n),n.db.version%10===0&&!n.objectStoreNames.contains("$meta")&&n.db.createObjectStore("$meta").add(Math.ceil(n.db.version/10-1),"version");var i=Ni(t,t.idbdb,n);Ki(t,t._dbSchema,n);for(var o=to(i,t._dbSchema),u=function(_){if(_.change.length||_.recreate)return console.warn("Unable to patch indexes of table ".concat(_.name," because it has changes on the type of index or primary key.")),{value:void 0};var k=n.objectStore(_.name);_.add.forEach(function(b){Yt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(_.name,".").concat(b.src)),Li(k,b)})},c=0,d=o.change;c<d.length;c++){var v=d[c],p=u(v);if(typeof p=="object")return p.value}}function Sc(t,n,i){return n.storeNames.includes("$meta")?n.table("$meta").get("version").then(function(o){return o??i}):Y.resolve(i)}function Ic(t,n,i,o){var u=[],c=t._versions,d=t._dbSchema=Ni(t,t.idbdb,o),v=c.filter(function(_){return _._cfg.version>=n});if(v.length===0)return Y.resolve();v.forEach(function(_){u.push(function(){var k=d,b=_._cfg.dbschema;Ki(t,k,o),Ki(t,b,o),d=t._dbSchema=b;var O=to(k,b);O.add.forEach(function(K){no(o,K[0],K[1].primKey,K[1].indexes)}),O.change.forEach(function(K){if(K.recreate)throw new U.Upgrade("Not yet support for changing primary key");var F=o.objectStore(K.name);K.add.forEach(function(B){return Li(F,B)}),K.change.forEach(function(B){F.deleteIndex(B.name),Li(F,B)}),K.del.forEach(function(B){return F.deleteIndex(B)})});var z=_._cfg.contentUpgrade;if(z&&_._cfg.version>n){Ri(t,o),i._memoizedTables={};var T=ke(b);O.del.forEach(function(K){T[K]=k[K]}),eo(t,[t.Transaction.prototype]),Mi(t,[t.Transaction.prototype],m(T),T),i.schema=T;var S=_n(z);S&&pr();var I,R=Y.follow(function(){if(I=z(i),I&&S){var K=xn.bind(null,null);I.then(K,K)}});return I&&typeof I.then=="function"?Y.resolve(I):R.then(function(){return I})}}),u.push(function(k){var b=_._cfg.dbschema;Oc(b,k),eo(t,[t.Transaction.prototype]),Mi(t,[t.Transaction.prototype],t._storeNames,t._dbSchema),i.schema=t._dbSchema}),u.push(function(k){t.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(t.idbdb.version/10)===_._cfg.version?(t.idbdb.deleteObjectStore("$meta"),delete t._dbSchema.$meta,t._storeNames=t._storeNames.filter(function(b){return b!=="$meta"})):k.objectStore("$meta").put(_._cfg.version,"version"))})});function p(){return u.length?Y.resolve(u.shift()(i.idbtrans)).then(p):Y.resolve()}return p().then(function(){Hs(d,o)})}function to(t,n){var i={del:[],add:[],change:[]},o;for(o in t)n[o]||i.del.push(o);for(o in n){var u=t[o],c=n[o];if(!u)i.add.push([o,c]);else{var d={name:o,def:c,recreate:!1,del:[],add:[],change:[]};if(""+(u.primKey.keyPath||"")!=""+(c.primKey.keyPath||"")||u.primKey.auto!==c.primKey.auto)d.recreate=!0,i.change.push(d);else{var v=u.idxByName,p=c.idxByName,_=void 0;for(_ in v)p[_]||d.del.push(_);for(_ in p){var k=v[_],b=p[_];k?k.src!==b.src&&d.change.push(b):d.add.push(b)}(d.del.length>0||d.add.length>0||d.change.length>0)&&i.change.push(d)}}}return i}function no(t,n,i,o){var u=t.db.createObjectStore(n,i.keyPath?{keyPath:i.keyPath,autoIncrement:i.auto}:{autoIncrement:i.auto});return o.forEach(function(c){return Li(u,c)}),u}function Hs(t,n){m(t).forEach(function(i){n.db.objectStoreNames.contains(i)||(Yt&&console.debug("Dexie: Creating missing table",i),no(n,i,t[i].primKey,t[i].indexes))})}function Oc(t,n){[].slice.call(n.db.objectStoreNames).forEach(function(i){return t[i]==null&&n.db.deleteObjectStore(i)})}function Li(t,n){t.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function Ni(t,n,i){var o={},u=X(n.objectStoreNames,0);return u.forEach(function(c){for(var d=i.objectStore(c),v=d.keyPath,p=Xa(zs(v),v||"",!0,!1,!!d.autoIncrement,v&&typeof v!="string",!0),_=[],k=0;k<d.indexNames.length;++k){var b=d.index(d.indexNames[k]);v=b.keyPath;var O=Xa(b.name,v,!!b.unique,!!b.multiEntry,!1,v&&typeof v!="string",!1);_.push(O)}o[c]=$a(c,p,_)}),o}function Cc(t,n,i){t.verno=n.version/10;var o=t._dbSchema=Ni(t,n,i);t._storeNames=X(n.objectStoreNames,0),Mi(t,[t._allTables],m(o),o)}function Pc(t,n){var i=Ni(t,t.idbdb,n),o=to(i,t._dbSchema);return!(o.add.length||o.change.some(function(u){return u.add.length||u.change.length}))}function Ki(t,n,i){for(var o=i.db.objectStoreNames,u=0;u<o.length;++u){var c=o[u],d=i.objectStore(c);t._hasGetAll="getAll"in d;for(var v=0;v<d.indexNames.length;++v){var p=d.indexNames[v],_=d.index(p).keyPath,k=typeof _=="string"?_:"["+X(_).join("+")+"]";if(n[c]){var b=n[c].idxByName[k];b&&(b.name=p,delete n[c].idxByName[k],n[c].idxByName[p]=b)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}function Us(t){return t.split(",").map(function(n,i){var o,u=n.split(":"),c=(o=u[1])===null||o===void 0?void 0:o.trim();n=u[0].trim();var d=n.replace(/([&*]|\+\+)/g,""),v=/^\[/.test(d)?d.match(/^\[(.*)\]$/)[1].split("+"):d;return Xa(d,v||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),y(v),i===0,c)})}var Rc=(function(){function t(){}return t.prototype._createTableSchema=function(n,i,o){return $a(n,i,o)},t.prototype._parseIndexSyntax=function(n){return Us(n)},t.prototype._parseStoresSpec=function(n,i){var o=this;m(n).forEach(function(u){if(n[u]!==null){var c=o._parseIndexSyntax(n[u]),d=c.shift();if(!d)throw new U.Schema("Invalid schema for table "+u+": "+n[u]);if(d.unique=!0,d.multi)throw new U.Schema("Primary key cannot be multiEntry*");c.forEach(function(p){if(p.auto)throw new U.Schema("Only primary key can be marked as autoIncrement (++)");if(!p.keyPath)throw new U.Schema("Index must have a name and cannot be an empty string")});var v=o._createTableSchema(u,d,c);i[u]=v}})},t.prototype.stores=function(n){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?x(this._cfg.storesSource,n):n;var o=i._versions,u={},c={};return o.forEach(function(d){x(u,d._cfg.storesSource),c=d._cfg.dbschema={},d._parseStoresSpec(u,c)}),i._dbSchema=c,eo(i,[i._allTables,i,i.Transaction.prototype]),Mi(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],m(c),c),i._storeNames=m(c),this},t.prototype.upgrade=function(n){return this._cfg.contentUpgrade=Ma(this._cfg.contentUpgrade||xe,n),this},t})();function Mc(t){return Ur(Rc.prototype,function(i){this.db=t,this._cfg={version:i,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function ro(t,n){var i=t._dbNamesDB;return i||(i=t._dbNamesDB=new cn(Ai,{addons:[],indexedDB:t,IDBKeyRange:n}),i.version(1).stores({dbnames:"name"})),i.table("dbnames")}function io(t){return t&&typeof t.databases=="function"}function Lc(t){var n=t.indexedDB,i=t.IDBKeyRange;return io(n)?Promise.resolve(n.databases()).then(function(o){return o.map(function(u){return u.name}).filter(function(u){return u!==Ai})}):ro(n,i).toCollection().primaryKeys()}function Nc(t,n){var i=t.indexedDB,o=t.IDBKeyRange;!io(i)&&n!==Ai&&ro(i,o).put({name:n}).catch(xe)}function Kc(t,n){var i=t.indexedDB,o=t.IDBKeyRange;!io(i)&&n!==Ai&&ro(i,o).delete(n).catch(xe)}function ao(t){return En(function(){return te.letThrough=!0,t()})}function Fc(){var t=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!t||!indexedDB.databases)return Promise.resolve();var n;return new Promise(function(i){var o=function(){return indexedDB.databases().finally(i)};n=setInterval(o,100),o()}).finally(function(){return clearInterval(n)})}var oo;function so(t){return!("from"in t)}var rt=function(t,n){if(this)x(this,arguments.length?{d:1,from:t,to:arguments.length>1?n:t}:{d:0});else{var i=new rt;return t&&"d"in t&&x(i,t),i}};D(rt.prototype,(oo={add:function(t){return Qr(this,t),this},addKey:function(t){return Zr(this,t,t),this},addKeys:function(t){var n=this;return t.forEach(function(i){return Zr(n,i,i)}),this},hasKey:function(t){var n=Fi(this).next(t).value;return n&&we(n.from,t)<=0&&we(n.to,t)>=0}},oo[qe]=function(){return Fi(this)},oo));function Zr(t,n,i){var o=we(n,i);if(!isNaN(o)){if(o>0)throw RangeError();if(so(t))return x(t,{from:n,to:i,d:1});var u=t.l,c=t.r;if(we(i,t.from)<0)return u?Zr(u,n,i):t.l={from:n,to:i,d:1,l:null,r:null},Gs(t);if(we(n,t.to)>0)return c?Zr(c,n,i):t.r={from:n,to:i,d:1,l:null,r:null},Gs(t);we(n,t.from)<0&&(t.from=n,t.l=null,t.d=c?c.d+1:1),we(i,t.to)>0&&(t.to=i,t.r=null,t.d=t.l?t.l.d+1:1);var d=!t.r;u&&!t.l&&Qr(t,u),c&&d&&Qr(t,c)}}function Qr(t,n){function i(o,u){var c=u.from,d=u.to,v=u.l,p=u.r;Zr(o,c,d),v&&i(o,v),p&&i(o,p)}so(n)||i(t,n)}function Ws(t,n){var i=Fi(n),o=i.next();if(o.done)return!1;for(var u=o.value,c=Fi(t),d=c.next(u.from),v=d.value;!o.done&&!d.done;){if(we(v.from,u.to)<=0&&we(v.to,u.from)>=0)return!0;we(u.from,v.from)<0?u=(o=i.next(v.from)).value:v=(d=c.next(u.from)).value}return!1}function Fi(t){var n=so(t)?null:{s:0,n:t};return{next:function(i){for(var o=arguments.length>0;n;)switch(n.s){case 0:if(n.s=1,o)for(;n.n.l&&we(i,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!o||we(i,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function Gs(t){var n,i,o=(((n=t.r)===null||n===void 0?void 0:n.d)||0)-(((i=t.l)===null||i===void 0?void 0:i.d)||0),u=o>1?"r":o<-1?"l":"";if(u){var c=u==="r"?"l":"r",d=l({},t),v=t[u];t.from=v.from,t.to=v.to,t[u]=v[u],d[u]=v[c],t[c]=d,d.d=Ys(d)}t.d=Ys(t)}function Ys(t){var n=t.r,i=t.l;return(n?i?Math.max(n.d,i.d):n.d:i?i.d:0)+1}function Bi(t,n){return m(n).forEach(function(i){t[i]?Qr(t[i],n[i]):t[i]=$(n[i])}),t}function uo(t,n){return t.all||n.all||Object.keys(t).some(function(i){return n[i]&&Ws(n[i],t[i])})}var Zn={},lo={},co=!1;function ji(t,n){Bi(lo,t),co||(co=!0,setTimeout(function(){co=!1;var i=lo;lo={},fo(i,!1)},0))}function fo(t,n){n===void 0&&(n=!1);var i=new Set;if(t.all)for(var o=0,u=Object.values(Zn);o<u.length;o++){var c=u[o];qs(c,t,i,n)}else for(var d in t){var v=/^idb\:\/\/(.*)\/(.*)\//.exec(d);if(v){var p=v[1],_=v[2],c=Zn["idb://".concat(p,"/").concat(_)];c&&qs(c,t,i,n)}}i.forEach(function(k){return k()})}function qs(t,n,i,o){for(var u=[],c=0,d=Object.entries(t.queries.query);c<d.length;c++){for(var v=d[c],p=v[0],_=v[1],k=[],b=0,O=_;b<O.length;b++){var z=O[b];uo(n,z.obsSet)?z.subscribers.forEach(function(R){return i.add(R)}):o&&k.push(z)}o&&u.push([p,k])}if(o)for(var T=0,S=u;T<S.length;T++){var I=S[T],p=I[0],k=I[1];t.queries.query[p]=k}}function Bc(t){var n=t._state,i=t._deps.indexedDB;if(n.isBeingOpened||t.idbdb)return n.dbReadyPromise.then(function(){return n.dbOpenError?He(n.dbOpenError):t});n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var o=n.openCanceller,u=Math.round(t.verno*10),c=!1;function d(){if(n.openCanceller!==o)throw new U.DatabaseClosed("db.open() was cancelled")}var v=n.dbReadyResolve,p=null,_=!1,k=function(){return new Y(function(b,O){if(d(),!i)throw new U.MissingAPI;var z=t.name,T=n.autoSchema||!u?i.open(z):i.open(z,u);if(!T)throw new U.MissingAPI;T.onerror=qt(O),T.onblocked=Ne(t._fireOnBlocked),T.onupgradeneeded=Ne(function(S){if(p=T.transaction,n.autoSchema&&!t._options.allowEmptyDB){T.onerror=Wr,p.abort(),T.result.close();var I=i.deleteDatabase(z);I.onsuccess=I.onerror=Ne(function(){O(new U.NoSuchDatabase("Database ".concat(z," doesnt exist")))})}else{p.onerror=qt(O);var R=S.oldVersion>Math.pow(2,62)?0:S.oldVersion;_=R<1,t.idbdb=T.result,c&&Ac(t,p),Dc(t,R/10,p,O)}},O),T.onsuccess=Ne(function(){p=null;var S=t.idbdb=T.result,I=X(S.objectStoreNames);if(I.length>0)try{var R=S.transaction(_c(I),"readonly");if(n.autoSchema)Cc(t,S,R);else if(Ki(t,t._dbSchema,R),!Pc(t,R)&&!c)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),S.close(),u=S.version+1,c=!0,b(k());Ri(t,R)}catch{}yr.push(t),S.onversionchange=Ne(function(K){n.vcFired=!0,t.on("versionchange").fire(K)}),S.onclose=Ne(function(){t.close({disableAutoOpen:!1})}),_&&Nc(t._deps,z),b()},O)}).catch(function(b){switch(b?.name){case"UnknownError":if(n.PR1398_maxLoop>0)return n.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),k();break;case"VersionError":if(u>0)return u=0,k();break}return Y.reject(b)})};return Y.race([o,(typeof navigator>"u"?Y.resolve():Fc()).then(k)]).then(function(){return d(),n.onReadyBeingFired=[],Y.resolve(ao(function(){return t.on.ready.fire(t.vip)})).then(function b(){if(n.onReadyBeingFired.length>0){var O=n.onReadyBeingFired.reduce(Ma,xe);return n.onReadyBeingFired=[],Y.resolve(ao(function(){return O(t.vip)})).then(b)}})}).finally(function(){n.openCanceller===o&&(n.onReadyBeingFired=null,n.isBeingOpened=!1)}).catch(function(b){n.dbOpenError=b;try{p&&p.abort()}catch{}return o===n.openCanceller&&t._close(),He(b)}).finally(function(){n.openComplete=!0,v()}).then(function(){if(_){var b={};t.tables.forEach(function(O){O.schema.indexes.forEach(function(z){z.name&&(b["idb://".concat(t.name,"/").concat(O.name,"/").concat(z.name)]=new rt(-1/0,[[[]]]))}),b["idb://".concat(t.name,"/").concat(O.name,"/")]=b["idb://".concat(t.name,"/").concat(O.name,"/:dels")]=new rt(-1/0,[[[]]])}),Dn(Gr).fire(b),fo(b,!0)}return t})}function ho(t){var n=function(d){return t.next(d)},i=function(d){return t.throw(d)},o=c(n),u=c(i);function c(d){return function(v){var p=d(v),_=p.value;return p.done?_:!_||typeof _.then!="function"?y(_)?Promise.all(_).then(o,u):o(_):_.then(o,u)}}return c(n)()}function jc(t,n,i){var o=arguments.length;if(o<2)throw new U.InvalidArgument("Too few arguments");for(var u=new Array(o-1);--o;)u[o-1]=arguments[o];i=u.pop();var c=Qe(u);return[t,c,i]}function Zs(t,n,i,o,u){return Y.resolve().then(function(){var c=te.transless||te,d=t._createTransaction(n,i,t._dbSchema,o);d.explicit=!0;var v={trans:d,transless:c};if(o)d.idbtrans=o.idbtrans;else try{d.create(),d.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(b){return b.name===ye.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t.close({disableAutoOpen:!1}),t.open().then(function(){return Zs(t,n,i,null,u)})):He(b)}var p=_n(u);p&&pr();var _,k=Y.follow(function(){if(_=u.call(d,d),_)if(p){var b=xn.bind(null,null);_.then(b,b)}else typeof _.next=="function"&&typeof _.throw=="function"&&(_=ho(_))},v);return(_&&typeof _.then=="function"?Y.resolve(_).then(function(b){return d.active?b:He(new U.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):k.then(function(){return _})).then(function(b){return o&&d._resolve(),d._completion.then(function(){return b})}).catch(function(b){return d._reject(b),He(b)})})}function zi(t,n,i){for(var o=y(t)?t.slice():[t],u=0;u<i;++u)o.push(n);return o}function zc(t){return l(l({},t),{table:function(n){var i=t.table(n),o=i.schema,u={},c=[];function d(S,I,R){var K=qr(S),F=u[K]=u[K]||[],B=S==null?0:typeof S=="string"?1:S.length,N=I>0,H=l(l({},R),{name:N?"".concat(K,"(virtual-from:").concat(R.name,")"):R.name,lowLevelIndex:R,isVirtual:N,keyTail:I,keyLength:B,extractKey:Ja(S),unique:!N&&R.unique});if(F.push(H),H.isPrimaryKey||c.push(H),B>1){var q=B===2?S[0]:S.slice(0,B-1);d(q,I+1,R)}return F.sort(function(W,re){return W.keyTail-re.keyTail}),H}var v=d(o.primaryKey.keyPath,0,o.primaryKey);u[":id"]=[v];for(var p=0,_=o.indexes;p<_.length;p++){var k=_[p];d(k.keyPath,0,k)}function b(S){var I=u[qr(S)];return I&&I[0]}function O(S,I){return{type:S.type===1?2:S.type,lower:zi(S.lower,S.lowerOpen?t.MAX_KEY:t.MIN_KEY,I),lowerOpen:!0,upper:zi(S.upper,S.upperOpen?t.MIN_KEY:t.MAX_KEY,I),upperOpen:!0}}function z(S){var I=S.query.index;return I.isVirtual?l(l({},S),{query:{index:I.lowLevelIndex,range:O(S.query.range,I.keyTail)}}):S}var T=l(l({},i),{schema:l(l({},o),{primaryKey:v,indexes:c,getIndexByKeyPath:b}),count:function(S){return i.count(z(S))},query:function(S){return i.query(z(S))},openCursor:function(S){var I=S.query.index,R=I.keyTail,K=I.isVirtual,F=I.keyLength;if(!K)return i.openCursor(S);function B(N){function H(W){W!=null?N.continue(zi(W,S.reverse?t.MAX_KEY:t.MIN_KEY,R)):S.unique?N.continue(N.key.slice(0,F).concat(S.reverse?t.MIN_KEY:t.MAX_KEY,R)):N.continue()}var q=Object.create(N,{continue:{value:H},continuePrimaryKey:{value:function(W,re){N.continuePrimaryKey(zi(W,t.MAX_KEY,R),re)}},primaryKey:{get:function(){return N.primaryKey}},key:{get:function(){var W=N.key;return F===1?W[0]:W.slice(0,F)}},value:{get:function(){return N.value}}});return q}return i.openCursor(z(S)).then(function(N){return N&&B(N)})}});return T}})}var Vc={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:zc};function vo(t,n,i,o){return i=i||{},o=o||"",m(t).forEach(function(u){if(!g(n,u))i[o+u]=void 0;else{var c=t[u],d=n[u];if(typeof c=="object"&&typeof d=="object"&&c&&d){var v=dt(c),p=dt(d);v!==p?i[o+u]=n[u]:v==="Object"?vo(c,d,i,o+u+"."):c!==d&&(i[o+u]=n[u])}else c!==d&&(i[o+u]=n[u])}}),m(n).forEach(function(u){g(t,u)||(i[o+u]=n[u])}),i}function po(t,n){return n.type==="delete"?n.keys:n.keys||n.values.map(t.extractKey)}var Hc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return l(l({},t),{table:function(n){var i=t.table(n),o=i.schema.primaryKey,u=l(l({},i),{mutate:function(c){var d=te.trans,v=d.table(n).hook,p=v.deleting,_=v.creating,k=v.updating;switch(c.type){case"add":if(_.fire===xe)break;return d._promise("readwrite",function(){return b(c)},!0);case"put":if(_.fire===xe&&k.fire===xe)break;return d._promise("readwrite",function(){return b(c)},!0);case"delete":if(p.fire===xe)break;return d._promise("readwrite",function(){return b(c)},!0);case"deleteRange":if(p.fire===xe)break;return d._promise("readwrite",function(){return O(c)},!0)}return i.mutate(c);function b(T){var S=te.trans,I=T.keys||po(o,T);if(!I)throw new Error("Keys missing");return T=T.type==="add"||T.type==="put"?l(l({},T),{keys:I}):l({},T),T.type!=="delete"&&(T.values=f([],T.values)),T.keys&&(T.keys=f([],T.keys)),Uc(i,T,I).then(function(R){var K=I.map(function(F,B){var N=R[B],H={onerror:null,onsuccess:null};if(T.type==="delete")p.fire.call(H,F,N,S);else if(T.type==="add"||N===void 0){var q=_.fire.call(H,F,T.values[B],S);F==null&&q!=null&&(F=q,T.keys[B]=F,o.outbound||fe(T.values[B],o.keyPath,F))}else{var W=vo(N,T.values[B]),re=k.fire.call(H,W,F,N,S);if(re){var ve=T.values[B];Object.keys(re).forEach(function(Z){g(ve,Z)?ve[Z]=re[Z]:fe(ve,Z,re[Z])})}}return H});return i.mutate(T).then(function(F){for(var B=F.failures,N=F.results,H=F.numFailures,q=F.lastResult,W=0;W<I.length;++W){var re=N?N[W]:I[W],ve=K[W];re==null?ve.onerror&&ve.onerror(B[W]):ve.onsuccess&&ve.onsuccess(T.type==="put"&&R[W]?T.values[W]:re)}return{failures:B,results:N,numFailures:H,lastResult:q}}).catch(function(F){return K.forEach(function(B){return B.onerror&&B.onerror(F)}),Promise.reject(F)})})}function O(T){return z(T.trans,T.range,1e4)}function z(T,S,I){return i.query({trans:T,values:!1,query:{index:o,range:S},limit:I}).then(function(R){var K=R.result;return b({type:"delete",keys:K,trans:T}).then(function(F){return F.numFailures>0?Promise.reject(F.failures[0]):K.length<I?{failures:[],numFailures:0,lastResult:void 0}:z(T,l(l({},S),{lower:K[K.length-1],lowerOpen:!0}),I)})})}}});return u}})}};function Uc(t,n,i){return n.type==="add"?Promise.resolve([]):t.getMany({trans:n.trans,keys:i,cache:"immutable"})}function Qs(t,n,i){try{if(!n||n.keys.length<t.length)return null;for(var o=[],u=0,c=0;u<n.keys.length&&c<t.length;++u)we(n.keys[u],t[c])===0&&(o.push(i?Ce(n.values[u]):n.values[u]),++c);return o.length===t.length?o:null}catch{return null}}var Wc={stack:"dbcore",level:-1,create:function(t){return{table:function(n){var i=t.table(n);return l(l({},i),{getMany:function(o){if(!o.cache)return i.getMany(o);var u=Qs(o.keys,o.trans._cache,o.cache==="clone");return u?Y.resolve(u):i.getMany(o).then(function(c){return o.trans._cache={keys:o.keys,values:o.cache==="clone"?Ce(c):c},c})},mutate:function(o){return o.type!=="add"&&(o.trans._cache=null),i.mutate(o)}})}}}};function Xs(t,n){return t.trans.mode==="readonly"&&!!t.subscr&&!t.trans.explicit&&t.trans.db._options.cache!=="disabled"&&!n.schema.primaryKey.outbound}function $s(t,n){switch(t){case"query":return n.values&&!n.unique;case"get":return!1;case"getMany":return!1;case"count":return!1;case"openCursor":return!1}}var Gc={stack:"dbcore",level:0,name:"Observability",create:function(t){var n=t.schema.name,i=new rt(t.MIN_KEY,t.MAX_KEY);return l(l({},t),{transaction:function(o,u,c){if(te.subscr&&u!=="readonly")throw new U.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(te.querier));return t.transaction(o,u,c)},table:function(o){var u=t.table(o),c=u.schema,d=c.primaryKey,v=c.indexes,p=d.extractKey,_=d.outbound,k=d.autoIncrement&&v.filter(function(T){return T.compound&&T.keyPath.includes(d.keyPath)}),b=l(l({},u),{mutate:function(T){var S,I,R=T.trans,K=T.mutatedParts||(T.mutatedParts={}),F=function(oe){var Ee="idb://".concat(n,"/").concat(o,"/").concat(oe);return K[Ee]||(K[Ee]=new rt)},B=F(""),N=F(":dels"),H=T.type,q=T.type==="deleteRange"?[T.range]:T.type==="delete"?[T.keys]:T.values.length<50?[po(d,T).filter(function(oe){return oe}),T.values]:[],W=q[0],re=q[1],ve=T.trans._cache;if(y(W)){B.addKeys(W);var Z=H==="delete"||W.length===re.length?Qs(W,ve):null;Z||N.addKeys(W),(Z||re)&&Yc(F,c,Z,re)}else if(W){var de={from:(S=W.lower)!==null&&S!==void 0?S:t.MIN_KEY,to:(I=W.upper)!==null&&I!==void 0?I:t.MAX_KEY};N.add(de),B.add(de)}else B.add(i),N.add(i),c.indexes.forEach(function(oe){return F(oe.name).add(i)});return u.mutate(T).then(function(oe){return W&&(T.type==="add"||T.type==="put")&&(B.addKeys(oe.results),k&&k.forEach(function(Ee){for(var ne=T.values.map(function(_t){return Ee.extractKey(_t)}),Be=Ee.keyPath.findIndex(function(_t){return _t===d.keyPath}),it=0,Zt=oe.results.length;it<Zt;++it)ne[it][Be]=oe.results[it];F(Ee.name).addKeys(ne)})),R.mutatedParts=Bi(R.mutatedParts||{},K),oe})}}),O=function(T){var S,I,R=T.query,K=R.index,F=R.range;return[K,new rt((S=F.lower)!==null&&S!==void 0?S:t.MIN_KEY,(I=F.upper)!==null&&I!==void 0?I:t.MAX_KEY)]},z={get:function(T){return[d,new rt(T.key)]},getMany:function(T){return[d,new rt().addKeys(T.keys)]},count:O,query:O,openCursor:O};return m(z).forEach(function(T){b[T]=function(S){var I=te.subscr,R=!!I,K=Xs(te,u)&&$s(T,S),F=K?S.obsSet={}:I;if(R){var B=function(Z){var de="idb://".concat(n,"/").concat(o,"/").concat(Z);return F[de]||(F[de]=new rt)},N=B(""),H=B(":dels"),q=z[T](S),W=q[0],re=q[1];if(T==="query"&&W.isPrimaryKey&&!S.values?H.add(re):B(W.name||"").add(re),!W.isPrimaryKey)if(T==="count")H.add(i);else{var ve=T==="query"&&_&&S.values&&u.query(l(l({},S),{values:!1}));return u[T].apply(this,arguments).then(function(Z){if(T==="query"){if(_&&S.values)return ve.then(function(ne){var Be=ne.result;return N.addKeys(Be),Z});var de=S.values?Z.result.map(p):Z.result;S.values?N.addKeys(de):H.addKeys(de)}else if(T==="openCursor"){var oe=Z,Ee=S.values;return oe&&Object.create(oe,{key:{get:function(){return H.addKey(oe.primaryKey),oe.key}},primaryKey:{get:function(){var ne=oe.primaryKey;return H.addKey(ne),ne}},value:{get:function(){return Ee&&N.addKey(oe.primaryKey),oe.value}}})}return Z})}}return u[T].apply(this,arguments)}}),b}})}};function Yc(t,n,i,o){function u(c){var d=t(c.name||"");function v(_){return _!=null?c.extractKey(_):null}var p=function(_){return c.multiEntry&&y(_)?_.forEach(function(k){return d.addKey(k)}):d.addKey(_)};(i||o).forEach(function(_,k){var b=i&&v(i[k]),O=o&&v(o[k]);we(b,O)!==0&&(b!=null&&p(b),O!=null&&p(O))})}n.indexes.forEach(u)}function Js(t,n,i){if(i.numFailures===0)return n;if(n.type==="deleteRange")return null;var o=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;if(i.numFailures===o)return null;var u=l({},n);return y(u.keys)&&(u.keys=u.keys.filter(function(c,d){return!(d in i.failures)})),"values"in u&&y(u.values)&&(u.values=u.values.filter(function(c,d){return!(d in i.failures)})),u}function qc(t,n){return n.lower===void 0?!0:n.lowerOpen?we(t,n.lower)>0:we(t,n.lower)>=0}function Zc(t,n){return n.upper===void 0?!0:n.upperOpen?we(t,n.upper)<0:we(t,n.upper)<=0}function yo(t,n){return qc(t,n)&&Zc(t,n)}function eu(t,n,i,o,u,c){if(!i||i.length===0)return t;var d=n.query.index,v=d.multiEntry,p=n.query.range,_=o.schema.primaryKey,k=_.extractKey,b=d.extractKey,O=(d.lowLevelIndex||d).extractKey,z=i.reduce(function(T,S){var I=T,R=[];if(S.type==="add"||S.type==="put")for(var K=new rt,F=S.values.length-1;F>=0;--F){var B=S.values[F],N=k(B);if(!K.hasKey(N)){var H=b(B);(v&&y(H)?H.some(function(Z){return yo(Z,p)}):yo(H,p))&&(K.addKey(N),R.push(B))}}switch(S.type){case"add":{var q=new rt().addKeys(n.values?T.map(function(Z){return k(Z)}):T);I=T.concat(n.values?R.filter(function(Z){var de=k(Z);return q.hasKey(de)?!1:(q.addKey(de),!0)}):R.map(function(Z){return k(Z)}).filter(function(Z){return q.hasKey(Z)?!1:(q.addKey(Z),!0)}));break}case"put":{var W=new rt().addKeys(S.values.map(function(Z){return k(Z)}));I=T.filter(function(Z){return!W.hasKey(n.values?k(Z):Z)}).concat(n.values?R:R.map(function(Z){return k(Z)}));break}case"delete":var re=new rt().addKeys(S.keys);I=T.filter(function(Z){return!re.hasKey(n.values?k(Z):Z)});break;case"deleteRange":var ve=S.range;I=T.filter(function(Z){return!yo(k(Z),ve)});break}return I},t);return z===t?t:(z.sort(function(T,S){return we(O(T),O(S))||we(k(T),k(S))}),n.limit&&n.limit<1/0&&(z.length>n.limit?z.length=n.limit:t.length===n.limit&&z.length<n.limit&&(u.dirty=!0)),c?Object.freeze(z):z)}function tu(t,n){return we(t.lower,n.lower)===0&&we(t.upper,n.upper)===0&&!!t.lowerOpen==!!n.lowerOpen&&!!t.upperOpen==!!n.upperOpen}function Qc(t,n,i,o){if(t===void 0)return n!==void 0?-1:0;if(n===void 0)return 1;var u=we(t,n);if(u===0){if(i&&o)return 0;if(i)return 1;if(o)return-1}return u}function Xc(t,n,i,o){if(t===void 0)return n!==void 0?1:0;if(n===void 0)return-1;var u=we(t,n);if(u===0){if(i&&o)return 0;if(i)return-1;if(o)return 1}return u}function $c(t,n){return Qc(t.lower,n.lower,t.lowerOpen,n.lowerOpen)<=0&&Xc(t.upper,n.upper,t.upperOpen,n.upperOpen)>=0}function Jc(t,n,i,o){var u=Zn["idb://".concat(t,"/").concat(n)];if(!u)return[];var c=u.queries[i];if(!c)return[null,!1,u,null];var d=o.query?o.query.index.name:null,v=c[d||""];if(!v)return[null,!1,u,null];switch(i){case"query":var p=v.find(function(b){return b.req.limit===o.limit&&b.req.values===o.values&&tu(b.req.query.range,o.query.range)});if(p)return[p,!0,u,v];var _=v.find(function(b){var O="limit"in b.req?b.req.limit:1/0;return O>=o.limit&&(o.values?b.req.values:!0)&&$c(b.req.query.range,o.query.range)});return[_,!1,u,v];case"count":var k=v.find(function(b){return tu(b.req.query.range,o.query.range)});return[k,!!k,u,v]}}function ef(t,n,i,o){t.subscribers.add(i),o.addEventListener("abort",function(){t.subscribers.delete(i),t.subscribers.size===0&&tf(t,n)})}function tf(t,n){setTimeout(function(){t.subscribers.size===0&&Le(n,t)},3e3)}var nf={stack:"dbcore",level:0,name:"Cache",create:function(t){var n=t.schema.name,i=l(l({},t),{transaction:function(o,u,c){var d=t.transaction(o,u,c);if(u==="readwrite"){var v=new AbortController,p=v.signal,_=function(k){return function(){if(v.abort(),u==="readwrite"){for(var b=new Set,O=0,z=o;O<z.length;O++){var T=z[O],S=Zn["idb://".concat(n,"/").concat(T)];if(S){var I=t.table(T),R=S.optimisticOps.filter(function(Ee){return Ee.trans===d});if(d._explicit&&k&&d.mutatedParts)for(var K=0,F=Object.values(S.queries.query);K<F.length;K++)for(var B=F[K],N=0,H=B.slice();N<H.length;N++){var q=H[N];uo(q.obsSet,d.mutatedParts)&&(Le(B,q),q.subscribers.forEach(function(Ee){return b.add(Ee)}))}else if(R.length>0){S.optimisticOps=S.optimisticOps.filter(function(Ee){return Ee.trans!==d});for(var W=0,re=Object.values(S.queries.query);W<re.length;W++)for(var B=re[W],ve=0,Z=B.slice();ve<Z.length;ve++){var q=Z[ve];if(q.res!=null&&d.mutatedParts)if(k&&!q.dirty){var de=Object.isFrozen(q.res),oe=eu(q.res,q.req,R,I,q,de);q.dirty?(Le(B,q),q.subscribers.forEach(function(Be){return b.add(Be)})):oe!==q.res&&(q.res=oe,q.promise=Y.resolve({result:oe}))}else q.dirty&&Le(B,q),q.subscribers.forEach(function(Be){return b.add(Be)})}}}}b.forEach(function(Ee){return Ee()})}}};d.addEventListener("abort",_(!1),{signal:p}),d.addEventListener("error",_(!1),{signal:p}),d.addEventListener("complete",_(!0),{signal:p})}return d},table:function(o){var u=t.table(o),c=u.schema.primaryKey,d=l(l({},u),{mutate:function(v){var p=te.trans;if(c.outbound||p.db._options.cache==="disabled"||p.explicit||p.idbtrans.mode!=="readwrite")return u.mutate(v);var _=Zn["idb://".concat(n,"/").concat(o)];if(!_)return u.mutate(v);var k=u.mutate(v);return(v.type==="add"||v.type==="put")&&(v.values.length>=50||po(c,v).some(function(b){return b==null}))?k.then(function(b){var O=l(l({},v),{values:v.values.map(function(T,S){var I;if(b.failures[S])return T;var R=!((I=c.keyPath)===null||I===void 0)&&I.includes(".")?Ce(T):l({},T);return fe(R,c.keyPath,b.results[S]),R})}),z=Js(_,O,b);_.optimisticOps.push(z),queueMicrotask(function(){return v.mutatedParts&&ji(v.mutatedParts)})}):(_.optimisticOps.push(v),v.mutatedParts&&ji(v.mutatedParts),k.then(function(b){if(b.numFailures>0){Le(_.optimisticOps,v);var O=Js(_,v,b);O&&_.optimisticOps.push(O),v.mutatedParts&&ji(v.mutatedParts)}}),k.catch(function(){Le(_.optimisticOps,v),v.mutatedParts&&ji(v.mutatedParts)})),k},query:function(v){var p;if(!Xs(te,u)||!$s("query",v))return u.query(v);var _=((p=te.trans)===null||p===void 0?void 0:p.db._options.cache)==="immutable",k=te,b=k.requery,O=k.signal,z=Jc(n,o,"query",v),T=z[0],S=z[1],I=z[2],R=z[3];if(T&&S)T.obsSet=v.obsSet;else{var K=u.query(v).then(function(F){var B=F.result;if(T&&(T.res=B),_){for(var N=0,H=B.length;N<H;++N)Object.freeze(B[N]);Object.freeze(B)}else F.result=Ce(B);return F}).catch(function(F){return R&&T&&Le(R,T),Promise.reject(F)});T={obsSet:v.obsSet,promise:K,subscribers:new Set,type:"query",req:v,dirty:!1},R?R.push(T):(R=[T],I||(I=Zn["idb://".concat(n,"/").concat(o)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}}),I.queries.query[v.query.index.name||""]=R)}return ef(T,R,b,O),T.promise.then(function(F){return{result:eu(F.result,v,I?.optimisticOps,u,T,_)}})}});return d}});return i}};function Vi(t,n){return new Proxy(t,{get:function(i,o,u){return o==="db"?n:Reflect.get(i,o,u)}})}var cn=(function(){function t(n,i){var o=this;this._middlewares={},this.verno=0;var u=t.dependencies;this._options=i=l({addons:t.addons,autoOpen:!0,indexedDB:u.indexedDB,IDBKeyRange:u.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange};var c=i.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var d={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:xe,dbReadyPromise:null,cancelOpen:xe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};d.dbReadyPromise=new Y(function(p){d.dbReadyResolve=p}),d.openCanceller=new Y(function(p,_){d.cancelOpen=_}),this._state=d,this.name=n,this.on=Hr(this,"populate","blocked","versionchange","close",{ready:[Ma,xe]}),this.once=function(p,_){var k=function(){for(var b=[],O=0;O<arguments.length;O++)b[O]=arguments[O];o.on(p).unsubscribe(k),_.apply(o,b)};return o.on(p,k)},this.on.ready.subscribe=ae(this.on.ready.subscribe,function(p){return function(_,k){t.vip(function(){var b=o._state;if(b.openComplete)b.dbOpenError||Y.resolve().then(_),k&&p(_);else if(b.onReadyBeingFired)b.onReadyBeingFired.push(_),k&&p(_);else{p(_);var O=o;k||p(function z(){O.on.ready.unsubscribe(_),O.on.ready.unsubscribe(z)})}})}}),this.Collection=cc(this),this.Table=sc(this),this.Transaction=gc(this),this.Version=Mc(this),this.WhereClause=yc(this),this.on("versionchange",function(p){p.newVersion>0?console.warn("Another connection wants to upgrade database '".concat(o.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(o.name,"'. Closing db now to resume the delete request.")),o.close({disableAutoOpen:!1})}),this.on("blocked",function(p){!p.newVersion||p.newVersion<p.oldVersion?console.warn("Dexie.delete('".concat(o.name,"') was blocked")):console.warn("Upgrade '".concat(o.name,"' blocked by other connection holding version ").concat(p.oldVersion/10))}),this._maxKey=Yr(i.IDBKeyRange),this._createTransaction=function(p,_,k,b){return new o.Transaction(p,_,k,o._options.chromeTransactionDurability,b)},this._fireOnBlocked=function(p){o.on("blocked").fire(p),yr.filter(function(_){return _.name===o.name&&_!==o&&!_._state.vcFired}).map(function(_){return _.on("versionchange").fire(p)})},this.use(Wc),this.use(nf),this.use(Gc),this.use(Vc),this.use(Hc);var v=new Proxy(this,{get:function(p,_,k){if(_==="_vip")return!0;if(_==="table")return function(O){return Vi(o.table(O),v)};var b=Reflect.get(p,_,k);return b instanceof Ls?Vi(b,v):_==="tables"?b.map(function(O){return Vi(O,v)}):_==="_createTransaction"?function(){var O=b.apply(this,arguments);return Vi(O,v)}:b}});this.vip=v,c.forEach(function(p){return p(o)})}return t.prototype.version=function(n){if(isNaN(n)||n<.1)throw new U.Type("Given version is not a positive number");if(n=Math.round(n*10)/10,this.idbdb||this._state.isBeingOpened)throw new U.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,n);var i=this._versions,o=i.filter(function(u){return u._cfg.version===n})[0];return o||(o=new this.Version(n),i.push(o),i.sort(kc),o.stores({}),this._state.autoSchema=!1,o)},t.prototype._whenReady=function(n){var i=this;return this.idbdb&&(this._state.openComplete||te.letThrough||this._vip)?n():new Y(function(o,u){if(i._state.openComplete)return u(new U.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen){u(new U.DatabaseClosed);return}i.open().catch(xe)}i._state.dbReadyPromise.then(o,u)}).then(n)},t.prototype.use=function(n){var i=n.stack,o=n.create,u=n.level,c=n.name;c&&this.unuse({stack:i,name:c});var d=this._middlewares[i]||(this._middlewares[i]=[]);return d.push({stack:i,create:o,level:u??10,name:c}),d.sort(function(v,p){return v.level-p.level}),this},t.prototype.unuse=function(n){var i=n.stack,o=n.name,u=n.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(c){return u?c.create!==u:o?c.name!==o:!1})),this},t.prototype.open=function(){var n=this;return Gn(wn,function(){return Bc(n)})},t.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var n=this._state,i=yr.indexOf(this);if(i>=0&&yr.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}n.isBeingOpened||(n.dbReadyPromise=new Y(function(o){n.dbReadyResolve=o}),n.openCanceller=new Y(function(o,u){n.cancelOpen=u}))},t.prototype.close=function(n){var i=n===void 0?{disableAutoOpen:!0}:n,o=i.disableAutoOpen,u=this._state;o?(u.isBeingOpened&&u.cancelOpen(new U.DatabaseClosed),this._close(),u.autoOpen=!1,u.dbOpenError=new U.DatabaseClosed):(this._close(),u.autoOpen=this._options.autoOpen||u.isBeingOpened,u.openComplete=!1,u.dbOpenError=null)},t.prototype.delete=function(n){var i=this;n===void 0&&(n={disableAutoOpen:!0});var o=arguments.length>0&&typeof arguments[0]!="object",u=this._state;return new Y(function(c,d){var v=function(){i.close(n);var p=i._deps.indexedDB.deleteDatabase(i.name);p.onsuccess=Ne(function(){Kc(i._deps,i.name),c()}),p.onerror=qt(d),p.onblocked=i._fireOnBlocked};if(o)throw new U.InvalidArgument("Invalid closeOptions argument to db.delete()");u.isBeingOpened?u.dbReadyPromise.then(v):v()})},t.prototype.backendDB=function(){return this.idbdb},t.prototype.isOpen=function(){return this.idbdb!==null},t.prototype.hasBeenClosed=function(){var n=this._state.dbOpenError;return n&&n.name==="DatabaseClosed"},t.prototype.hasFailed=function(){return this._state.dbOpenError!==null},t.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(t.prototype,"tables",{get:function(){var n=this;return m(this._allTables).map(function(i){return n._allTables[i]})},enumerable:!1,configurable:!0}),t.prototype.transaction=function(){var n=jc.apply(this,arguments);return this._transaction.apply(this,n)},t.prototype._transaction=function(n,i,o){var u=this,c=te.trans;(!c||c.db!==this||n.indexOf("!")!==-1)&&(c=null);var d=n.indexOf("?")!==-1;n=n.replace("!","").replace("?","");var v,p;try{if(p=i.map(function(k){var b=k instanceof u.Table?k.name:k;if(typeof b!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return b}),n=="r"||n===Ga)v=Ga;else if(n=="rw"||n==Ya)v=Ya;else throw new U.InvalidArgument("Invalid transaction mode: "+n);if(c){if(c.mode===Ga&&v===Ya)if(d)c=null;else throw new U.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");c&&p.forEach(function(k){if(c&&c.storeNames.indexOf(k)===-1)if(d)c=null;else throw new U.SubTransaction("Table "+k+" not included in parent transaction.")}),d&&c&&!c.active&&(c=null)}}catch(k){return c?c._promise(null,function(b,O){O(k)}):He(k)}var _=Zs.bind(null,this,v,p,c,o);return c?c._promise(v,_,"lock"):te.trans?Gn(te.transless,function(){return u._whenReady(_)}):this._whenReady(_)},t.prototype.table=function(n){if(!g(this._allTables,n))throw new U.InvalidTable("Table ".concat(n," does not exist"));return this._allTables[n]},t})(),rf=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",af=(function(){function t(n){this._subscribe=n}return t.prototype.subscribe=function(n,i,o){return this._subscribe(!n||typeof n=="function"?{next:n,error:i,complete:o}:n)},t.prototype[rf]=function(){return this},t})(),Hi;try{Hi={indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch{Hi={indexedDB:null,IDBKeyRange:null}}function nu(t){var n=!1,i,o=new af(function(u){var c=_n(t);function d(R){var K=hr();try{c&&pr();var F=En(t,R);return c&&(F=F.finally(xn)),F}finally{K&&vr()}}var v=!1,p,_={},k={},b={get closed(){return v},unsubscribe:function(){v||(v=!0,p&&p.abort(),O&&Dn.storagemutated.unsubscribe(S))}};u.start&&u.start(b);var O=!1,z=function(){return Ha(I)};function T(){return uo(k,_)}var S=function(R){Bi(_,R),T()&&z()},I=function(){if(!(v||!Hi.indexedDB)){_={};var R={};p&&p.abort(),p=new AbortController;var K={subscr:R,signal:p.signal,requery:z,querier:t,trans:null},F=d(K);Promise.resolve(F).then(function(B){n=!0,i=B,!(v||K.signal.aborted)&&(_={},k=R,!De(k)&&!O&&(Dn(Gr,S),O=!0),Ha(function(){return!v&&u.next&&u.next(B)}))},function(B){n=!1,["DatabaseClosedError","AbortError"].includes(B?.name)||v||Ha(function(){v||u.error&&u.error(B)})})}};return setTimeout(z,0),b});return o.hasValue=function(){return n},o.getValue=function(){return i},o}var Qn=cn;D(Qn,l(l({},bn),{delete:function(t){var n=new Qn(t,{addons:[]});return n.delete()},exists:function(t){return new Qn(t,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(t){try{return Lc(Qn.dependencies).then(t)}catch{return He(new U.MissingAPI)}},defineClass:function(){function t(n){x(this,n)}return t},ignoreTransaction:function(t){return te.trans?Gn(te.transless,t):t()},vip:ao,async:function(t){return function(){try{var n=ho(t.apply(this,arguments));return!n||typeof n.then!="function"?Y.resolve(n):n}catch(i){return He(i)}}},spawn:function(t,n,i){try{var o=ho(t.apply(i,n||[]));return!o||typeof o.then!="function"?Y.resolve(o):o}catch(u){return He(u)}},currentTransaction:{get:function(){return te.trans||null}},waitFor:function(t,n){var i=Y.resolve(typeof t=="function"?Qn.ignoreTransaction(t):t).timeout(n||6e4);return te.trans?te.trans.waitFor(i):i},Promise:Y,debug:{get:function(){return Yt},set:function(t){_s(t)}},derive:C,extend:x,props:D,override:ae,Events:Hr,on:Dn,liveQuery:nu,extendObservabilitySet:Bi,getByKeyPath:_e,setByKeyPath:fe,delByKeyPath:be,shallowClone:ke,deepClone:Ce,getObjectDiff:vo,cmp:we,asap:pe,minKey:Wa,addons:[],connections:yr,errnames:ye,dependencies:Hi,cache:Zn,semVer:Ss,version:Ss.split(".").map(function(t){return parseInt(t)}).reduce(function(t,n,i){return t+n/Math.pow(10,i*2)})})),Qn.maxKey=Yr(Qn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Dn(Gr,function(t){if(!An){var n;n=new CustomEvent(Qa,{detail:t}),An=!0,dispatchEvent(n),An=!1}}),addEventListener(Qa,function(t){var n=t.detail;An||mo(n)}));function mo(t){var n=An;try{An=!0,Dn.storagemutated.fire(t),fo(t,!0)}finally{An=n}}var An=!1,Sn,go=function(){};typeof BroadcastChannel<"u"&&(go=function(){Sn=new BroadcastChannel(Qa),Sn.onmessage=function(t){return t.data&&mo(t.data)}},go(),typeof Sn.unref=="function"&&Sn.unref(),Dn(Gr,function(t){An||Sn.postMessage(t)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(t){if(!cn.disableBfCache&&t.persisted){Yt&&console.debug("Dexie: handling persisted pagehide"),Sn?.close();for(var n=0,i=yr;n<i.length;n++){var o=i[n];o.close({disableAutoOpen:!1})}}}),addEventListener("pageshow",function(t){!cn.disableBfCache&&t.persisted&&(Yt&&console.debug("Dexie: handling persisted pageshow"),go(),mo({all:new rt(-1/0,[[]])}))}));function of(t){return new Vr({add:t})}function sf(t){return new Vr({remove:t})}function uf(t,n){return new Vr({replacePrefix:[t,n]})}Y.rejectionMapper=We,_s(Yt);var lf=Object.freeze({__proto__:null,Dexie:cn,liveQuery:nu,Entity:Cs,cmp:we,PropModification:Vr,replacePrefix:uf,add:of,remove:sf,default:cn,RangeSet:rt,mergeRanges:Qr,rangesOverlap:Ws});return l(cn,lf,{default:cn}),cn}))})(Qi)),Qi.exports}var $d=Xd();const Fo=Zd($d),mu=Symbol.for("Dexie"),ua=globalThis[mu]||(globalThis[mu]=Fo);if(Fo.semVer!==ua.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Fo.semVer} and ${ua.semVer}`);const{liveQuery:la,mergeRanges:rp,rangesOverlap:ip,RangeSet:ap,cmp:op,Entity:sp,PropModification:up,replacePrefix:lp,add:cp,remove:fp,DexieYProvider:dp}=ua,Pe=new ua("TaskPlannerDB");Pe.version(1).stores({lists:"++id, name, order",tasks:"++id, text, listId, order",preferences:"key",calendarSyncState:"key"});Pe.version(2).stores({lists:"++id, name, order",tasks:"++id, text, listId, order, status",preferences:"key",calendarSyncState:"key"}).upgrade(e=>e.tasks.toCollection().modify(r=>{r.status="unchecked"}));Pe.version(3).stores({lists:"++id, name, order",tasks:"++id, text, listId, order, status, archivedAt",preferences:"key",calendarSyncState:"key"}).upgrade(e=>e.tasks.where("status").equals("archived").modify(r=>{r.archivedAt=Date.now()}));async function Al(){return await Pe.lists.orderBy("order").toArray()}async function Jd(e){const r=e.trim();if(r==="")throw new Error("List name cannot be empty or whitespace-only");const a=await Pe.lists.orderBy("order").toArray(),l=(a.length>0?Math.max(...a.map(h=>h.order)):-1)+1;return await Pe.lists.add({name:r,order:l})}async function eh(){const e=await Pe.lists.orderBy("order").toArray(),a=(e.length>0?Math.max(...e.map(l=>l.order)):-1)+1;return await Pe.lists.add({name:null,order:a})}async function th(e,r){const a=r.trim();if(a==="")throw new Error("List name cannot be empty");return await Pe.lists.update(e,{name:a})}async function nh(e){return await Pe.tasks.where("listId").equals(e).filter(r=>r.status!=="archived").sortBy("order")}async function rh(){return(await Pe.tasks.where("status").equals("archived").toArray()).sort((r,a)=>{const s=r.archivedAt||0,l=a.archivedAt||0;return l!==s?l-s:(a.order||0)-(r.order||0)})}async function Sl(e,r){let a=e;e===null&&(a=await eh());const s=await Pe.tasks.where("listId").equals(a).filter(y=>y.status!=="archived").sortBy("order"),f=(s.length>0?Math.max(...s.map(y=>y.order)):-1)+1,h=r===""?"":r.trim();return await Pe.tasks.add({text:h,listId:a,order:f,status:"unchecked"})}async function ih(e,r){const a=r===""?"":r.trim();return await Pe.tasks.update(e,{text:a})}async function gu(e,r){if(!["unchecked","checked","archived"].includes(r))throw new Error(`Invalid status: ${r}`);const a={status:r};return r==="archived"?a.archivedAt=Date.now():r!=="archived"&&(a.archivedAt=null),await Pe.tasks.update(e,a)}async function ah(e){const r=await Pe.tasks.get(e);if(!r)throw new Error(`Task ${e} not found`);const a=await Pe.tasks.where("listId").equals(r.listId).filter(f=>f.status!=="archived"&&f.id!==e).sortBy("order"),l=(a.length>0?Math.max(...a.map(f=>f.order)):-1)+1;return await Pe.tasks.update(e,{status:"checked",order:l})}async function oh(e,r){if(!r||r.length===0)return;const a=r.map(h=>h.id);if((await Pe.tasks.bulkGet(a)).filter(h=>!h||h.listId!==e).length>0)throw new Error(`Cannot update order: some tasks do not belong to list ${e}`);const f=r.map((h,m)=>({id:h.id,order:m}));await Pe.transaction("rw",Pe.tasks,async()=>{for(const h of f)await Pe.tasks.update(h.id,{order:h.order})})}async function sh(e){await Pe.tasks.delete(e)}function _u(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,s)}return a}function ca(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?_u(Object(a),!0).forEach(function(s){Or(e,s,a[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_u(Object(a)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(a,s))})}return e}function wr(e){"@babel/helpers - typeof";return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},wr(e)}function Or(e,r,a){return r in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function uh(e,r){if(e==null)return{};var a={},s=Object.keys(e),l,f;for(f=0;f<s.length;f++)l=s[f],!(r.indexOf(l)>=0)&&(a[l]=e[l]);return a}function lh(e,r){if(e==null)return{};var a=uh(e,r),s,l;if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);for(l=0;l<f.length;l++)s=f[l],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}function ch(e,r){return dh(e)||vh(e,r)||hs(e,r)||yh()}function zt(e){return fh(e)||hh(e)||hs(e)||ph()}function fh(e){if(Array.isArray(e))return Bo(e)}function dh(e){if(Array.isArray(e))return e}function hh(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vh(e,r){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var s=[],l=!0,f=!1,h,m;try{for(a=a.call(e);!(l=(h=a.next()).done)&&(s.push(h.value),!(r&&s.length===r));l=!0);}catch(y){f=!0,m=y}finally{try{!l&&a.return!=null&&a.return()}finally{if(f)throw m}}return s}}function hs(e,r){if(e){if(typeof e=="string")return Bo(e,r);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return Bo(e,r)}}function Bo(e,r){(r==null||r>e.length)&&(r=e.length);for(var a=0,s=new Array(r);a<r;a++)s[a]=e[a];return s}function ph(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yi(e,r){var a=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=hs(e))||r){a&&(e=a);var s=0,l=function(){};return{s:l,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var f=!0,h=!1,m;return{s:function(){a=a.call(e)},n:function(){var y=a.next();return f=y.done,y},e:function(y){h=!0,m=y},f:function(){try{!f&&a.return!=null&&a.return()}finally{if(h)throw m}}}}var mh="finalize",gh="consider";function Cr(e,r,a){e.dispatchEvent(new CustomEvent(mh,{detail:{items:r,info:a}}))}function jn(e,r,a){e.dispatchEvent(new CustomEvent(gh,{detail:{items:r,info:a}}))}var Ta="draggedEntered",mi="draggedLeft",ka="draggedOverIndex",vs="draggedLeftDocument",fa={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function _h(e,r,a){e.dispatchEvent(new CustomEvent(Ta,{detail:{indexObj:r,draggedEl:a}}))}function bh(e,r,a){e.dispatchEvent(new CustomEvent(mi,{detail:{draggedEl:r,type:fa.LEFT_FOR_ANOTHER,theOtherDz:a}}))}function wh(e,r){e.dispatchEvent(new CustomEvent(mi,{detail:{draggedEl:r,type:fa.OUTSIDE_OF_ANY}}))}function Eh(e,r,a){e.dispatchEvent(new CustomEvent(ka,{detail:{indexObj:r,draggedEl:a}}))}function xh(e){window.dispatchEvent(new CustomEvent(vs,{detail:{draggedEl:e}}))}var vt={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Ta,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:ka,DRAGGED_LEFT:mi,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},Dt={POINTER:"pointer",KEYBOARD:"keyboard"},Da="isDndShadowItem",Aa="data-is-dnd-shadow-item-internal",Th="data-is-dnd-shadow-item-hint",Il="id:dnd-shadow-placeholder-0000",kh="dnd-action-dragged-el",Ze="id",jo=0;function Ol(){jo++}function Cl(){if(jo===0)throw new Error("Bug! trying to decrement when there are no dropzones");jo--}var ps=typeof window>"u";function zo(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a,s=r?Sh(e):e.getBoundingClientRect(),l=getComputedStyle(e),f=l.transform;if(f){var h,m,y,x;if(f.startsWith("matrix3d("))a=f.slice(9,-1).split(/, /),h=+a[0],m=+a[5],y=+a[12],x=+a[13];else if(f.startsWith("matrix("))a=f.slice(7,-1).split(/, /),h=+a[0],m=+a[3],y=+a[4],x=+a[5];else return s;var w=l.transformOrigin,A=s.x-y-(1-h)*parseFloat(w),g=s.y-x-(1-m)*parseFloat(w.slice(w.indexOf(" ")+1)),D=h?s.width/h:e.offsetWidth,L=m?s.height/m:e.offsetHeight;return{x:A,y:g,width:D,height:L,top:g,right:A+D,bottom:g+L,left:A}}else return s}function Pl(e){var r=zo(e);return{top:r.top+window.scrollY,bottom:r.bottom+window.scrollY,left:r.left+window.scrollX,right:r.right+window.scrollX}}function Rl(e){var r=e.getBoundingClientRect();return{top:r.top+window.scrollY,bottom:r.bottom+window.scrollY,left:r.left+window.scrollX,right:r.right+window.scrollX}}function Ml(e){return{x:(e.left+e.right)/2,y:(e.top+e.bottom)/2}}function Dh(e,r){return Math.sqrt(Math.pow(e.x-r.x,2)+Math.pow(e.y-r.y,2))}function Sa(e,r){return e.y<=r.bottom&&e.y>=r.top&&e.x>=r.left&&e.x<=r.right}function ci(e){return Ml(Rl(e))}function bu(e,r){var a=ci(e),s=Pl(r);return Sa(a,s)}function wu(e,r){var a=ci(e),s=ci(r);return Dh(a,s)}function Ah(e){var r=Rl(e);return r.right<0||r.left>document.documentElement.scrollWidth||r.bottom<0||r.top>document.documentElement.scrollHeight}function Sh(e){for(var r=e.getBoundingClientRect(),a={top:r.top,bottom:r.bottom,left:r.left,right:r.right},s=!1,l=!1,f=e.parentElement;f&&f!==document.body;){var h=window.getComputedStyle(f),m=h.overflowY,y=h.overflowX,x=m==="scroll"||m==="auto",w=y==="scroll"||y==="auto";if(x||w){var A=f.getBoundingClientRect();if(x){var g=Math.max(a.top,A.top),D=Math.min(a.bottom,A.bottom);(g!==a.top||D!==a.bottom)&&(s=!0),a.top=g,a.bottom=D}if(w){var L=Math.max(a.left,A.left),M=Math.min(a.right,A.right);(L!==a.left||M!==a.right)&&(l=!0),a.left=L,a.right=M}}f=f.parentElement}return s||l?{top:a.top,bottom:a.bottom,left:a.left,right:a.right,width:Math.max(0,a.right-a.left),height:Math.max(0,a.bottom-a.top)}:{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}}var xr;function ys(){xr=new Map}ys();function Ih(e){var r=Array.from(e.children).findIndex(function(a){return a.getAttribute(Aa)});if(r>=0)return xr.has(e)||xr.set(e,new Map),xr.get(e).set(r,Pl(e.children[r])),r}function Oh(e,r){if(!bu(e,r))return null;var a=r.children;if(a.length===0)return{index:0,isProximityBased:!0};for(var s=Ih(r),l=0;l<a.length;l++)if(bu(e,a[l])){var f=xr.has(r)&&xr.get(r).get(l);return f&&!Sa(ci(e),f)?{index:s,isProximityBased:!1}:{index:l,isProximityBased:!1}}for(var h=Number.MAX_VALUE,m=void 0,y=0;y<a.length;y++){var x=wu(e,a[y]);x<h&&(h=x,m=y)}if(a.length>0){var w=a.length,A=a[w-1],g=A.cloneNode(!1);g.style.visibility="hidden",g.style.pointerEvents="none",r.appendChild(g);var D=wu(e,g);D<h&&(m=w),r.removeChild(g)}return{index:m,isProximityBased:!0}}function $r(e){return JSON.stringify(e,null,2)}function da(e){if(!e)throw new Error("cannot get depth of a falsy node");return Ll(e,0)}function Ll(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.parentElement?Ll(e.parentElement,r+1):r-1}function Ch(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(var a in e)if(!{}.hasOwnProperty.call(r,a)||r[a]!==e[a])return!1;return!0}function Ph(e,r){if(e.length!==r.length)return!1;for(var a=0;a<e.length;a++)if(e[a]!==r[a])return!1;return!0}var Rh=200,Eu=10,Vo;function Mh(e,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Rh,s=arguments.length>3?arguments[3]:void 0,l,f,h=!1,m,y=Array.from(r).sort(function(w,A){return da(A)-da(w)});function x(){var w=ci(e),A=s.multiScrollIfNeeded();if(!A&&m&&Math.abs(m.x-w.x)<Eu&&Math.abs(m.y-w.y)<Eu){Vo=window.setTimeout(x,a);return}if(Ah(e)){xh(e);return}m=w;var g=!1,D=yi(y),L;try{for(D.s();!(L=D.n()).done;){var M=L.value;A&&ys();var C=Oh(e,M);if(C!==null){var j=C.index;g=!0,M!==l?(l&&bh(l,e,M),_h(M,C,e),l=M):j!==f&&(Eh(M,C,e),f=j);break}}}catch(V){D.e(V)}finally{D.f()}!g&&h&&l?(wh(l,e),l=void 0,f=void 0,h=!1):h=!0,Vo=window.setTimeout(x,a)}x()}function Lh(){clearTimeout(Vo),ys()}var Jr=30;function Nh(){var e;function r(){e={directionObj:void 0,stepPx:0}}r();function a(f){var h=e,m=h.directionObj,y=h.stepPx;m&&(f.scrollBy(m.x*y,m.y*y),window.requestAnimationFrame(function(){return a(f)}))}function s(f){return Jr-f}function l(f,h){if(!h)return!1;var m=Kh(f,h),y=!!e.directionObj;if(m===null)return y&&r(),!1;var x=!1,w=!1;return h.scrollHeight>h.clientHeight&&(m.bottom<Jr?(x=!0,e.directionObj={x:0,y:1},e.stepPx=s(m.bottom)):m.top<Jr&&(x=!0,e.directionObj={x:0,y:-1},e.stepPx=s(m.top)),!y&&x)||h.scrollWidth>h.clientWidth&&(m.right<Jr?(w=!0,e.directionObj={x:1,y:0},e.stepPx=s(m.right)):m.left<Jr&&(w=!0,e.directionObj={x:-1,y:0},e.stepPx=s(m.left)),!y&&w)?(a(h),!0):(r(),!1)}return{scrollIfNeeded:l,resetScrolling:r}}function Kh(e,r){var a=r===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:r.getBoundingClientRect();return Sa(e,a)?{top:e.y-a.top,bottom:a.bottom-e.y,left:e.x-a.left,right:a.right-e.x}:null}function Fh(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0,a=jh(e),s=Array.from(a).sort(function(y,x){return da(x)-da(y)}),l=Nh(),f=l.scrollIfNeeded,h=l.resetScrolling;function m(){var y=r();if(!y||!s)return!1;for(var x=s.filter(function(g){return Sa(y,g.getBoundingClientRect())||g===document.scrollingElement}),w=0;w<x.length;w++){var A=f(y,x[w]);if(A)return!0}return!1}return{multiScrollIfNeeded:a.size>0?m:function(){return!1},destroy:function(){return h()}}}function Bh(e){if(!e)return[];for(var r=[],a=e;a;){var s=window.getComputedStyle(a),l=s.overflow;l.split(" ").some(function(f){return f.includes("auto")||f.includes("scroll")})&&r.push(a),a=a.parentElement}return r}function jh(e){var r=new Set,a=yi(e),s;try{for(a.s();!(s=a.n()).done;){var l=s.value;Bh(l).forEach(function(f){return r.add(f)})}}catch(f){a.e(f)}finally{a.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&r.add(document.scrollingElement),r}function zh(e){var r=e.cloneNode(!0),a=[],s=e.tagName==="SELECT",l=s?[e]:zt(e.querySelectorAll("select")),f=yi(l),h;try{for(f.s();!(h=f.n()).done;){var m=h.value;a.push(m.value)}}catch(Q){f.e(Q)}finally{f.f()}if(l.length>0)for(var y=s?[r]:zt(r.querySelectorAll("select")),x=0;x<y.length;x++){var w=y[x],A=a[x],g=w.querySelector('option[value="'.concat(A,'"'));g&&g.setAttribute("selected",!0)}var D=e.tagName==="CANVAS",L=D?[e]:zt(e.querySelectorAll("canvas"));if(L.length>0)for(var M=D?[r]:zt(r.querySelectorAll("canvas")),C=0;C<M.length;C++){var j=L[C],V=M[C];V.width=j.width,V.height=j.height,j.width>0&&j.height>0&&V.getContext("2d").drawImage(j,0,0)}return r}var fi=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),Vh=Or({},fi.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Nl(e){if(!fi[e])throw new Error("Can't get non existing feature flag ".concat(e,"! Supported flags: ").concat(Object.keys(fi)));return Vh[e]}var Hh=.2;function Jn(e){return"".concat(e," ").concat(Hh,"s ease")}function Uh(e,r){var a=e.getBoundingClientRect(),s=zh(e);Kl(e,s),s.id=kh,s.style.position="fixed";var l=a.top,f=a.left;if(s.style.top="".concat(l,"px"),s.style.left="".concat(f,"px"),r){var h=Ml(a);l-=h.y-r.y,f-=h.x-r.x,window.setTimeout(function(){s.style.top="".concat(l,"px"),s.style.left="".concat(f,"px")},0)}return s.style.margin="0",s.style.boxSizing="border-box",s.style.height="".concat(a.height,"px"),s.style.width="".concat(a.width,"px"),s.style.transition="".concat(Jn("top"),", ").concat(Jn("left"),", ").concat(Jn("background-color"),", ").concat(Jn("opacity"),", ").concat(Jn("color")," "),window.setTimeout(function(){return s.style.transition+=", ".concat(Jn("width"),", ").concat(Jn("height"))},0),s.style.zIndex="9999",s.style.cursor="grabbing",s}function Wh(e){e.style.cursor="grab"}function Gh(e,r,a,s){Kl(r,e);var l=r.getBoundingClientRect(),f=e.getBoundingClientRect(),h=l.width-f.width,m=l.height-f.height;if(h||m){var y={left:(a-f.left)/f.width,top:(s-f.top)/f.height};Nl(fi.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(e.style.height="".concat(l.height,"px"),e.style.width="".concat(l.width,"px")),e.style.left="".concat(parseFloat(e.style.left)-y.left*h,"px"),e.style.top="".concat(parseFloat(e.style.top)-y.top*m,"px")}}function Kl(e,r){var a=window.getComputedStyle(e);Array.from(a).filter(function(s){return s.startsWith("background")||s.startsWith("padding")||s.startsWith("font")||s.startsWith("text")||s.startsWith("align")||s.startsWith("justify")||s.startsWith("display")||s.startsWith("flex")||s.startsWith("border")||s==="opacity"||s==="color"||s==="list-style-type"||Nl(fi.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(s==="width"||s==="height")}).forEach(function(s){return r.style.setProperty(s,a.getPropertyValue(s),a.getPropertyPriority(s))})}function Yh(e,r){e.draggable=!1,e.ondragstart=function(){return!1},r?(e.style.userSelect="",e.style.WebkitUserSelect="",e.style.cursor=""):(e.style.userSelect="none",e.style.WebkitUserSelect="none",e.style.cursor="grab")}function Fl(e){e.style.display="none",e.style.position="fixed",e.style.zIndex="-5"}function qh(e){e.style.visibility="hidden",e.setAttribute(Aa,"true")}function Zh(e){e.style.visibility="",e.removeAttribute(Aa)}function Xi(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(s){var l=r(s);Object.keys(l).forEach(function(f){s.style[f]=l[f]}),a(s).forEach(function(f){return s.classList.add(f)})})}function ha(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};e.forEach(function(s){var l=r(s);Object.keys(l).forEach(function(f){s.style[f]=""}),a(s).forEach(function(f){return s.classList.contains(f)&&s.classList.remove(f)})})}function Qh(e){var r=e.style.minHeight;e.style.minHeight=window.getComputedStyle(e).getPropertyValue("height");var a=e.style.minWidth;return e.style.minWidth=window.getComputedStyle(e).getPropertyValue("width"),function(){e.style.minHeight=r,e.style.minWidth=a}}var Xh="--any--",$h=100,Jh=20,Yi=3,ev=80,xu={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Tu="data-is-dnd-original-dragged-item",bt,$e,wt,Ia,Ke,Oa,Nn,et,Jt,ot,On=!1,ms=!1,gs,gi=!1,$i=[],ii,en,ti=!1,Ut=new Map,Ue=new Map,ko=new WeakMap;function tv(e,r){Ut.has(r)||Ut.set(r,new Set),Ut.get(r).has(e)||(Ut.get(r).add(e),Ol())}function ku(e,r){Ut.get(r).delete(e),Cl(),Ut.get(r).size===0&&Ut.delete(r)}function nv(){var e=Ut.get(Ia),r=yi(e),a;try{for(r.s();!(a=r.n()).done;){var s=a.value;s.addEventListener(Ta,Bl),s.addEventListener(mi,jl),s.addEventListener(ka,zl)}}catch(h){r.e(h)}finally{r.f()}window.addEventListener(vs,Pr);var l=Math.max.apply(Math,zt(Array.from(e.keys()).map(function(h){return Ue.get(h).dropAnimationDurationMs}))),f=l===0?Jh:Math.max(l,$h);ii=Fh(e,function(){return ot}),Mh($e,e,f*1.07,ii)}function rv(){var e=Ut.get(Ia),r=yi(e),a;try{for(r.s();!(a=r.n()).done;){var s=a.value;s.removeEventListener(Ta,Bl),s.removeEventListener(mi,jl),s.removeEventListener(ka,zl)}}catch(l){r.e(l)}finally{r.f()}window.removeEventListener(vs,Pr),ii&&(ii.destroy(),ii=void 0),Lh()}function Ca(e){return e.findIndex(function(r){return!!r[Da]})}function iv(e){var r;return ca(ca({},e),{},(r={},Or(r,Da,!0),Or(r,Ze,Il),r))}function Bl(e){var r=Ue.get(e.currentTarget),a=r.items,s=r.dropFromOthersDisabled;if(!(s&&e.currentTarget!==Ke)){if(gi=!1,a=a.filter(function(m){return m[Ze]!==Nn[Ze]&&m[Ze]!==Il}),Ke!==e.currentTarget){var l=Ue.get(Ke).items,f=l.filter(function(m){return!m[Da]});jn(Ke,f,{trigger:vt.DRAGGED_ENTERED_ANOTHER,id:wt[Ze],source:Dt.POINTER})}var h=e.detail.indexObj.index;et=e.currentTarget,a.splice(h,0,Nn),jn(e.currentTarget,a,{trigger:vt.DRAGGED_ENTERED,id:wt[Ze],source:Dt.POINTER})}}function jl(e){if(On){var r=Ue.get(e.currentTarget),a=r.items,s=r.dropFromOthersDisabled;if(!(s&&e.currentTarget!==Ke&&e.currentTarget!==et)){var l=zt(a),f=Ca(l);f!==-1&&l.splice(f,1);var h=et;et=void 0;var m=e.detail,y=m.type,x=m.theOtherDz;if(y===fa.OUTSIDE_OF_ANY||y===fa.LEFT_FOR_ANOTHER&&x!==Ke&&Ue.get(x).dropFromOthersDisabled){gi=!0,et=Ke;var w=h===Ke?l:zt(Ue.get(Ke).items);w.splice(Oa,0,Nn),jn(Ke,w,{trigger:vt.DRAGGED_LEFT_ALL,id:wt[Ze],source:Dt.POINTER})}jn(e.currentTarget,l,{trigger:vt.DRAGGED_LEFT,id:wt[Ze],source:Dt.POINTER})}}}function zl(e){var r=Ue.get(e.currentTarget),a=r.items,s=r.dropFromOthersDisabled;if(!(s&&e.currentTarget!==Ke)){var l=zt(a);gi=!1;var f=e.detail.indexObj.index,h=Ca(l);h!==-1&&l.splice(h,1),l.splice(f,0,Nn),jn(e.currentTarget,l,{trigger:vt.DRAGGED_OVER_INDEX,id:wt[Ze],source:Dt.POINTER})}}function va(e){e.preventDefault();var r=e.touches?e.touches[0]:e;ot={x:r.clientX,y:r.clientY},$e.style.transform="translate3d(".concat(ot.x-Jt.x,"px, ").concat(ot.y-Jt.y,"px, 0)")}function Pr(){ms=!0,window.removeEventListener("mousemove",va),window.removeEventListener("touchmove",va),window.removeEventListener("mouseup",Pr),window.removeEventListener("touchend",Pr),rv(),Wh($e),et||(et=Ke);var e=Ue.get(et),r=e.items,a=e.type;ha(Ut.get(a),function(f){return Ue.get(f).dropTargetStyle},function(f){return Ue.get(f).dropTargetClasses});var s=Ca(r);s===-1&&et===Ke&&(s=Oa),r=r.map(function(f){return f[Da]?wt:f});function l(){gs(),Cr(et,r,{trigger:gi?vt.DROPPED_OUTSIDE_OF_ANY:vt.DROPPED_INTO_ZONE,id:wt[Ze],source:Dt.POINTER}),et!==Ke&&Cr(Ke,Ue.get(Ke).items,{trigger:vt.DROPPED_INTO_ANOTHER,id:wt[Ze],source:Dt.POINTER});var f=Array.from(et.children).find(function(h){return h.getAttribute(Aa)});f&&Zh(f),sv()}Ue.get(et).dropAnimationDisabled?l():av(s,l)}function av(e,r){var a=e>-1?zo(et.children[e],!1):zo(et,!1),s={x:a.left-parseFloat($e.style.left),y:a.top-parseFloat($e.style.top)},l=Ue.get(et),f=l.dropAnimationDurationMs,h="transform ".concat(f,"ms ease");$e.style.transition=$e.style.transition?$e.style.transition+","+h:h,$e.style.transform="translate3d(".concat(s.x,"px, ").concat(s.y,"px, 0)"),window.setTimeout(r,f)}function ov(e,r){$i.push({dz:e,destroy:r}),window.requestAnimationFrame(function(){Fl(e),document.body.appendChild(e)})}function sv(){$e&&$e.remove&&$e.remove(),bt&&bt.remove&&bt.remove(),$e=void 0,bt=void 0,wt=void 0,Ia=void 0,Ke=void 0,Oa=void 0,Nn=void 0,et=void 0,Jt=void 0,ot=void 0,On=!1,ms=!1,gs=void 0,gi=!1,en&&clearTimeout(en),en=void 0,ti=!1,$i.length&&($i.forEach(function(e){var r=e.dz,a=e.destroy;a(),r.remove()}),$i=[])}function uv(e,r){var a=!1,s={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:xu,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},l=new Map;function f(){window.addEventListener("mousemove",y,{passive:!1}),window.addEventListener("touchmove",y,{passive:!1,capture:!1}),window.addEventListener("mouseup",m,{passive:!1}),window.addEventListener("touchend",m,{passive:!1})}function h(){window.removeEventListener("mousemove",y),window.removeEventListener("touchmove",y),window.removeEventListener("mouseup",m),window.removeEventListener("touchend",m),en&&(clearTimeout(en),en=void 0,ti=!1)}function m(g){if(h(),bt=void 0,Jt=void 0,ot=void 0,g.type==="touchend"){var D=new Event("click",{bubbles:!0,cancelable:!0});g.target.dispatchEvent(D)}}function y(g){var D=!!g.touches,L=D?g.touches[0]:g;if(D&&s.delayTouchStartMs>0&&!ti){ot={x:L.clientX,y:L.clientY},(Math.abs(ot.x-Jt.x)>=Yi||Math.abs(ot.y-Jt.y)>=Yi)&&(en&&(clearTimeout(en),en=void 0),m(g));return}g.preventDefault(),ot={x:L.clientX,y:L.clientY},(Math.abs(ot.x-Jt.x)>=Yi||Math.abs(ot.y-Jt.y)>=Yi)&&(h(),w())}function x(g){if(!(g.target!==g.currentTarget&&(g.target.value!==void 0||g.target.isContentEditable))&&!g.button&&!On){var D=!!g.touches,L=D&&s.delayTouchStartMs>0;L||g.preventDefault(),g.stopPropagation();var M=D?g.touches[0]:g;Jt={x:M.clientX,y:M.clientY},ot=ca({},Jt),bt=g.currentTarget,L&&(ti=!1,en=window.setTimeout(function(){bt&&(ti=!0,h(),w())},s.delayTouchStartMs)),f()}}function w(){On=!0;var g=l.get(bt);Oa=g,Ke=bt.parentElement;var D=Ke.closest("dialog")||Ke.closest("[popover]")||Ke.getRootNode(),L=D.body||D,M=s.items,C=s.type,j=s.centreDraggedOnCursor,V=zt(M);wt=V[g],Ia=C,Nn=iv(wt),$e=Uh(bt,j&&ot),L.appendChild($e);function Q(){bt.parentElement?window.requestAnimationFrame(Q):(bt.setAttribute(Tu,!0),L.appendChild(bt),nv(),Fl(bt),Nn[Ze]=wt[Ze],$e.focus())}window.requestAnimationFrame(Q),Xi(Array.from(Ut.get(s.type)).filter(function(X){return X===Ke||!Ue.get(X).dropFromOthersDisabled}),function(X){return Ue.get(X).dropTargetStyle},function(X){return Ue.get(X).dropTargetClasses}),V.splice(g,1,Nn),gs=Qh(Ke),jn(Ke,V,{trigger:vt.DRAG_STARTED,id:wt[Ze],source:Dt.POINTER}),window.addEventListener("mousemove",va,{passive:!1}),window.addEventListener("touchmove",va,{passive:!1,capture:!1}),window.addEventListener("mouseup",Pr,{passive:!1}),window.addEventListener("touchend",Pr,{passive:!1})}function A(g){var D=g.items,L=D===void 0?void 0:D,M=g.flipDurationMs,C=M===void 0?0:M,j=g.type,V=j===void 0?Xh:j,Q=g.dragDisabled,X=Q===void 0?!1:Q,ae=g.morphDisabled,se=ae===void 0?!1:ae,pe=g.dropFromOthersDisabled,he=pe===void 0?!1:pe,_e=g.dropTargetStyle,fe=_e===void 0?xu:_e,be=g.dropTargetClasses,ke=be===void 0?[]:be,je=g.transformDraggedElement,Qe=je===void 0?function(){}:je,pt=g.centreDraggedOnCursor,ft=pt===void 0?!1:pt,$=g.dropAnimationDisabled,De=$===void 0?!1:$,Oe=g.delayTouchStart,Ce=Oe===void 0?!1:Oe;s.dropAnimationDurationMs=C;var ze=0;Ce===!0?ze=ev:typeof Ce=="number"&&isFinite(Ce)&&Ce>=0&&(ze=Ce),s.delayTouchStartMs=ze,s.type&&V!==s.type&&ku(e,s.type),s.type=V,s.items=zt(L),s.dragDisabled=X,s.morphDisabled=se,s.transformDraggedElement=Qe,s.centreDraggedOnCursor=ft,s.dropAnimationDisabled=De,a&&On&&!ms&&(!Ch(fe,s.dropTargetStyle)||!Ph(ke,s.dropTargetClasses))&&(ha([e],function(){return s.dropTargetStyle},function(){return ke}),Xi([e],function(){return fe},function(){return ke})),s.dropTargetStyle=fe,s.dropTargetClasses=zt(ke);function Fe(Le,yt){return Ue.get(Le)?Ue.get(Le)[yt]:s[yt]}a&&On&&s.dropFromOthersDisabled!==he&&(he?ha([e],function(Le){return Fe(Le,"dropTargetStyle")},function(Le){return Fe(Le,"dropTargetClasses")}):Xi([e],function(Le){return Fe(Le,"dropTargetStyle")},function(Le){return Fe(Le,"dropTargetClasses")})),s.dropFromOthersDisabled=he,Ue.set(e,s),tv(e,V);for(var dt=On?Ca(s.items):-1,qe=0;qe<e.children.length;qe++){var Ve=e.children[qe];if(Yh(Ve,X),qe===dt){se||Gh($e,Ve,ot.x,ot.y),s.transformDraggedElement($e,wt,qe),qh(Ve);continue}Ve.removeEventListener("mousedown",ko.get(Ve)),Ve.removeEventListener("touchstart",ko.get(Ve)),X||(Ve.addEventListener("mousedown",x),Ve.addEventListener("touchstart",x),ko.set(Ve,x)),l.set(Ve,qe),a||(a=!0)}}return A(r),{update:function(D){A(D)},destroy:function(){function D(){ku(e,Ue.get(e).type),Ue.delete(e)}On&&!e.closest("[".concat(Tu,"]"))?ov(e,D):D()}}}var qi,Ho={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Vl=(qi={},Or(qi,Ho.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Or(qi,Ho.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),qi),lv="dnd-action-aria-alert",Ge;function Uo(){Ge||(Ge=document.createElement("div"),(function(){Ge.id=lv,Ge.style.position="fixed",Ge.style.bottom="0",Ge.style.left="0",Ge.style.zIndex="-5",Ge.style.opacity="0",Ge.style.height="0",Ge.style.width="0",Ge.setAttribute("role","alert")})(),document.body.prepend(Ge),Object.entries(Vl).forEach(function(e){var r=ch(e,2),a=r[0],s=r[1];return document.body.prepend(dv(a,s))}))}function cv(){return ps?null:(document.readyState==="complete"?Uo():window.addEventListener("DOMContentLoaded",Uo),ca({},Ho))}function fv(){ps||!Ge||(Object.keys(Vl).forEach(function(e){var r;return(r=document.getElementById(e))===null||r===void 0?void 0:r.remove()}),Ge.remove(),Ge=void 0)}function dv(e,r){var a=document.createElement("div");return a.id=e,a.innerHTML="<p>".concat(r,"</p>"),a.style.display="none",a.style.position="fixed",a.style.zIndex="-5",a}function Tr(e){if(!ps){Ge||Uo(),Ge.innerHTML="";var r=document.createTextNode(e);Ge.appendChild(r),Ge.style.display="none",Ge.style.display="inline"}}var hv="--any--",Du={outline:"rgba(255, 255, 102, 0.7) solid 2px"},Lt=!1,Wo,st,ir="",er,tn,Cn="",pa=new WeakSet,Au=new WeakMap,Su=new WeakMap,Go=new Map,Je=new Map,Ht=new Map,ya;function vv(e,r){Ht.size===0&&(ya=cv(),window.addEventListener("keydown",Hl),window.addEventListener("click",Ul)),Ht.has(r)||Ht.set(r,new Set),Ht.get(r).has(e)||(Ht.get(r).add(e),Ol())}function Iu(e,r){st===e&&di(),Ht.get(r).delete(e),Cl(),Ht.get(r).size===0&&Ht.delete(r),Ht.size===0&&(window.removeEventListener("keydown",Hl),window.removeEventListener("click",Ul),ya=void 0,fv())}function Hl(e){if(Lt)switch(e.key){case"Escape":{di();break}}}function Ul(){Lt&&(pa.has(document.activeElement)||di())}function pv(e){if(Lt){var r=e.currentTarget;if(r!==st){ir=r.getAttribute("aria-label")||"";var a=Je.get(st),s=a.items,l=s.find(function(A){return A[Ze]===tn}),f=s.indexOf(l),h=s.splice(f,1)[0],m=Je.get(r),y=m.items,x=m.autoAriaDisabled;r.getBoundingClientRect().top<st.getBoundingClientRect().top||r.getBoundingClientRect().left<st.getBoundingClientRect().left?(y.push(h),x||Tr("Moved item ".concat(Cn," to the end of the list ").concat(ir))):(y.unshift(h),x||Tr("Moved item ".concat(Cn," to the beginning of the list ").concat(ir)));var w=st;Cr(w,s,{trigger:vt.DROPPED_INTO_ANOTHER,id:tn,source:Dt.KEYBOARD}),Cr(r,y,{trigger:vt.DROPPED_INTO_ZONE,id:tn,source:Dt.KEYBOARD}),st=r}}}function Wl(){Go.forEach(function(e,r){var a=e.update;return a(Je.get(r))})}function di(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;Je.get(st).autoAriaDisabled||Tr("Stopped dragging item ".concat(Cn)),pa.has(document.activeElement)&&document.activeElement.blur(),e&&jn(st,Je.get(st).items,{trigger:vt.DRAG_STOPPED,id:tn,source:Dt.KEYBOARD}),ha(Ht.get(Wo),function(r){return Je.get(r).dropTargetStyle},function(r){return Je.get(r).dropTargetClasses}),er=null,tn=null,Cn="",Wo=null,st=null,ir="",Lt=!1,Wl()}function yv(e,r){var a={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:Du,dropTargetClasses:[],autoAriaDisabled:!1};function s(w,A,g){w.length<=1||w.splice(g,1,w.splice(A,1,w[g])[0])}function l(w){switch(w.key){case"Enter":case" ":{if((w.target.disabled!==void 0||w.target.href||w.target.isContentEditable)&&!pa.has(w.target))return;w.preventDefault(),w.stopPropagation(),Lt?di():f(w);break}case"ArrowDown":case"ArrowRight":{if(!Lt)return;w.preventDefault(),w.stopPropagation();var A=Je.get(e),g=A.items,D=Array.from(e.children),L=D.indexOf(w.currentTarget);L<D.length-1&&(a.autoAriaDisabled||Tr("Moved item ".concat(Cn," to position ").concat(L+2," in the list ").concat(ir)),s(g,L,L+1),Cr(e,g,{trigger:vt.DROPPED_INTO_ZONE,id:tn,source:Dt.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!Lt)return;w.preventDefault(),w.stopPropagation();var M=Je.get(e),C=M.items,j=Array.from(e.children),V=j.indexOf(w.currentTarget);V>0&&(a.autoAriaDisabled||Tr("Moved item ".concat(Cn," to position ").concat(V," in the list ").concat(ir)),s(C,V,V-1),Cr(e,C,{trigger:vt.DROPPED_INTO_ZONE,id:tn,source:Dt.KEYBOARD}));break}}}function f(w){m(w.currentTarget),st=e,Wo=a.type,Lt=!0;var A=Array.from(Ht.get(a.type)).filter(function(D){return D===st||!Je.get(D).dropFromOthersDisabled});if(Xi(A,function(D){return Je.get(D).dropTargetStyle},function(D){return Je.get(D).dropTargetClasses}),!a.autoAriaDisabled){var g="Started dragging item ".concat(Cn,". Use the arrow keys to move it within its list ").concat(ir);A.length>1&&(g+=", or tab to another list in order to move the item into it"),Tr(g)}jn(e,Je.get(e).items,{trigger:vt.DRAG_STARTED,id:tn,source:Dt.KEYBOARD}),Wl()}function h(w){Lt&&w.currentTarget!==er&&(w.stopPropagation(),di(!1),f(w))}function m(w){var A=Je.get(e),g=A.items,D=Array.from(e.children),L=D.indexOf(w);er=w,er.tabIndex=a.zoneItemTabIndex,tn=g[L][Ze],Cn=D[L].getAttribute("aria-label")||""}function y(w){var A=w.items,g=A===void 0?[]:A,D=w.type,L=D===void 0?hv:D,M=w.dragDisabled,C=M===void 0?!1:M,j=w.zoneTabIndex,V=j===void 0?0:j,Q=w.zoneItemTabIndex,X=Q===void 0?0:Q,ae=w.dropFromOthersDisabled,se=ae===void 0?!1:ae,pe=w.dropTargetStyle,he=pe===void 0?Du:pe,_e=w.dropTargetClasses,fe=_e===void 0?[]:_e,be=w.autoAriaDisabled,ke=be===void 0?!1:be;a.items=zt(g),a.dragDisabled=C,a.dropFromOthersDisabled=se,a.zoneTabIndex=V,a.zoneItemTabIndex=X,a.dropTargetStyle=he,a.dropTargetClasses=fe,a.autoAriaDisabled=ke,a.type&&L!==a.type&&Iu(e,a.type),a.type=L,vv(e,L),ke||(e.setAttribute("role","list"),e.setAttribute("aria-describedby",C?ya.DND_ZONE_DRAG_DISABLED:ya.DND_ZONE_ACTIVE)),Je.set(e,a),Lt?e.tabIndex=e===st||er.contains(e)||a.dropFromOthersDisabled||st&&a.type!==Je.get(st).type?-1:0:e.tabIndex=a.zoneTabIndex,e.addEventListener("focus",pv);for(var je=function(ft){var $=e.children[ft];pa.add($),$.tabIndex=Lt?-1:a.zoneItemTabIndex,ke||$.setAttribute("role","listitem"),$.removeEventListener("keydown",Au.get($)),$.removeEventListener("click",Su.get($)),C||($.addEventListener("keydown",l),Au.set($,l),$.addEventListener("click",h),Su.set($,h)),Lt&&a.items[ft][Ze]===tn&&(er=$,er.tabIndex=a.zoneItemTabIndex,$.focus())},Qe=0;Qe<e.children.length;Qe++)je(Qe)}y(r);var x={update:function(A){y(A)},destroy:function(){Iu(e,a.type),Je.delete(e),Go.delete(e)}};return Go.set(e,x),x}var mv=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function gv(e,r){if(_v(e))return{update:function(){},destroy:function(){}};Ou(r);var a=uv(e,r),s=yv(e,r);return{update:function(f){Ou(f),a.update(f),s.update(f)},destroy:function(){a.destroy(),s.destroy()}}}function _v(e){return!!e.closest("[".concat(Th,'="true"]'))}function Ou(e){var r=e.items;e.flipDurationMs,e.type,e.dragDisabled,e.morphDisabled,e.dropFromOthersDisabled;var a=e.zoneTabIndex,s=e.zoneItemTabIndex;e.dropTargetStyle;var l=e.dropTargetClasses;e.transformDraggedElement,e.autoAriaDisabled,e.centreDraggedOnCursor;var f=e.delayTouchStart;e.dropAnimationDisabled;var h=lh(e,mv);if(Object.keys(h).length>0&&console.warn("dndzone will ignore unknown options",h),!r)throw new Error("no 'items' key provided to dndzone");var m=r.find(function(w){return!{}.hasOwnProperty.call(w,Ze)});if(m)throw new Error("missing '".concat(Ze,"' property for item ").concat($r(m)));if(l&&!Array.isArray(l))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(wr(l),", ").concat($r(l)));if(a&&!Cu(a))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(wr(a),", ").concat($r(a)));if(s&&!Cu(s))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(wr(s),", ").concat($r(s)));if(f!==void 0&&f!==!1){var y=f===!0,x=typeof f=="number"&&isFinite(f)&&f>=0;if(!y&&!x)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(wr(f),", ").concat($r(f)))}}function Cu(e){return!isNaN(e)&&(function(r){return(r|0)===r})(parseFloat(e))}const Rr=160,Mr=150,Yo=1056,bv=816,ma=16,Pu=25,Do=10;var wv=Me('<div id="validation-message" class="mt-2 text-sm text-red-600" role="alert">Task cannot be empty. Consider archiving this task instead.</div>'),Ev=Me('<div role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1" class="modal-backdrop svelte-1s5l7w2"><div class="bg-white text-gray-900 p-6 rounded-xl shadow-2xl border-2 border-gray-300 fixed" role="document"><h3 id="modal-title" class="text-lg font-semibold mb-4">Edit Task</h3> <div class="mb-4"><textarea class="task-input flex-none break-words resize-none min-h-[2.5rem] max-h-[10rem] overflow-y-auto px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 svelte-1s5l7w2" placeholder="Task text..." aria-label="Edit task text" rows="1"></textarea> <!></div> <div class="flex justify-between items-center"><button class="px-4 py-2 text-sm text-gray-600 hover:text-gray-800 underline" aria-label="Archive this task instead of saving">Archive instead</button> <div class="flex gap-3"><button class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50" aria-label="Cancel editing and discard changes">Cancel</button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Save</button></div></div></div></div>');function xv(e,r){zn(r,!0);let a=le(rn(r.taskText||"")),s=le(!1),l=le(null),f=le(null),h=oi(()=>()=>{if(!r.taskPosition||!r.isOpen)return"background-color: white; z-index: 10000;";const M=24,C=24,j=ma,Q=M+C+j+8-8,X=10,ae=r.taskPosition.top-Q,se=r.taskPosition.left-ma+X,pe=r.taskPosition.width+48;return`background-color: white; z-index: 10000; top: ${ae}px; left: ${se}px; width: ${pe}px;`});Ye(()=>{r.isOpen&&(P(a,r.taskText||"",!0),P(s,!1))}),Ye(()=>{r.isOpen&&E(l)&&setTimeout(()=>{E(l)?.focus(),E(l)?.select(),E(l)instanceof HTMLTextAreaElement&&(E(l).style.height="auto",E(l).style.height=`${Math.min(E(l).scrollHeight,Rr)}px`)},0)}),Ye(()=>{if(E(l)&&E(l)instanceof HTMLTextAreaElement){const M=()=>{E(l).style.height="auto",E(l).style.height=`${Math.min(E(l).scrollHeight,Rr)}px`};return E(l).addEventListener("input",M),()=>{E(l).removeEventListener("input",M)}}});function m(){const M=E(a)??"",C=M.trim();if(C===""&&M.length>0){r.onSave(r.taskId,""),P(s,!1);return}if(M===""||C===""){P(s,!0);return}r.onSave(r.taskId,C),P(s,!1)}function y(){P(a,r.taskText||"",!0),P(s,!1),r.onCancel()}function x(M){M.target===M.currentTarget&&y()}function w(M){M.key==="Escape"?y():M.key==="Enter"&&!M.shiftKey&&document.activeElement===E(l)&&(M.preventDefault(),m())}function A(){r.onArchive&&r.onArchive(r.taskId)}var g=sr(),D=Pt(g);{var L=M=>{var C=Ev();C.__click=x,C.__keydown=w;var j=me(C);j.__click=be=>be.stopPropagation();var V=ge(me(j),2),Q=me(V);Q.__keydown=w,on(Q,be=>P(l,be),()=>E(l));var X=ge(Q,2);{var ae=be=>{var ke=wv();Ae(be,ke)};ut(X,be=>{E(s)&&be(ae)})}var se=ge(V,2),pe=me(se);pe.__click=A;var he=ge(pe,2),_e=me(he);_e.__click=y;var fe=ge(_e,2);fe.__click=m,on(j,be=>P(f,be),()=>E(f)),Tt(be=>{jt(j,be),jt(Q,`width: ${Mr}px;`),Ft(Q,"aria-describedby",E(s)?"validation-message":void 0),fe.disabled=E(s),Ft(fe,"aria-label",E(s)?"Save disabled: task cannot be empty":"Save task changes")},[()=>E(h)()]),fs(Q,()=>E(a),be=>P(a,be)),Ae(M,C)};ut(D,M=>{r.isOpen&&M(L)})}Ae(e,g),Vn()}cr(["click","keydown"]);var Tv=Me('<div id="validation-message" class="mt-2 text-sm text-red-600" role="alert">List name cannot be empty.</div>'),kv=Me('<div role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1" class="modal-backdrop svelte-8e0jqh"><div class="bg-white text-gray-900 p-6 rounded-xl shadow-2xl border-2 border-gray-300 fixed" role="document"><h3 id="modal-title" class="text-lg font-semibold mb-4">Rename List</h3> <div class="mb-4"><input type="text" class="list-input w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 svelte-8e0jqh" placeholder="List name..." aria-label="Edit list name"/> <!></div> <div class="flex justify-end gap-3"><button class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50" aria-label="Cancel editing and discard changes">Cancel</button> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700">Save</button></div></div></div>');function Dv(e,r){zn(r,!0);let a=le(rn(r.listName||"")),s=le(!1),l=le(null),f=le(null),h=oi(()=>()=>{if(!r.listPosition||!r.isOpen)return"background-color: white; z-index: 10000;";const L=24,M=24,C=ma,V=L+M+C+8-8,Q=r.listPosition.top-V,X=r.listPosition.left-ma,ae=Math.max(r.listPosition.width+48,300);return`background-color: white; z-index: 10000; top: ${Q}px; left: ${X}px; width: ${ae}px;`});Ye(()=>{r.isOpen&&(P(a,r.listName||"",!0),P(s,!1))}),Ye(()=>{r.isOpen&&E(l)&&setTimeout(()=>{E(l)?.focus(),E(l)?.select()},0)});function m(){const M=(E(a)??"").trim();if(M===""){P(s,!0);return}r.onSave(r.listId,M),P(s,!1)}function y(){P(a,r.listName||"",!0),P(s,!1),r.onCancel()}function x(L){L.target===L.currentTarget&&y()}function w(L){L.key==="Escape"?y():L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),m())}var A=sr(),g=Pt(A);{var D=L=>{var M=kv();M.__click=x,M.__keydown=w;var C=me(M);C.__click=he=>he.stopPropagation();var j=ge(me(C),2),V=me(j);V.__keydown=w,on(V,he=>P(l,he),()=>E(l));var Q=ge(V,2);{var X=he=>{var _e=Tv();Ae(he,_e)};ut(Q,he=>{E(s)&&he(X)})}var ae=ge(j,2),se=me(ae);se.__click=y;var pe=ge(se,2);pe.__click=m,on(C,he=>P(f,he),()=>E(f)),Tt(he=>{jt(C,he),Ft(V,"aria-describedby",E(s)?"validation-message":void 0),pe.disabled=E(s),Ft(pe,"aria-label",E(s)?"Save disabled: list name cannot be empty":"Save list name changes")},[()=>E(h)()]),fs(V,()=>E(a),he=>P(a,he)),Ae(L,M)};ut(g,L=>{r.isOpen&&L(D)})}Ae(e,A),Vn()}cr(["click","keydown"]);var Av=Me('<span class="drag-handle text-gray-400 select-none" aria-hidden="true" style="visibility: hidden;"></span> <input type="checkbox" disabled class="cursor-pointer opacity-0" aria-hidden="true" tabindex="-1"/> <div class="flex gap-2"><textarea class="flex-none break-words resize-none min-h-[2.5rem] max-h-[10rem] overflow-y-auto" rows="1"></textarea> <button aria-label="Save new task">Save</button></div>',1),Sv=Me('<span class="drag-handle text-gray-400 select-none" aria-hidden="true" style="visibility: hidden;"></span> <input type="checkbox" disabled class="cursor-pointer opacity-0" aria-hidden="true" tabindex="-1"/> <span class="cursor-pointer hover:underline break-words" role="button" tabindex="0"> </span>',1),Iv=Me('<div class="flex items-center gap-2 p-2 border rounded hover:bg-gray-50 w-fit print:hidden add-task-container add-task-button mt-2"><!></div>');function Ao(e,r){zn(r,!0);let a=$n(r,"isInputActive",11,!1),s=$n(r,"inputValue",3,""),l=$n(r,"buttonText",3,"Add Task"),f=$n(r,"placeholder",3,"Add new task..."),h=$n(r,"marginLeft",3,!1),m=$n(r,"containerElement",15,null),y=$n(r,"textareaElement",15,null),x=le(null),w=le(null);Ye(()=>{m(E(w)),y(E(x))}),Ye(()=>{a()&&E(x)&&setTimeout(()=>{E(x)?.focus(),E(x)instanceof HTMLTextAreaElement&&(E(x).style.height="auto",E(x).style.height=`${Math.min(E(x).scrollHeight,Rr)}px`)},0)}),Ye(()=>{if(E(x)&&E(x)instanceof HTMLTextAreaElement){const j=()=>{E(x).style.height="auto",E(x).style.height=`${Math.min(E(x).scrollHeight,Rr)}px`};return E(x).addEventListener("input",j),()=>{E(x).removeEventListener("input",j)}}});function A(j){j.key==="Enter"&&!j.shiftKey?(j.preventDefault(),r.onSave?.()):j.key==="Escape"&&r.onEscape?.(j)}function g(j){(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),r.onActivate?.())}var D=Iv(),L=me(D);{var M=j=>{var V=Av(),Q=ge(Pt(V),4),X=me(Q);X.__input=se=>r.onInputChange?.(se.currentTarget.value),X.__keydown=A,on(X,se=>P(x,se),()=>E(x));var ae=ge(X,2);ae.__click=function(...se){r.onSave?.apply(this,se)},Tt(()=>{Ft(X,"placeholder",f()),kl(X,s()),jt(X,`width: ${Mr}px;`)}),Ae(j,V)},C=j=>{var V=Sv(),Q=ge(Pt(V),4);Q.__click=function(...ae){r.onActivate?.apply(this,ae)},Q.__keydown=g;var X=me(Q);Tt(()=>{jt(Q,`width: ${Mr}px;`),Ft(Q,"aria-label",r.ariaLabel||l()),Ln(X,l())}),Ae(j,V)};ut(L,j=>{a()?j(M):j(C,!1)})}on(D,j=>P(w,j),()=>E(w)),Tt(()=>jt(D,h()?"margin-left: 1.5rem;":"")),Ae(e,D),Vn()}cr(["input","keydown","click"]);function qo(e,r,a={}){const{ignoreElements:s=[],shouldClose:l=()=>!0,checkIgnoreClick:f=null}=a;function h(y){const x=typeof e=="function"?e():e;if(x&&!x.contains(y.target)&&!(f&&f(y))){for(const w of s){let A=null;if(typeof w=="function"?A=w():A=w,A&&A.contains(y.target))return}l()&&r()}}const m=setTimeout(()=>{document.addEventListener("click",h)},0);return()=>{clearTimeout(m),document.removeEventListener("click",h)}}function Zo(e){return e===""}function Ov(e){return e.trim()===""&&e.length>0}function Qo(e){const r=e.trim(),a=Ov(e);return{text:a?"":r,isBlank:a}}var Cv=Me('<button class="px-2 py-1 text-sm bg-gray-200 hover:bg-gray-300 rounded">Archive</button>'),Pv=Me('<li class="flex items-center gap-2 p-2 border rounded cursor-move hover:bg-gray-50 w-fit"><span class="drag-handle text-gray-400 cursor-grab active:cursor-grabbing select-none svelte-k6mizj" title="Drag to reorder" tabindex="-1" aria-hidden="true"></span> <input type="checkbox" class="cursor-pointer"/> <span role="button" tabindex="0" contenteditable="false" data-no-drag="true"> </span> <!></li>'),Rv=Me('<div class="task-list-wrapper svelte-k6mizj"><ul class="space-y-2 svelte-k6mizj"></ul> <!></div>'),Mv=Me("<p>Loading tasks...</p> <!>",1),Lv=Me('<div><h2 role="button" tabindex="0" class="cursor-pointer hover:underline"> </h2> <!></div> <!> <!>',1);function Nv(e,r){zn(r,!0);const a=()=>sa(E(f),"$tasksQuery",s),[s,l]=ds();let f=le(null),h=le(rn([])),m=le(!1),y=le(!1),x=le(null),w=le(""),A=le(null),g=le(null),D=le(null),L=le(!1),M=le(null),C=le(null),j=le(null),V=le(null),Q=le(null);Ye(()=>{r.listId&&!E(f)&&Ko(P(f,la(()=>nh(r.listId)),!0),"$tasksQuery",s)}),Ye(()=>{a()&&Array.isArray(a())&&P(h,a().filter(G=>G.status==="unchecked"||G.status==="checked"),!0)}),Ye(()=>{if(!E(D))return;function G(ie){const J=ie.target;if((ie.key==="Enter"||ie.key===" ")&&J instanceof HTMLElement&&J.hasAttribute("data-no-drag")){ie.preventDefault(),ie.stopImmediatePropagation();const ce=J.closest("li[data-id]");if(ce){const ue=parseInt(ce.getAttribute("data-id")),Re=E(h).find(ye=>ye.id===ue);if(Re){const ye=J.getBoundingClientRect();P(A,{top:ye.top,left:ye.left,width:ye.width,height:ye.height},!0),P(g,J,!0),P(x,ue,!0),P(w,Re.text,!0),P(y,!0)}}}}return E(D).addEventListener("keydown",G,!0),()=>{E(D).removeEventListener("keydown",G,!0)}});function X(G){P(h,G.detail.items,!0)}async function ae(G){P(h,G.detail.items,!0);try{await oh(r.listId,G.detail.items)}catch(ie){console.error("Error updating task order:",ie)}}function se(){P(m,!0)}function pe(G){G.key==="Escape"&&(P(m,!1),r.onInputChange(""))}Ye(()=>{if(E(m))return qo(()=>E(Q),()=>{E(m)&&(P(m,!1),r.onInputChange(""))},{ignoreElements:[],checkIgnoreClick:G=>{if(!E(V))return!1;const ie=E(V).querySelector("button");return!!(ie&&ie.contains(G.target))},shouldClose:()=>E(Q)&&E(Q).value.trim()!==""?!1:!r.newTaskInput||r.newTaskInput.trim()===""})});async function he(){let G=r.newTaskInput||"";if(E(Q)&&(G=(E(Q).value||"").toString()),G=(G||"").toString(),Zo(G)){P(m,!1),r.onInputChange(""),await oa(),await new Promise(J=>setTimeout(J,0));return}const{text:ie}=Qo(G);try{await Sl(r.listId,ie),r.onInputChange("")}catch(J){console.error("Error creating task:",J)}}async function _e(G,ie){try{await gu(G,ie==="unchecked"?"checked":"unchecked")}catch(J){console.error("Error updating task status:",J)}}async function fe(G){await gu(G,"archived")}function be(){if(!E(D))return null;const G=E(D).querySelector("li[data-id]");if(G){const ie=G.querySelector('span[role="button"]');if(ie&&ie instanceof HTMLElement)return ie}return null}function ke(G=20,ie=10){if(!E(j))return;const J=(ce=0)=>{if(E(V)){const ue=E(V).querySelector('span[role="button"]');if(ue&&ue instanceof HTMLElement){ue.focus();return}}ce<G&&setTimeout(()=>J(ce+1),ie)};J()}async function je(G){try{if(await fe(G),E(x)===G){const ie=E(g);P(y,!1),P(x,null),P(w,""),P(A,null),P(g,null),await oa(),await new Promise(J=>setTimeout(J,10)),setTimeout(()=>{const J=(ce=0)=>{const ue=be();ue?ue.focus():ce<20?setTimeout(()=>J(ce+1),10):ke(40,10)};J()},20)}}catch(ie){console.error("Error archiving task:",ie)}}function Qe(G,ie,J){const ce=J?.currentTarget||J?.target;if(ce){const ue=ce.getBoundingClientRect();P(A,{top:ue.top,left:ue.left,width:ue.width,height:ue.height},!0),P(g,ce,!0)}P(x,G,!0),P(w,ie,!0),P(y,!0)}function pt(G,ie,J){if(J.key==="Enter"||J.key===" "){J.preventDefault(),J.stopImmediatePropagation();const ce=J.currentTarget;if(ce){const ue=ce.getBoundingClientRect();P(A,{top:ue.top,left:ue.left,width:ue.width,height:ue.height},!0),P(g,ce,!0),P(x,G,!0),P(w,ie,!0),P(y,!0)}}}async function ft(G,ie){try{await ih(G,ie),P(y,!1);const J=E(g);P(x,null),P(w,""),P(A,null),P(g,null),J&&J instanceof HTMLElement&&setTimeout(()=>{J.focus()},0)}catch(J){console.error("Error updating task text:",J)}}function $(){const G=E(g);P(y,!1),P(x,null),P(w,""),P(A,null),P(g,null),G&&G instanceof HTMLElement&&setTimeout(()=>{G.focus()},0)}async function De(G){E(g),await je(G),setTimeout(()=>{const ie=document.activeElement;E(j)&&(!ie||!E(j).contains(ie))&&ke(20,10)},10)}function Oe(G){const ie=G?.currentTarget||G?.target;if(ie){const J=ie.getBoundingClientRect();P(M,{top:J.top,left:J.left,width:J.width,height:J.height},!0),P(C,ie,!0)}P(L,!0)}function Ce(G){if(G.key==="Enter"||G.key===" "){G.preventDefault(),G.stopPropagation();const ie=G.currentTarget;if(ie){const J=ie.getBoundingClientRect();P(M,{top:J.top,left:J.left,width:J.width,height:J.height},!0),P(C,ie,!0),P(L,!0)}}}async function ze(G,ie){try{await th(G,ie),P(L,!1);const J=E(C);P(M,null),P(C,null),J&&J instanceof HTMLElement&&setTimeout(()=>{J.focus()},0)}catch(J){console.error("Error updating list name:",J)}}function Fe(){const G=E(C);P(L,!1),P(M,null),P(C,null),G&&G instanceof HTMLElement&&setTimeout(()=>{G.focus()},0)}var dt=Lv(),qe=Pt(dt),Ve=me(qe);Ve.__click=Oe,Ve.__keydown=Ce;var Le=me(Ve),yt=ge(Ve,2);{var mt=G=>{var ie=sr(),J=Pt(ie);{var ce=Re=>{Ao(Re,{get inputValue(){return r.newTaskInput},get onInputChange(){return r.onInputChange},onSave:he,onEscape:pe,onActivate:se,buttonText:"Add your first task",placeholder:"Add new task...",get ariaLabel(){return`Add your first task to ${r.listName??""}`},marginLeft:!0,get isInputActive(){return E(m)},set isInputActive(ye){P(m,ye,!0)},get containerElement(){return E(V)},set containerElement(ye){P(V,ye,!0)},get textareaElement(){return E(Q)},set textareaElement(ye){P(Q,ye,!0)}})},ue=Re=>{var ye=Rv(),gt=me(ye);ns(gt,21,()=>E(h),nt=>nt.id,(nt,We)=>{var bn=Pv(),xe=ge(me(bn),2);xe.__change=()=>_e(E(We).id,E(We).status);var St=ge(xe,2);St.__click=un=>Qe(E(We).id,E(We).text,un),St.__keydown=un=>pt(E(We).id,E(We).text,un);var Pa=me(St),sn=ge(St,2);{var Ra=un=>{var Fr=Cv();Fr.__click=()=>je(E(We).id),Tt(()=>Ft(Fr,"aria-label",`Archive task: ${E(We).text||"blank task"}`)),Ae(un,Fr)};ut(sn,un=>{E(We).status==="checked"&&un(Ra)})}Tt(()=>{Ft(bn,"data-id",E(We).id),Hd(xe,E(We).status==="checked"),Ft(xe,"aria-label",`Mark task "${E(We).text||"blank task"}" as ${E(We).status==="checked"?"unchecked":"checked"}`),jd(St,1,Kd(E(We).status==="checked"?"line-through cursor-pointer hover:underline break-words":"cursor-pointer hover:underline break-words")),jt(St,`width: ${Mr}px;`),Ft(St,"aria-label",`Edit task: ${E(We).text||"blank task"}`),Ln(Pa,E(We).text||"")}),Ae(nt,bn)}),on(gt,nt=>P(D,nt),()=>E(D)),Ld(gt,(nt,We)=>gv?.(nt,We),()=>({items:E(h),type:`list-${r.listId}`}));var U=ge(gt,2);Ao(U,{get inputValue(){return r.newTaskInput},get onInputChange(){return r.onInputChange},onSave:he,onEscape:pe,onActivate:se,buttonText:"Add Task",placeholder:"Add new task...",get ariaLabel(){return`Add new task to ${r.listName??""}`},marginLeft:!0,get isInputActive(){return E(m)},set isInputActive(nt){P(m,nt,!0)},get containerElement(){return E(V)},set containerElement(nt){P(V,nt,!0)},get textareaElement(){return E(Q)},set textareaElement(nt){P(Q,nt,!0)}}),du("consider",gt,X),du("finalize",gt,ae),Ae(Re,ye)};ut(J,Re=>{a().length===0?Re(ce):Re(ue,!1)})}Ae(G,ie)},_n=G=>{var ie=Mv(),J=ge(Pt(ie),2);Ao(J,{get inputValue(){return r.newTaskInput},get onInputChange(){return r.onInputChange},onSave:he,onEscape:pe,onActivate:se,buttonText:"Add Task",placeholder:"Add new task...",get ariaLabel(){return`Add new task to ${r.listName??""}`},marginLeft:!0,get isInputActive(){return E(m)},set isInputActive(ce){P(m,ce,!0)},get containerElement(){return E(V)},set containerElement(ce){P(V,ce,!0)},get textareaElement(){return E(Q)},set textareaElement(ce){P(Q,ce,!0)}}),Ae(G,ie)};ut(yt,G=>{E(f)&&a()!==void 0?G(mt):G(_n,!1)})}on(qe,G=>P(j,G),()=>E(j));var fr=ge(qe,2);xv(fr,{get isOpen(){return E(y)},get taskId(){return E(x)},get taskText(){return E(w)},get taskPosition(){return E(A)},onSave:ft,onCancel:$,onArchive:De});var dr=ge(fr,2);Dv(dr,{get isOpen(){return E(L)},get listId(){return r.listId},get listName(){return r.listName},get listPosition(){return E(M)},onSave:ze,onCancel:Fe}),Tt(()=>{Ft(qe,"data-list-id",r.listId),Ft(Ve,"aria-label",`Rename list: ${r.listName}`),Ln(Le,r.listName)}),Ae(e,dt),Vn(),l()}cr(["click","keydown","change"]);var Kv=Me('<div role="dialog" aria-modal="true" aria-labelledby="modal-title" tabindex="-1" class="fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50"><div class="bg-white text-gray-900 p-6 rounded-xl shadow-2xl border border-gray-200 max-w-md w-full mx-4"><h3 id="modal-title" class="text-lg font-semibold mb-4"> </h3> <p class="mb-6 text-sm text-gray-600"> </p> <div class="flex justify-end gap-3"><button class="px-4 py-2 border border-gray-300 rounded hover:bg-gray-50">Cancel</button> <button class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700">Delete</button></div></div></div>');function Fv(e,r){zn(r,!0);function a(){r.onConfirm()}function s(){r.onCancel()}function l(x){x.target===x.currentTarget&&s()}function f(x){x.key==="Escape"&&s()}var h=sr(),m=Pt(h);{var y=x=>{var w=Kv();w.__click=l,w.__keydown=f;var A=me(w),g=me(A),D=me(g),L=ge(g,2),M=me(L),C=ge(L,2),j=me(C);j.__click=s;var V=ge(j,2);V.__click=a,Tt(()=>{Ln(D,r.title),Ln(M,r.message)}),Ae(x,w)};ut(m,x=>{r.isOpen&&x(y)})}Ae(e,h),Vn()}cr(["click","keydown"]);var Bv=Me("<p>No archived tasks</p>"),jv=Me('<li class="flex items-center gap-3 mb-2"><span class="line-through"> </span> <span class="text-sm text-gray-500"> </span> <span class="text-sm text-gray-400"> </span> <button class="px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm">Restore</button> <button class="px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 text-sm">Delete</button></li>'),zv=Me("<ul></ul>"),Vv=Me('<div class="mt-8 print:hidden"><h2 class="text-xl font-semibold mb-4">Archived Tasks</h2> <!></div> <!>',1);function Hv(e,r){zn(r,!0);const a=()=>sa(E(m),"$listsQuery",l),s=()=>sa(E(h),"$archivedTasksQuery",l),[l,f]=ds();let h=le(null),m=le(null),y=le(!1),x=le(null);Ye(()=>{Ko(P(h,la(()=>rh()),!0),"$archivedTasksQuery",l),Ko(P(m,la(()=>Al()),!0),"$listsQuery",l)});function w(ae){if(!a())return"Unknown List";const se=a().find(pe=>pe.id===ae);return se?se.name:"Unknown List"}function A(ae){return ae?new Date(ae).toLocaleString():"Unknown"}async function g(ae){try{await ah(ae)}catch(se){console.error("Error restoring task:",se)}}function D(ae,se){P(x,{id:ae,text:se},!0),P(y,!0)}async function L(){if(E(x))try{await sh(E(x).id),P(y,!1),P(x,null)}catch(ae){console.error("Error deleting task:",ae)}}function M(){P(y,!1),P(x,null)}var C=Vv(),j=Pt(C),V=ge(me(j),2);{var Q=ae=>{var se=sr(),pe=Pt(se);{var he=fe=>{var be=Bv();Ae(fe,be)},_e=fe=>{var be=zv();ns(be,5,s,el,(ke,je)=>{var Qe=jv(),pt=me(Qe),ft=me(pt),$=ge(pt,2),De=me($),Oe=ge($,2),Ce=me(Oe),ze=ge(Oe,2);ze.__click=()=>g(E(je).id);var Fe=ge(ze,2);Fe.__click=()=>D(E(je).id,E(je).text),Tt((dt,qe)=>{Ln(ft,E(je).text),Ln(De,`(${dt??""})`),Ln(Ce,`Archived: ${qe??""}`)},[()=>w(E(je).listId),()=>A(E(je).archivedAt)]),Ae(ke,Qe)}),Ae(fe,be)};ut(pe,fe=>{s().length===0?fe(he):fe(_e,!1)})}Ae(ae,se)};ut(V,ae=>{E(h)&&s()&&ae(Q)})}var X=ge(j,2);{let ae=oi(()=>E(x)?`Are you sure you want to permanently delete "${E(x).text}"? This action cannot be undone.`:"");Fv(X,{get isOpen(){return E(y)},title:"Delete Task",get message(){return E(ae)},onConfirm:L,onCancel:M})}Tt(()=>jt(j,`width: ${Yo}px;`)),Ae(e,C),Vn(),f()}cr(["click"]);var Uv=Me("<p>Loading...</p>"),Wv=Me("<p>No lists found</p>"),Gv=Me('<h2 class="mt-4 print:hidden"><div class="flex items-center gap-2"><input type="text" class="create-list-input cursor-pointer hover:underline svelte-1n46o8q" placeholder="List name..." aria-label="Enter list name"/> <button class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm" aria-label="Create list">Save</button></div></h2>'),Yv=Me('<h2 role="button" tabindex="0" class="cursor-pointer hover:underline print:hidden mt-4" aria-label="Create new list">Create new list</h2>'),qv=Me('<div class="flex items-center gap-2 p-2 border rounded hover:bg-gray-50 w-fit print:hidden mt-2" style="margin-left: 1.5rem;"><span class="drag-handle text-gray-400 select-none" aria-hidden="true" style="visibility: hidden;"></span> <input type="checkbox" disabled class="cursor-pointer opacity-0" aria-hidden="true" tabindex="-1"/> <div class="flex gap-2"><textarea placeholder="Add new task..." class="flex-none break-words resize-none min-h-[2.5rem] max-h-[10rem] overflow-y-auto" rows="1"></textarea> <button aria-label="Save new task">Save</button></div></div>'),Zv=Me('<div class="flex items-center gap-2 p-2 border rounded hover:bg-gray-50 w-fit print:hidden mt-2" style="margin-left: 1.5rem;"><span class="drag-handle text-gray-400 select-none" aria-hidden="true" style="visibility: hidden;"></span> <input type="checkbox" disabled class="cursor-pointer opacity-0" aria-hidden="true" tabindex="-1"/> <span class="cursor-pointer hover:underline break-words" role="button" tabindex="0" aria-label="Add a task">Add a task</span></div>'),Qv=Me("<!> <!> <!>",1),Xv=Me('<main class="min-h-screen flex flex-col items-center justify-center bg-gray-50 print:bg-white print:min-h-0 print:gap-0 print:py-0 gap-4 py-8 svelte-1n46o8q"><div class="flex justify-end print:hidden"><button class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Print</button></div> <div class="bg-gray-400 print:bg-gray-400 border-2 border-gray-300 shadow-lg print:shadow-none print:border-0 print:mx-auto relative"><div class="absolute inset-[16px] border border-red-600" style="border-color: rgb(220, 38, 38);"><div class="w-full h-full p-4 overflow-auto"><!></div></div></div> <!></main>');function $v(e,r){zn(r,!0);const a=()=>sa(f,"$lists",s),[s,l]=ds();let f=la(()=>Al()),h=le(rn({})),m=le(!1),y=le(""),x=le(null),w=le(!1),A=le(""),g=le(null);Ye(()=>{if(a()&&Array.isArray(a())&&a().length>0&&Object.keys(E(h)).length===0){const $={};for(const De of a())$[De.id]="";P(h,$,!0)}}),Ye(()=>{if(a()&&Array.isArray(a())&&a().length>0){const $={...E(h)};let De=!1;for(const Oe of a())Oe.id in $||($[Oe.id]="",De=!0);De&&P(h,$,!0)}});function D($,De){E(h)[$]=De}function L(){window.print()}async function M($){await oa();for(let De=0;De<Pu;De++){const Oe=document.querySelector(`[data-list-id="${$}"]`);if(!Oe){await new Promise(Fe=>setTimeout(Fe,Do));continue}const Ce=Oe.querySelector(".add-task-container");if(!Ce){await new Promise(Fe=>setTimeout(Fe,Do));continue}const ze=Ce.querySelector('span[role="button"]');if(!ze||!(ze instanceof HTMLElement)){await new Promise(Fe=>setTimeout(Fe,Do));continue}ze.click();return}console.warn(`Could not activate Add Task input for list ${$} after ${Pu} attempts`)}function C(){P(m,!0)}function j($){($.key==="Enter"||$.key===" ")&&($.preventDefault(),$.stopPropagation(),C())}function V($){$.key==="Escape"&&(P(m,!1),P(y,""))}Ye(()=>{if(E(m))return qo(E(x),()=>{E(m)&&(P(m,!1),P(y,""))},{checkIgnoreClick:$=>{const De=$.target.closest("button");return De&&De.textContent?.trim()==="Save"},shouldClose:()=>!E(y)||E(y).trim()===""})}),Ye(()=>{E(m)&&E(x)&&setTimeout(()=>{E(x)?.focus()},0)});async function Q(){const $=E(y)||"";if(Zo($)){P(m,!1),P(y,"");return}const{text:De,isBlank:Oe}=Qo($);if(Oe){P(m,!1),P(y,"");return}try{const Ce=await Jd(De);P(y,""),P(m,!1),await M(Ce)}catch(Ce){console.error("Error creating list:",Ce)}}function X(){P(w,!0)}function ae($){$.key==="Escape"&&(P(w,!1),P(A,""))}Ye(()=>{if(E(w))return qo(E(g),()=>{E(w)&&(P(w,!1),P(A,""))},{checkIgnoreClick:$=>{const De=$.target.closest("button");return De&&De.textContent?.trim()==="Save"},shouldClose:()=>!E(A)||E(A).trim()===""})}),Ye(()=>{E(w)&&E(g)&&setTimeout(()=>{E(g)?.focus(),E(g)instanceof HTMLTextAreaElement&&(E(g).style.height="auto",E(g).style.height=`${Math.min(E(g).scrollHeight,Rr)}px`)},0)}),Ye(()=>{if(E(g)&&E(g)instanceof HTMLTextAreaElement){const $=()=>{E(g).style.height="auto",E(g).style.height=`${Math.min(E(g).scrollHeight,Rr)}px`};return E(g).addEventListener("input",$),()=>{E(g).removeEventListener("input",$)}}});async function se(){const $=E(A)||"";if(Zo($)){P(w,!1),P(A,"");return}const{text:De}=Qo($);try{const Oe=await Sl(null,De);P(A,""),P(w,!1);const ze=(await Pe.tasks.get(Oe))?.listId;ze&&await M(ze)}catch(Oe){console.error("Error creating task in unnamed list:",Oe)}}var pe=Xv(),he=me(pe),_e=me(he);_e.__click=L;var fe=ge(he,2),be=me(fe),ke=me(be),je=me(ke);{var Qe=$=>{var De=Uv();Ae($,De)},pt=$=>{var De=sr(),Oe=Pt(De);{var Ce=Fe=>{var dt=Wv();Ae(Fe,dt)},ze=Fe=>{var dt=sr(),qe=Pt(dt);{var Ve=Le=>{var yt=Qv(),mt=Pt(yt);ns(mt,1,a,el,(ce,ue)=>{{let Re=oi(()=>E(ue).name??"Unnamed list"),ye=oi(()=>E(h)[E(ue).id]||"");Nv(ce,{get listId(){return E(ue).id},get listName(){return E(Re)},get newTaskInput(){return E(ye)},onInputChange:gt=>D(E(ue).id,gt)})}});var _n=ge(mt,2);{var fr=ce=>{var ue=Gv(),Re=me(ue),ye=me(Re);ye.__keydown=U=>{U.key==="Enter"&&!U.shiftKey?(U.preventDefault(),Q()):U.key==="Escape"&&V(U)},on(ye,U=>P(x,U),()=>E(x));var gt=ge(ye,2);gt.__click=Q,fs(ye,()=>E(y),U=>P(y,U)),Ae(ce,ue)},dr=ce=>{var ue=Yv();ue.__click=C,ue.__keydown=j,Ae(ce,ue)};ut(_n,ce=>{E(m)?ce(fr):ce(dr,!1)})}var G=ge(_n,2);{var ie=ce=>{var ue=qv(),Re=ge(me(ue),4),ye=me(Re);ye.__input=U=>P(A,U.currentTarget.value,!0),ye.__keydown=U=>{U.key==="Enter"&&!U.shiftKey?(U.preventDefault(),se()):U.key==="Escape"&&ae(U)},on(ye,U=>P(g,U),()=>E(g));var gt=ge(ye,2);gt.__click=se,Tt(()=>{kl(ye,E(A)),jt(ye,`width: ${Mr}px;`)}),Ae(ce,ue)},J=ce=>{var ue=Zv(),Re=ge(me(ue),4);Re.__click=X,Re.__keydown=ye=>{(ye.key==="Enter"||ye.key===" ")&&(ye.preventDefault(),X())},Tt(()=>jt(Re,`width: ${Mr}px;`)),Ae(ce,ue)};ut(G,ce=>{E(w)?ce(ie):ce(J,!1)})}Ae(Le,yt)};ut(qe,Le=>{Array.isArray(a())&&Le(Ve)},!0)}Ae(Fe,dt)};ut(Oe,Fe=>{Array.isArray(a())&&a().length===0?Fe(Ce):Fe(ze,!1)},!0)}Ae($,De)};ut(je,$=>{a()===void 0||a()===null?$(Qe):$(pt,!1)})}var ft=ge(fe,2);Hv(ft,{}),Tt(()=>{jt(he,`width: ${Yo}px;`),jt(fe,`width: ${Yo}px; height: ${bv}px;`)}),Ae(e,pe),Vn(),l()}cr(["click","keydown","input"]);const Jv=[{name:"Work",order:0},{name:"Personal",order:1},{name:"Shopping",order:2}],ep=[{text:"Review project proposal",listId:1,order:0,status:"unchecked"},{text:"Team meeting prep",listId:1,order:1,status:"unchecked"},{text:"Update documentation",listId:1,order:2,status:"unchecked"},{text:"Call dentist",listId:2,order:0,status:"unchecked"},{text:"Exercise",listId:2,order:1,status:"unchecked"},{text:"Buy groceries",listId:3,order:0,status:"unchecked"},{text:"Pick up dry cleaning",listId:3,order:1,status:"unchecked"}];async function tp(){try{if(await Pe.lists.count()>0)return;await Pe.lists.bulkAdd(Jv),await Pe.tasks.bulkAdd(ep),console.log("Database seeded with mock data")}catch(e){throw console.error("Error seeding database:",e),e}}(async()=>(await tp().catch(console.error),Cd($v,{target:document.getElementById("app")})))();
